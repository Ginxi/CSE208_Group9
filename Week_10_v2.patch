Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/categoriesFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/categoriesFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/categoriesFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of categoriesFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class categoriesFilter implements Filter {
+    private String myCategories;
+
+    public categoriesFilter(String categories) {
+        myCategories = categories;
+    }
+
+    public boolean satisfies(String id) {
+        String categories = RestaurantDatabase.getCategories(id);
+        return categories.indexOf(myCategories) != -1;
+    }
+}
Index: app/src/main/res/layout/activity_special_search_main_page.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_special_search_main_page.xml	(revision )
+++ app/src/main/res/layout/activity_special_search_main_page.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context=".SpecialSearchMainPage">
+
+
+    <include layout="@layout/content_special_search_main_page" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/content_mrestaurant.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_mrestaurant.xml	(revision )
+++ app/src/main/res/layout/content_mrestaurant.xml	(revision )
@@ -0,0 +1,177 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@drawable/bgfr"
+    android:orientation="vertical"
+    android:weightSum="1"
+
+    >
+
+
+    <Button
+        android:id="@+id/back"
+        android:layout_width="44dp"
+        android:layout_height="wrap_content"
+        android:background="#00000000"
+        android:drawableLeft="@drawable/back" />
+
+    <ImageView
+
+        android:id="@+id/imageView"
+        android:layout_width="403dp"
+        android:layout_height="258dp"
+        android:background="@drawable/xlxr" />
+
+    <TableLayout
+        android:id="@+id/score"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:padding="3dip"
+        android:stretchColumns="*">
+
+        <TableRow>
+
+            <EditText
+                android:id="@+id/ServiceScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:drawableLeft="@drawable/service"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/EnvironScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:drawableLeft="@drawable/environment"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/TasteScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:drawableLeft="@drawable/taste"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+        </TableRow>
+    </TableLayout>
+
+    <TableLayout
+        android:layout_width="match_parent"
+        android:layout_height="196dp"
+        android:layout_weight="0.39"
+        android:gravity="center_vertical"
+        android:orientation="vertical"
+        android:stretchColumns="0,4">
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+        </TableRow>
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_column="1"
+                android:text="Address:"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/address"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_column="3"
+                android:drawableRight="@drawable/address"
+                android:minWidth="350px"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <TextView android:layout_column="4" />
+
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+        </TableRow>
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Phone Number"
+                android:textSize="30px"
+
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/phoneNum"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_column="3"
+                android:drawableRight="@drawable/phone"
+                android:minWidth="350px"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <TextView android:layout_column="4" />
+
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <Button
+                android:id="@+id/transportation"
+                android:layout_column="1"
+                android:layout_span="3"
+                android:background="#00000000"
+                android:drawableRight="@drawable/trspt"
+                android:text="View Transportation"
+                android:textAllCaps="false"
+                android:textColor="#1e1f1f"
+                android:textSize="40px"
+                android:textStyle="bold" />
+        </TableRow>
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView />
+
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+        </TableRow>
+    </TableLayout>
+
+</LinearLayout>
+
+
+
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalAccount.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalAccount.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalAccount.java	(revision )
@@ -0,0 +1,15 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+public class personalAccount extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_personal_account);
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ResourceException.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ResourceException.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ResourceException.java	(revision )
@@ -0,0 +1,22 @@
+/*
+ * To change this license header, choose License Headers in Project Properties.
+ * To change this template file, choose Tools | Templates
+ * and open the template in the editor.
+ */
+package com.example.sihan.restaurantrecommendation.Function;
+
+/**
+ * @author Ginxi
+ */
+public class ResourceException extends RuntimeException {
+
+    private static final long serialVersionUID = 1L;
+
+    public ResourceException(String message) {
+        super(message);
+    }
+
+    public ResourceException(String message, Throwable cause) {
+        super(message, cause);
+    }
+}
Index: app/src/main/res/layout/activity_additional_function.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_additional_function.xml	(revision )
+++ app/src/main/res/layout/activity_additional_function.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.AdditionalFunction">
+
+    <include layout="@layout/content_additional_function" />
+
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Register.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Register.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Register.java	(revision )
@@ -0,0 +1,71 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.ContentValues;
+import android.content.Intent;
+import android.database.sqlite.SQLiteDatabase;
+import android.database.sqlite.SQLiteException;
+import android.database.sqlite.SQLiteOpenHelper;
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+import android.view.View;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.Toast;
+
+import com.example.sihan.restaurantrecommendation.Function.User;
+import com.example.sihan.restaurantrecommendation.R;
+
+public class Register extends AppCompatActivity {
+    SQLiteOpenHelper helper;
+    private EditText etid, etname;
+    private Button btn_qu, btn_sure;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_register);
+        helper = new Sqliteopenhelper(this);
+        helper.getWritableDatabase();
+        etid = (EditText) findViewById(R.id.createAccount);
+        etname = (EditText) findViewById(R.id.createPassword);
+        btn_qu = (Button) findViewById(R.id.btn_qu);
+        btn_sure = (Button) findViewById(R.id.signNewAccount);
+        btn_sure.setOnClickListener(new sureListener());
+        btn_qu.setOnClickListener(new quListener());
+
+    }
+
+    class sureListener implements View.OnClickListener {
+
+        @Override
+        public void onClick(View v) {
+            // TODO Auto-generated method stub
+            try {
+                SQLiteDatabase sdb = helper.getWritableDatabase();
+                ContentValues values = new ContentValues();
+                values.put("id", etid.getText().toString());
+                values.put("name", etname.getText().toString());
+                sdb.insert("student", null, values);
+                Toast.makeText(getApplicationContext(), "Sign successfully!", Toast.LENGTH_SHORT).show();
+                Intent intent = new Intent(Register.this, User.class);
+                Bundle bundle = new Bundle();
+                bundle.putString("name", etname.getText().toString());
+                intent.putExtras(bundle);
+                startActivity(intent);
+            } catch (SQLiteException e) {
+                Toast.makeText(getApplicationContext(), "Sign Failed!", Toast.LENGTH_SHORT).show();
+            }
+        }
+    }
+
+    class quListener implements View.OnClickListener {
+
+        @Override
+        public void onClick(View v) {
+            // TODO Auto-generated method stub
+            Intent intent = new Intent(Register.this, Login.class);
+            startActivity(intent);
+        }
+
+    }
+}
Index: app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentRange.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentRange.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentRange.java	(revision )
@@ -0,0 +1,53 @@
+package sunger.net.org.dropmenu.fragment;
+
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.AdapterView;
+import android.widget.ListView;
+
+import java.util.Arrays;
+
+import sunger.net.org.dropmenu.adapter.FilterAdapter;
+import sunger.net.org.dropmenu.new_drop;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class FragmentRange extends Fragment {
+    ListView listView;
+    FilterAdapter adapter;
+    private String range[] = {"Nearest", "Furthest"};
+    private new_drop newdrop;
+
+    @Override
+    public void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        newdrop = (new_drop) getActivity();
+    }
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        listView = new ListView(getActivity());
+        return listView;
+    }
+
+    @Override
+    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
+        super.onViewCreated(view, savedInstanceState);
+        listView.setDividerHeight(0);
+        adapter = new FilterAdapter(getActivity(), Arrays.asList(range));
+        listView.setAdapter(adapter);
+        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+            @Override
+            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+                newdrop.onFilter(2, range[position]);
+                adapter.setCheckItem(position);
+            }
+        });
+    }
+}
Index: app/src/main/res/layout/activity_mannual_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_mannual_search.xml	(revision )
+++ app/src/main/res/layout/activity_mannual_search.xml	(revision )
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.MannualSearch">
+
+    <include layout="@layout/content_mannual_search" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalSearch.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalSearch.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/personalSearch.java	(revision )
@@ -0,0 +1,14 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+
+public class personalSearch extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_personal_search);
+    }
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/PersoanlData.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/PersoanlData.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/PersoanlData.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+import android.view.View;
+
+public class PersoanlData extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_persoanl_data);
+        findViewById(com.example.sihan.restaurantrecommendation.R.id.start).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                startActivity(new Intent(PersoanlData.this, SpecialActivitySearch.class));
+            }
+        });
+    }
+}
Index: app/src/main/res/values/ids.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/ids.xml	(revision )
+++ app/src/main/res/values/ids.xml	(revision )
@@ -0,0 +1,4 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <item name="menu_id" type="id" />
+</resources>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/SpecialActivitySearch.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/SpecialActivitySearch.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/SpecialActivitySearch.java	(revision )
@@ -0,0 +1,71 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.app.TabActivity;
+import android.content.Intent;
+import android.os.Bundle;
+import android.widget.RadioButton;
+import android.widget.RadioGroup;
+import android.widget.TabHost;
+
+public class SpecialActivitySearch extends TabActivity {
+    private TabHost tabhost;
+    private RadioGroup special_radiogroup;
+    private RadioButton Mannual;
+    private RadioButton Personal;
+    private RadioButton More;
+
+
+    public SpecialActivitySearch() {
+    }
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_special_activity_search);
+        special_radiogroup = (RadioGroup) findViewById(com.example.sihan.restaurantrecommendation.R.id.special_radiogroup);
+
+        Mannual = (RadioButton) findViewById(com.example.sihan.restaurantrecommendation.R.id.MannualSearch);
+        Personal = (RadioButton) findViewById(com.example.sihan.restaurantrecommendation.R.id.PersonalSearch);
+        More = (RadioButton) findViewById(com.example.sihan.restaurantrecommendation.R.id.MoreFunction);
+        this.tabhost = this.getTabHost();
+        tabhost.addTab(tabhost.newTabSpec("tag1").setIndicator("0").setContent(new Intent(this, personalSearch.class)));
+        tabhost.addTab(tabhost.newTabSpec("tag2").setIndicator("1").setContent(new Intent(this, new_man.class)));
+        tabhost.addTab(tabhost.newTabSpec("tag3").setIndicator("2").setContent(new Intent(this, AdditionalFunction.class)));
+        checkListener checkradio = new checkListener();
+        special_radiogroup.setOnCheckedChangeListener(checkradio);
+    }
+
+
+    //监听类
+    public class checkListener implements RadioGroup.OnCheckedChangeListener {
+        public checkListener() {
+        }
+
+        @Override
+        public void onCheckedChanged(RadioGroup group, int checkedId) {
+            // TODO Auto-generated method stub
+            //setCurrentTab 通过标签索引设置当前显示的内容
+            //setCurrentTabByTag 通过标签名设置当前显示的内容
+            switch (checkedId) {
+                case com.example.sihan.restaurantrecommendation.R.id.PersonalSearch:
+                    SpecialActivitySearch.this.tabhost.setCurrentTab(0);
+                    startActivity(new Intent(SpecialActivitySearch.this, User_MainActivity.class));
+                    //或
+                    //tabhost.setCurrentTabByTag("tag1");
+                    break;
+                case com.example.sihan.restaurantrecommendation.R.id.MannualSearch:
+                    SpecialActivitySearch.this.tabhost.setCurrentTab(1);
+                    break;
+                case com.example.sihan.restaurantrecommendation.R.id.MoreFunction:
+                    SpecialActivitySearch.this.tabhost.setCurrentTab(2);
+                    break;
+            }
+
+
+        }
+    }
+
+
+}
+
+
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Login.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Login.java	(revision )
@@ -0,0 +1,102 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Intent;
+import android.database.Cursor;
+import android.database.sqlite.SQLiteDatabase;
+import android.database.sqlite.SQLiteException;
+import android.database.sqlite.SQLiteOpenHelper;
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+import android.view.View;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.Toast;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+public class Login extends AppCompatActivity {
+    SQLiteOpenHelper helper;
+    private EditText et_id, et_name;
+    private Button btn_test, btn_local;
+    private String _id;
+    private String _name;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_login);
+        helper = new Sqliteopenhelper(this);
+        helper.getWritableDatabase();
+        et_id = (EditText) findViewById(R.id.Account);
+        et_name = (EditText) findViewById(R.id.passwordin);
+        btn_test = (Button) findViewById(R.id.signUp);
+        btn_local = (Button) findViewById(R.id.login);
+
+        btn_test.setOnClickListener(new testListener());
+        btn_local.setOnClickListener(new localListener());
+
+        findViewById(R.id.useAsVisitor).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                startActivity(new Intent(Login.this, new_man.class));
+
+            }
+        });
+
+    }
+
+    private void sureuser(String userid, String username) {
+        //3,数据库的操作，查询
+        SQLiteDatabase sdb = helper.getReadableDatabase();
+        try {
+
+            String sql = "select * from student where id=? and name=?";
+            // 实现遍历id和name
+            Cursor cursor = sdb.rawQuery(sql, new String[]{_id, _name});
+            if (cursor.getCount() > 0) {
+                Intent intent = new Intent(Login.this, MainMenu.class);
+                Bundle bundle = new Bundle();
+                bundle.putString("name", _name);
+                intent.putExtras(bundle);
+                startActivity(intent);
+            } else {
+                Toast.makeText(getApplicationContext(), "Login failed",
+                        Toast.LENGTH_SHORT).show();
+            }
+            cursor.close();
+            sdb.close();
+        } catch (SQLiteException e) {
+            Toast.makeText(getApplicationContext(), "Please sign up!",
+                    Toast.LENGTH_SHORT).show();
+        }
+    }
+    //登陆按钮
+
+    class testListener implements View.OnClickListener {
+        @Override
+        public void onClick(View v) {
+            // TODO Auto-generated method stub
+            Intent intent = new Intent(Login.this, Register.class);
+            startActivity(intent);
+        }
+
+    }
+
+    class localListener implements View.OnClickListener {
+
+        @Override
+        public void onClick(View v) {
+            // TODO Auto-generated method stub
+            _id = et_id.getText().toString();
+            _name = et_name.getText().toString();
+            if (_name.equals("") || _id.equals("")) {
+                Toast.makeText(getApplicationContext(), "Please input password:",
+                        Toast.LENGTH_SHORT).show();
+            } else {
+                sureuser(_id, _name);
+            }
+        }
+
+    }
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainFragment.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainFragment.java	(revision )
@@ -0,0 +1,18 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.os.Bundle;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+public class User_MainFragment extends Fragment {
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        View rootView = inflater.inflate(R.layout.fragment_main, container, false);
+        return rootView;
+    }
+}
Index: app/src/main/res/layout/activity_personal_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_personal_search.xml	(revision )
+++ app/src/main/res/layout/activity_personal_search.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.personalSearch">
+
+    <include layout="@layout/content_personal_search" />
+
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/fragment_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_main.xml	(revision )
+++ app/src/main/res/layout/fragment_main.xml	(revision )
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<io.codetail.widget.RevealFrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <FrameLayout
+        android:id="@+id/container"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <ImageView
+            android:id="@+id/image_content"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:scaleType="fitXY"
+            android:src="@drawable/content_films" />
+
+    </FrameLayout>
+</io.codetail.widget.RevealFrameLayout>
\ No newline at end of file
Index: app/src/main/res/layout/new_man.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/new_man.xml	(revision )
+++ app/src/main/res/layout/new_man.xml	(revision )
@@ -0,0 +1,157 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical">
+
+    <android.support.v4.widget.DrawerLayout xmlns:android="http://schemas.android.com/apk/res/android"
+        android:id="@+id/drawer_layout"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <io.codetail.widget.RevealFrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+            android:id="@+id/conteiner_frame"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <LinearLayout
+                android:id="@+id/content_overlay"
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="vertical" />
+
+            <LinearLayout
+                android:id="@+id/content_frame"
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="vertical" />
+
+            <android.support.v7.widget.Toolbar
+                android:id="@+id/man_toolbar"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:background="?attr/colorPrimary"
+                android:minHeight="?attr/actionBarSize" />
+
+            <LinearLayout
+                android:layout_width="fill_parent"
+                android:layout_height="50dp"
+                android:layout_marginLeft="55dp"
+                android:layout_marginRight="5dp"
+                android:layout_marginTop="10dp"
+                android:background="#FFFFFF"
+                android:orientation="horizontal">
+
+                <EditText
+                    android:id="@+id/et_search1"
+                    android:layout_width="match_parent"
+                    android:layout_height="fill_parent"
+                    android:layout_marginLeft="10dp"
+                    android:layout_weight="4"
+                    android:background="@null"
+                    android:gravity="center_vertical"
+                    android:hint="Search"
+                    android:imeOptions="actionSearch"
+                    android:singleLine="true"
+                    android:textColor="#0e0e0e"
+                    android:textColorHint="#b0c6ce"
+                    android:textSize="17sp" />
+
+                <Button
+                    android:id="@+id/searchField"
+                    android:layout_width="80px"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="left"
+                    android:background="@drawable/search" />
+
+            </LinearLayout>
+        </io.codetail.widget.RevealFrameLayout>
+
+        <LinearLayout
+            android:id="@+id/Paihangbang_item"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="80dp"
+            android:orientation="horizontal"
+
+            >
+
+            <LinearLayout
+                android:id="@+id/Paihangbang_top2"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginBottom="5dp"
+                android:layout_marginLeft="3dp"
+                android:layout_marginRight="3dp"
+                android:layout_marginTop="5dp"
+                android:layout_weight="1"
+                android:background="#FFFFFF">
+
+                <Spinner
+                    android:id="@+id/spinnerAverage"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_weight="1"
+                    android:entries="@array/Average" />
+            </LinearLayout>
+
+            <LinearLayout
+                android:id="@+id/Paihangbang_top3"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginBottom="5dp"
+                android:layout_marginLeft="3dp"
+                android:layout_marginRight="3dp"
+                android:layout_marginTop="5dp"
+                android:layout_weight="1"
+                android:background="#FFFFFF">
+
+                <Spinner
+                    android:id="@+id/spinnerDistance"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_weight="1"
+                    android:entries="@array/Distance" />
+
+            </LinearLayout>
+
+            <LinearLayout
+                android:id="@+id/Paihangbang_top4"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginBottom="5dp"
+                android:layout_marginLeft="3dp"
+                android:layout_marginRight="3dp"
+                android:layout_marginTop="5dp"
+                android:layout_weight="1"
+                android:background="#FFFFFF">
+
+                <Spinner
+                    android:id="@+id/spinnerDestination"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_weight="1"
+                    android:entries="@array/Destination" />
+            </LinearLayout>
+        </LinearLayout>
+
+        <ScrollView
+            android:id="@+id/scrollView"
+            android:layout_width="80dp"
+            android:layout_height="match_parent"
+            android:layout_gravity="start|bottom"
+            android:scrollbarThumbVertical="@android:color/transparent">
+
+            <LinearLayout
+                android:id="@+id/left_drawer"
+                android:layout_width="80dp"
+                android:layout_height="wrap_content"
+                android:background="@android:color/transparent"
+                android:divider="@android:color/transparent"
+                android:dividerHeight="0dp"
+                android:orientation="vertical">
+                <!-- Layout of Drawer -->
+            </LinearLayout>
+        </ScrollView>
+    </android.support.v4.widget.DrawerLayout>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Filter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Filter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Filter.java	(revision )
@@ -0,0 +1,12 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of Filter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public interface Filter {
+    boolean satisfies(String id);
+}
Index: app/src/main/res/drawable/check_bg.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/check_bg.xml	(revision )
+++ app/src/main/res/drawable/check_bg.xml	(revision )
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <corners android:radius="2dp" />
+    <stroke
+        android:width="1dp"
+        android:color="@color/drop_down_selected" />
+    <solid android:color="@color/white" />
+
+</shape>
\ No newline at end of file
Index: app/src/main/res/layout/activity_personal_account.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_personal_account.xml	(revision )
+++ app/src/main/res/layout/activity_personal_account.xml	(revision )
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical">
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:background="#FFFFFF"
+        android:gravity="center_vertical">
+
+        <TextView
+            android:id="@+id/My_register"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:paddingBottom="10dp"
+            android:paddingLeft="12dp"
+            android:paddingRight="12dp"
+            android:paddingTop="10.5dp"
+            android:text="注册"
+            android:textSize="18sp" />
+
+        <TextView
+            android:id="@+id/My_login"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentRight="true"
+            android:paddingBottom="10dp"
+            android:paddingLeft="12dp"
+            android:paddingRight="12dp"
+            android:paddingTop="10.5dp"
+            android:text="登陆"
+            android:textSize="18sp" />
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_centerInParent="true"
+            android:text="我的"
+            android:textSize="18sp" />
+    </RelativeLayout>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/org/net/sunger/widget/MaskView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/net/sunger/widget/MaskView.java	(revision )
+++ app/src/main/java/org/net/sunger/widget/MaskView.java	(revision )
@@ -0,0 +1,39 @@
+package org.net.sunger.widget;
+
+import android.annotation.TargetApi;
+import android.content.Context;
+import android.os.Build;
+import android.util.AttributeSet;
+import android.view.View;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class MaskView extends View {
+    public MaskView(Context context) {
+        this(context, null);
+    }
+
+    public MaskView(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+    }
+
+    public MaskView(Context context, AttributeSet attrs, int defStyleAttr) {
+        this(context, attrs, defStyleAttr, 0);
+    }
+
+    @TargetApi(Build.VERSION_CODES.LOLLIPOP)
+    public MaskView(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
+        super(context, attrs, defStyleAttr, defStyleRes);
+    }
+
+
+    public void show() {
+        setVisibility(VISIBLE);
+    }
+
+    public void dissMiss() {
+        setVisibility(GONE);
+    }
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/EfficientUser.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/EfficientUser.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/EfficientUser.java	(revision )
@@ -0,0 +1,92 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of EfficientUser here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.util.ArrayList;
+import java.util.HashMap;
+
+public class EfficientUser implements User {
+    private String myID;
+    private String myName;
+    private HashMap<String, Rating> myRatings;
+
+    public EfficientUser() {
+        myRatings = new HashMap<String, Rating>();
+    }
+
+    public EfficientUser(String id, String name) {
+        myID = id;
+        myName = name;
+        myRatings = new HashMap<String, Rating>();
+    }
+
+    public void addRating(String rest_id, double value1, double value2, double value3) {
+        myRatings.put(rest_id, new Rating(rest_id, value1, value2, value3));
+    }
+
+    public boolean hasRating(String id) {
+        return myRatings.containsKey(id);
+    }
+
+    public String getID() {
+        return myID;
+    }
+
+    public String getName() {
+        return myName;
+    }
+
+    public double getFlavorRating(String rest_id) {
+        if (myRatings.containsKey(rest_id)) {
+            return myRatings.get(rest_id).getFlavorValue();
+        }
+
+        return -1;
+    }
+
+
+    public double getEnvironRating(String rest_id) {
+        if (myRatings.containsKey(rest_id)) {
+            return myRatings.get(rest_id).getEnvironValue();
+        }
+
+        return -1;
+    }
+
+
+    public double getServiceRating(String rest_id) {
+        if (myRatings.containsKey(rest_id)) {
+            return myRatings.get(rest_id).getServiceValue();
+        }
+
+        return -1;
+    }
+
+    public double getAverageRating(String rest_id) {
+        if (myRatings.containsKey(rest_id)) {
+            return myRatings.get(rest_id).getAverageValue();
+        }
+
+        return -1;
+    }
+
+    public int numRatings() {
+        return myRatings.size();
+    }
+
+    public ArrayList<String> getIDOfRestaurantRated() {
+        ArrayList<String> list = new ArrayList<String>();
+        for (String currentID : myRatings.keySet()) {
+            list.add(currentID);
+        }
+
+        return list;
+    }
+
+}
Index: app/src/main/res/layout/searchview.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/searchview.xml	(revision )
+++ app/src/main/res/layout/searchview.xml	(revision )
@@ -0,0 +1,49 @@
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical">
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="50dp"
+        android:layout_marginLeft="20dp"
+        android:layout_marginRight="12dp"
+        android:layout_marginTop="5dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+        <!-- 输入的搜索信息 -->
+        <AutoCompleteTextView
+            android:id="@+id/et_search"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_marginLeft="10dp"
+            android:layout_weight="4"
+            android:background="@null"
+            android:drawableLeft="@drawable/search"
+            android:gravity="center_vertical"
+            android:hint="搜索"
+            android:imeOptions="actionSearch"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="17sp" />
+        <!-- 清空搜索文字按钮 -->
+        <LinearLayout
+            android:id="@+id/layout_clear_search_text"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_weight="0.5"
+            android:orientation="horizontal"
+            android:visibility="gone">
+
+            <Button
+                android:id="@+id/btn_clear_search_text"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="right|center_vertical"
+                android:background="@drawable/clear" />
+
+        </LinearLayout>
+
+    </LinearLayout>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainMenu.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainMenu.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainMenu.java	(revision )
@@ -0,0 +1,34 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+import android.view.View;
+import android.view.Window;
+
+import com.example.sihan.restaurantrecommendation.R;
+import com.example.sihan.restaurantrecommendation.com.example.sihan.restaurantrecommendation.view.SlidingMenu;
+
+public class MainMenu extends AppCompatActivity {
+    private SlidingMenu LeftSlideMenu;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        requestWindowFeature(Window.FEATURE_NO_TITLE);
+        setContentView(R.layout.activity_main_menu);
+        LeftSlideMenu = (SlidingMenu) findViewById(R.id.slideMenu);
+        findViewById(R.id.mannual_search).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                startActivity(new Intent(MainMenu.this, new_man.class));
+
+            }
+        });
+
+    }
+
+    public void toggleMenu(View view) {
+        LeftSlideMenu.toggle();
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainActivity.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MainActivity.java	(revision )
@@ -0,0 +1,34 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+import android.view.Menu;
+import android.view.View;
+
+public class MainActivity extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_main);
+
+        findViewById(com.example.sihan.restaurantrecommendation.R.id.login).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                startActivity(new Intent(MainActivity.this, Login.class));
+            }
+        });
+
+    }
+
+
+    @Override
+    public boolean onCreateOptionsMenu(Menu menu) {
+        // Inflate the menu; this adds items to the action bar if it is present.
+        getMenuInflater().inflate(com.example.sihan.restaurantrecommendation.R.menu.menu_main, menu);
+        return true;
+    }
+
+
+}
Index: app/src/main/res/drawable/more_btn.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/more_btn.xml	(revision )
+++ app/src/main/res/drawable/more_btn.xml	(revision )
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/more_pressed" android:state_checked="true" android:state_enabled="true"></item>
+    <item android:drawable="@drawable/more_normal"></item>
+</selector>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/User.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/User.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/User.java	(revision )
@@ -0,0 +1,33 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of User here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.util.ArrayList;
+
+public interface User {
+    void addRating(String rest_id, double value1, double value2, double value3);
+
+    boolean hasRating(String rest_id);
+
+    String getID();
+
+    String getName();
+
+    double getFlavorRating(String rest_id);
+
+    double getEnvironRating(String rest_id);
+
+    double getServiceRating(String rest_id);
+
+    double getAverageRating(String rest_id);
+
+    int numRatings();
+
+    ArrayList<String> getIDOfRestaurantRated();
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FirstRatings.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FirstRatings.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FirstRatings.java	(revision )
@@ -0,0 +1,221 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+/**
+ * Write a description of FirstRatings here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import org.apache.commons.csv.CSVParser;
+import org.apache.commons.csv.CSVRecord;
+
+import java.io.IOException;
+import java.io.InputStream;
+import java.util.ArrayList;
+import java.util.HashMap;
+
+public class FirstRatings {
+
+    public ArrayList<Restaurant> loadRestaurants(String filename, InputStream is) {
+        ArrayList<Restaurant> allRestaurants = new ArrayList<Restaurant>();
+        FileResource fr = new FileResource(filename, is);
+        CSVParser parser = fr.getCSVParser();
+        for (CSVRecord current : parser) {
+            String id = current.get("id");
+            String title = current.get("title");
+            int averageSpent = Integer.parseInt(current.get("averageSpent"));
+            String categories = current.get("categories");
+            double environmentScore = Double.parseDouble(current.get("environmentScore"));
+            double serviceScore = Double.parseDouble(current.get("serviceScore"));
+            double flavorScore = Double.parseDouble(current.get("flavorScore"));
+            String phoneNumber = current.get("phoneNumber");
+            String address = current.get("address");
+            int distance = Integer.parseInt(current.get("distance"));
+
+            Restaurant newRestaurant = new Restaurant(id, title, averageSpent, categories, environmentScore, serviceScore, flavorScore, phoneNumber, address, distance);
+            allRestaurants.add(newRestaurant);
+        }
+        return allRestaurants;
+    }
+
+    public boolean containWantedWords(Restaurant input, String targetWords) {
+        String title = input.getTitle();
+        return title.indexOf(targetWords) != -1;
+    }
+
+    public boolean containWantedPlace(Restaurant input, String targetPlace) {
+        String address = input.getAddress();
+        return address.indexOf(targetPlace) != -1;
+    }
+
+    public boolean containWantedEnvironScore(Restaurant input, double targetScore) {
+        double environScore = input.getEnvironmentScore();
+        return environScore >= targetScore;
+    }
+
+    public boolean containWantedServiceScore(Restaurant input, double targetScore) {
+        double serviceScore = input.getServiceScore();
+        return serviceScore >= targetScore;
+    }
+
+    public boolean containWantedFlavorScore(Restaurant input, double targetScore) {
+        double flavorScore = input.getFlavorScore();
+        return flavorScore >= targetScore;
+    }
+
+    public boolean containWantedCategories(Restaurant input, String targetCategories) {
+        String category = input.getCategories();
+        return category.indexOf(targetCategories) != -1;
+    }
+
+    public boolean cotainWantedDistances(Restaurant input, int targetDistances) {
+        int distances = input.getDistance();
+        return distances <= targetDistances;
+    }
+
+    public boolean containWantedAveraegSpent(Restaurant input, int targetScore) {
+        int averageSpent = input.getAverageSpent();
+        return averageSpent <= targetScore;
+    }
+
+    public HashMap<String, Integer> phoneNumberMap(ArrayList<Restaurant> input) {
+        HashMap<String, Integer> map = new HashMap<String, Integer>();
+        for (Restaurant current : input) {
+            String phoneNumbers = current.getPhoneNumber();
+            if (phoneNumbers.indexOf("/") != -1) {
+                String[] parts = phoneNumbers.split("/ ");
+                for (int i = 0; i < parts.length; i++) {
+                    if (map.containsKey(parts[i])) {
+                        map.put(parts[i], map.get(parts[i]) + 1);
+                    } else {
+                        map.put(parts[i], 1);
+                    }
+                }
+            } else if (map.containsKey(phoneNumbers)) {
+                map.put(phoneNumbers, map.get(phoneNumbers) + 1);
+            } else {
+                map.put(phoneNumbers, 1);
+            }
+        }
+        return map;
+    }
+// changed func
+
+    public ArrayList<Restaurant> wantedRestaurants(String word, int averageSpent, String categories,
+                                                   String place, int distances, InputStream is) {
+        String filename = "raw/cse208data1short.csv";
+        ArrayList<Restaurant> output = loadRestaurants(filename, is);
+        System.out.println("The number of restaurant in " + filename + ": " + output.size());
+        ArrayList<Restaurant> wanted = new ArrayList<Restaurant>();
+        for (Restaurant current : output) {
+            if (containWantedCategories(current, categories) && cotainWantedDistances(current, distances) && containWantedWords(current, word)
+                    && containWantedPlace(current, place) && containWantedAveraegSpent(current, averageSpent)
+                    ) {
+                wanted.add(current);
+            }
+        }
+        return wanted;
+    }
+
+    public ArrayList<User> loadUsers(String fileName, InputStream is) {
+        ArrayList<User> allUsers = new ArrayList<User>();
+        ArrayList<String> storeID = new ArrayList<String>();
+        FileResource fr = new FileResource(fileName, is);
+        CSVParser parser = fr.getCSVParser();
+        for (CSVRecord current : parser) {
+            String user_id = current.get("user_id");
+            String userName = current.get("userName");
+            String restaurant_id = current.get("restaurant_id");
+            double flavorScore = Double.parseDouble(current.get("flavorScore"));
+            double environmentScore = Double.parseDouble(current.get("environmentScore"));
+            double serviceScore = Double.parseDouble(current.get("serviceScore"));
+
+            User newUser = new EfficientUser(user_id, userName);
+            newUser.addRating(restaurant_id, flavorScore, environmentScore, serviceScore);
+
+            if (!storeID.contains(user_id)) {
+                storeID.add(user_id);
+                allUsers.add(newUser);
+            } else {
+                for (User currentUser : allUsers) {
+                    String currentID = currentUser.getID();
+                    if (currentID.equals(user_id)) {
+                        currentUser.addRating(restaurant_id, flavorScore, environmentScore, serviceScore);
+                    }
+                }
+            }
+        }
+        return allUsers;
+    }
+
+    public ArrayList<User> findMaxNumRatings(ArrayList<User> allUsers) {
+        ArrayList<User> output = new ArrayList<User>();
+        int maxNum = 0;
+        for (User currentUser : allUsers) {
+            int numRatings = currentUser.numRatings();
+            if (numRatings >= maxNum) {
+                maxNum = numRatings;
+            }
+        }
+
+        for (User currentUser : allUsers) {
+            int numRatings = currentUser.numRatings();
+            if (numRatings == maxNum) {
+                output.add(currentUser);
+            }
+        }
+
+        return output;
+    }
+
+    public ArrayList<User> findRestaurant(ArrayList<User> allUsers, String rest_id) {
+        ArrayList<User> findRestaurant = new ArrayList<User>();
+        for (User currentUser : allUsers) {
+            if (currentUser.getAverageRating(rest_id) != -1) {
+                findRestaurant.add(currentUser);
+            }
+        }
+        return findRestaurant;
+    }
+
+    public int restaurantNum(ArrayList<User> allUsers) {
+        ArrayList<String> restaurantList = new ArrayList<String>();
+        for (User currentUser : allUsers) {
+            ArrayList<String> list = currentUser.getIDOfRestaurantRated();
+            for (String restaurant : list) {
+                if (!restaurantList.contains(restaurant)) {
+                    restaurantList.add(restaurant);
+                }
+            }
+        }
+        return restaurantList.size();
+    }
+
+    public void testLoadUsers() {
+        String filename = "CSE208Data2Short.csv";
+        InputStream is = new InputStream() {
+            @Override
+            public int read() throws IOException {
+                return 0;
+            }
+        };
+        ArrayList<User> output = loadUsers(filename, is);
+        System.out.println("The number of users in " + filename + ": " + output.size());
+
+        for (User current : output) {
+            System.out.println("ID: " + current.getID());
+            System.out.println("Number of rated restaurants: " + current.numRatings());
+        }
+
+        System.out.println(" ");
+        String rest_id = "3";
+        ArrayList<User> findRestaurants = findRestaurant(output, rest_id);
+        System.out.println("The restaurant ID: " + rest_id);
+        System.out.println("The number of users score this restaurant: " + findRestaurants.size());
+
+        System.out.println(" ");
+        int number = restaurantNum(output);
+        System.out.println("The number of restaurants scored: " + number);
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/AdditionalFunction.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/AdditionalFunction.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/AdditionalFunction.java	(revision )
@@ -0,0 +1,15 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+
+public class AdditionalFunction extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_additional_function);
+
+    }
+
+}
Index: app/src/main/res/drawable/shape.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/shape.xml	(revision )
+++ app/src/main/res/drawable/shape.xml	(revision )
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android"
+    android:shape="rectangle">
+    <!-- 填充的颜色 -->
+    <solid android:color="#00000000" />
+    <!-- 设置按钮的四个角为弧形 -->
+    <!-- android:radius 弧形的半径 -->
+    <corners android:radius="5dip" />
+
+    <!-- padding：Button里面的文字与Button边界的间隔 -->
+    <padding
+        android:bottom="5dp"
+        android:left="5dp"
+        android:right="5dp"
+        android:top="5dp" />
+</shape>
\ No newline at end of file
Index: app/CSE208Data2Short.csv
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/CSE208Data2Short.csv	(revision )
+++ app/CSE208Data2Short.csv	(revision )
@@ -0,0 +1,51 @@
+user_id, userName, restaurant_id, flavorScore, environmentScore, serviceScore
+1, liugeng00, 18, 3, 3, 3
+1, liugeng00, 14, 4, 4, 4
+1, liugeng00, 20, 4, 4, 4
+1, liugeng00, 3, 4, 4, 4
+1, liugeng00, 23, 4, 4, 4
+1, liugeng00, 15, 3, 3, 3
+1, liugeng00, 9, 3, 3, 3
+1, liugeng00, 10, 4, 4, 4
+1, liugeng00, 19, 2, 2, 2
+1, liugeng00, 11, 3, 3, 3
+1, liugeng00, 13, 3, 3, 3
+2, SS咩咩酱, 3, 4, 4, 4
+2, SS咩咩酱, 18, 4, 4, 4
+2, SS咩咩酱, 16, 3, 3, 3 
+2, SS咩咩酱, 8, 4, 3, 2
+2, SS咩咩酱, 25, 4, 4, 4
+3, 不挠人的喵, 16, 4, 4, 4
+3, 不挠人的喵, 18, 4, 3, 0
+3, 不挠人的喵, 23, 4, 4, 4
+3, 不挠人的喵, 3, 1, 1, 2
+4, 蓝蓝呢, 16, 4, 4, 4
+4, 蓝蓝呢, 3, 2, 2, 4
+4, 蓝蓝呢, 25, 3, 3, 3
+5, goawayhaha, 4, 3, 3, 3
+5, goawayhaha, 17, 3, 3, 3
+5, goawayhaha, 18, 4, 4, 4
+5, goawayhaha, 16, 3, 3, 3
+6, FLORA柃, 18, 3, 3, 2
+7, 咩咩的呆呆, 1 3, 3, 1
+7, 咩咩的呆呆, 17, 3, 4, 4
+7, 咩咩的呆呆, 19, 3, 3, 3
+7, 咩咩的呆呆, 3, 4, 3, 4
+7, 咩咩的呆呆, 25, 3, 3, 4
+7, 咩咩的呆呆, 8, 4, 4, 4
+8, 开始懂了jyjy, 4, 4, 3, 3
+8, 开始懂了jyjy, 17, 3, 3, 3
+8, 开始懂了jyjy, 18, 4, 4, 4
+9, 爱揍羊的小怪兽, 3, 4, 4, 4
+9, 爱揍羊的小怪兽, 17, 4, 4, 3
+9, 爱揍羊的小怪兽, 18, 4, 4, 4
+9, 爱揍羊的小怪兽, 23, 4, 4, 4
+9, 爱揍羊的小怪兽, 1, 3, 2, 3
+9, 爱揍羊的小怪兽, 20, 4, 4, 4
+9, 爱揍羊的小怪兽, 4, 3, 2, 3
+9, 爱揍羊的小怪兽, 11, 3, 3, 3
+9, 爱揍羊的小怪兽, 13, 4, 3, 4
+10, 瘦瘦猪I, 8, 4, 4, 4
+10, 瘦瘦猪I, 18, 4, 4, 4
+
+ 
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/tab/widget/MsgView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/widget/MsgView.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/widget/MsgView.java	(revision )
@@ -0,0 +1,159 @@
+package sunger.net.org.dropmenu.tab.widget;
+
+import android.content.Context;
+import android.content.res.TypedArray;
+import android.graphics.Color;
+import android.graphics.drawable.GradientDrawable;
+import android.graphics.drawable.StateListDrawable;
+import android.os.Build;
+import android.util.AttributeSet;
+import android.widget.TextView;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+
+/**
+ * 用于需要圆角矩形框背景的TextView的情况,减少直接使用TextView时引入的shape资源文件
+ */
+public class MsgView extends TextView {
+    private Context context;
+    private GradientDrawable gd_background = new GradientDrawable();
+    private int backgroundColor;
+    private int cornerRadius;
+    private int strokeWidth;
+    private int strokeColor;
+    private boolean isRadiusHalfHeight;
+    private boolean isWidthHeightEqual;
+
+    public MsgView(Context context) {
+        this(context, null);
+    }
+
+    public MsgView(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+    }
+
+    public MsgView(Context context, AttributeSet attrs, int defStyleAttr) {
+        super(context, attrs, defStyleAttr);
+        this.context = context;
+        obtainAttributes(context, attrs);
+    }
+
+    private void obtainAttributes(Context context, AttributeSet attrs) {
+        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.MsgView);
+        backgroundColor = ta.getColor(R.styleable.MsgView_mv_backgroundColor, Color.TRANSPARENT);
+        cornerRadius = ta.getDimensionPixelSize(R.styleable.MsgView_mv_cornerRadius, 0);
+        strokeWidth = ta.getDimensionPixelSize(R.styleable.MsgView_mv_strokeWidth, 0);
+        strokeColor = ta.getColor(R.styleable.MsgView_mv_strokeColor, Color.TRANSPARENT);
+        isRadiusHalfHeight = ta.getBoolean(R.styleable.MsgView_mv_isRadiusHalfHeight, false);
+        isWidthHeightEqual = ta.getBoolean(R.styleable.MsgView_mv_isWidthHeightEqual, false);
+
+        ta.recycle();
+    }
+
+    @Override
+    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
+        if (isWidthHeightEqual() && getWidth() > 0 && getHeight() > 0) {
+            int max = Math.max(getWidth(), getHeight());
+            int measureSpec = MeasureSpec.makeMeasureSpec(max, MeasureSpec.EXACTLY);
+            super.onMeasure(measureSpec, measureSpec);
+            return;
+        }
+
+        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
+    }
+
+    @Override
+    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {
+        super.onLayout(changed, left, top, right, bottom);
+        if (isRadiusHalfHeight()) {
+            setCornerRadius(getHeight() / 2);
+        } else {
+            setBgSelector();
+        }
+    }
+
+    public void setIsRadiusHalfHeight(boolean isRadiusHalfHeight) {
+        this.isRadiusHalfHeight = isRadiusHalfHeight;
+        setBgSelector();
+    }
+
+    public void setIsWidthHeightEqual(boolean isWidthHeightEqual) {
+        this.isWidthHeightEqual = isWidthHeightEqual;
+        setBgSelector();
+    }
+
+    public int getBackgroundColor() {
+        return backgroundColor;
+    }
+
+    public void setBackgroundColor(int backgroundColor) {
+        this.backgroundColor = backgroundColor;
+        setBgSelector();
+    }
+
+    public int getCornerRadius() {
+        return cornerRadius;
+    }
+
+    public void setCornerRadius(int cornerRadius) {
+        this.cornerRadius = dp2px(cornerRadius);
+        setBgSelector();
+    }
+
+    public int getStrokeWidth() {
+        return strokeWidth;
+    }
+
+    public void setStrokeWidth(int strokeWidth) {
+        this.strokeWidth = dp2px(strokeWidth);
+        setBgSelector();
+    }
+
+    public int getStrokeColor() {
+        return strokeColor;
+    }
+
+    public void setStrokeColor(int strokeColor) {
+        this.strokeColor = strokeColor;
+        setBgSelector();
+    }
+
+    public boolean isRadiusHalfHeight() {
+        return isRadiusHalfHeight;
+    }
+
+    public boolean isWidthHeightEqual() {
+        return isWidthHeightEqual;
+    }
+
+    protected int dp2px(float dp) {
+        final float scale = context.getResources().getDisplayMetrics().density;
+        return (int) (dp * scale + 0.5f);
+    }
+
+    protected int sp2px(float sp) {
+        final float scale = this.context.getResources().getDisplayMetrics().scaledDensity;
+        return (int) (sp * scale + 0.5f);
+    }
+
+    private void setDrawable(GradientDrawable gd, int color, int strokeColor) {
+        gd.setColor(color);
+        gd.setCornerRadius(cornerRadius);
+        gd.setStroke(strokeWidth, strokeColor);
+    }
+
+    public void setBgSelector() {
+        StateListDrawable bg = new StateListDrawable();
+
+        setDrawable(gd_background, backgroundColor, strokeColor);
+        bg.addState(new int[]{-android.R.attr.state_pressed}, gd_background);
+
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {//16
+            setBackground(bg);
+        } else {
+            //noinspection deprecation
+            setBackgroundDrawable(bg);
+        }
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Rating.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Rating.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Rating.java	(revision )
@@ -0,0 +1,58 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of Rating here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class Rating implements Comparable<Rating> {
+    private String item;
+    private double flavorValue;
+    private double environValue;
+    private double serviceValue;
+
+    public Rating(String anItem, double value1, double value2, double value3) {
+        item = anItem;
+        flavorValue = value1;
+        environValue = value2;
+        serviceValue = value3;
+    }
+
+    // Returns item being rated
+    public String getItem() {
+        return item;
+    }
+
+    // Returns the value of this rating (as a number so it can be used in calculations)
+    public double getFlavorValue() {
+        return flavorValue;
+    }
+
+    public double getEnvironValue() {
+        return environValue;
+    }
+
+    public double getServiceValue() {
+        return serviceValue;
+    }
+
+    public double getAverageValue() {
+        return (flavorValue + environValue + serviceValue) / 3;
+    }
+
+    // Returns a string of all the rating information
+    public String toString() {
+        return "[" + getItem() + ", falvor: " + getFlavorValue() + ", environment: " + getEnvironValue() + ", service: " + getServiceValue() + "]";
+    }
+
+    public int compareTo(Rating other) {
+        double averageOfCurrent = this.getAverageValue();
+        double averageOfOther = other.getAverageValue();
+        if (averageOfCurrent < averageOfOther) return -1;
+        if (averageOfCurrent > averageOfOther) return 1;
+
+        return 0;
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/UserDatabase.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/UserDatabase.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/UserDatabase.java	(revision )
@@ -0,0 +1,78 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of UserDatabase here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import org.apache.commons.csv.CSVParser;
+import org.apache.commons.csv.CSVRecord;
+
+import java.io.InputStream;
+import java.util.ArrayList;
+import java.util.HashMap;
+
+public class UserDatabase {
+    private static HashMap<String, User> ourUsers;
+
+    private static void initialize() {
+        // this method is only called from addRatings
+        if (ourUsers == null) {
+            ourUsers = new HashMap<String, User>();
+        }
+    }
+
+    public static void initialize(String filename, InputStream is) {
+        if (ourUsers == null) {
+            ourUsers = new HashMap<String, User>();
+            addRatings(filename, is);
+        }
+    }
+
+    public static void addRatings(String filename, InputStream is) {
+        initialize();
+        FileResource fr = new FileResource(filename, is);
+        CSVParser csvp = fr.getCSVParser();
+        for (CSVRecord rec : csvp) {
+            String id = rec.get("user_id");
+            String userName = rec.get("userName");
+            String item = rec.get("restaurant_id");
+            double flavorScore = Double.parseDouble(rec.get("flavorScore"));
+            double environmentScore = Double.parseDouble(rec.get("environmentScore"));
+            double serviceScore = Double.parseDouble(rec.get("serviceScore"));
+            addRaterRating(id, userName, item, flavorScore, environmentScore, serviceScore);
+        }
+    }
+
+    public static void addRaterRating(String userID, String userName, String restID, double flavorScore, double environmentScore,
+                                      double serviceScore) {
+        initialize();
+        User user = null;
+        if (ourUsers.containsKey(userID)) {
+            user = ourUsers.get(userID);
+        } else {
+            user = new EfficientUser(userID, userName);
+            ourUsers.put(userID, user);
+        }
+        user.addRating(restID, flavorScore, environmentScore, serviceScore);
+    }
+
+    public static User getUser(String id) {
+        initialize();
+        return ourUsers.get(id);
+    }
+
+    public static ArrayList<User> getUsers() {
+        initialize();
+        ArrayList<User> list = new ArrayList<User>(ourUsers.values());
+
+        return list;
+    }
+
+    public static int size() {
+        return ourUsers.size();
+    }
+}
Index: app/src/main/res/values/attr.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/attr.xml	(revision )
+++ app/src/main/res/values/attr.xml	(revision )
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+
+    <attr name="rightPadding" format="dimension"></attr>
+    <declare-styleable name="SlidingMenu">
+        <attr name="rightPadding"></attr>
+
+    </declare-styleable>
+</resources>
Index: app/src/main/res/layout/activity_main_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main_menu.xml	(revision )
+++ app/src/main/res/layout/activity_main_menu.xml	(revision )
@@ -0,0 +1,48 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:hyman="http://schemas.android.com/apk/res-auto"
+    android:layout_width="wrap_content"
+    android:layout_height="match_parent"
+    android:background="@drawable/menu">
+
+    <com.example.sihan.restaurantrecommendation.com.example.sihan.restaurantrecommendation.view.SlidingMenu
+        android:id="@+id/slideMenu"
+        android:layout_width="wrap_content"
+        android:layout_height="match_parent"
+        hyman:rightPadding="100dp">
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="match_parent"
+            android:orientation="horizontal">
+
+            <include layout="@layout/left_menu" />
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:background="#ffffff">
+
+                <Button
+                    android:id="@+id/menu_switch"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:onClick="toggleMenu"
+                    android:text="Menu switch" />
+
+                <ListView
+                    android:id="@+id/special_result"
+                    android:layout_width="fill_parent"
+                    android:layout_height="200dp"
+                    android:layout_marginLeft="30dp"
+                    android:layout_marginTop="60dp"
+                    android:clickable="true"
+                    android:longClickable="true" />
+
+
+            </LinearLayout>
+
+
+        </LinearLayout>
+    </com.example.sihan.restaurantrecommendation.com.example.sihan.restaurantrecommendation.view.SlidingMenu>
+</RelativeLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/flavorScoreFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/flavorScoreFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/flavorScoreFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of flavorScore here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class flavorScoreFilter implements Filter {
+    private double myFlavorScore;
+
+    public flavorScoreFilter(double flavorScore) {
+        myFlavorScore = flavorScore;
+    }
+
+    public boolean satisfies(String id) {
+        double flavorScore = RestaurantDatabase.getFlavorScore(id);
+        return flavorScore >= myFlavorScore;
+    }
+}
Index: app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentPrice.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentPrice.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentPrice.java	(revision )
@@ -0,0 +1,54 @@
+package sunger.net.org.dropmenu.fragment;
+
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.AdapterView;
+import android.widget.ListView;
+
+import java.util.Arrays;
+
+import sunger.net.org.dropmenu.adapter.FilterAdapter;
+import sunger.net.org.dropmenu.new_drop;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class FragmentPrice extends Fragment {
+
+    private String price[] = {"Ascending", "Descending"};
+    private ListView listView;
+    private FilterAdapter adapter;
+    private new_drop newdrop;
+
+    @Override
+    public void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        newdrop = (new_drop) getActivity();
+    }
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        listView = new ListView(getActivity());
+        return listView;
+    }
+
+    @Override
+    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
+        super.onViewCreated(view, savedInstanceState);
+        listView.setDividerHeight(0);
+        adapter = new FilterAdapter(getActivity(), Arrays.asList(price));
+        listView.setAdapter(adapter);
+        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+            @Override
+            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+                newdrop.onFilter(1, price[position]);
+                adapter.setCheckItem(position);
+            }
+        });
+    }
+}
Index: app/src/main/res/drawable/personal_btn.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/personal_btn.xml	(revision )
+++ app/src/main/res/drawable/personal_btn.xml	(revision )
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/personal_pressed" android:state_checked="true" android:state_enabled="true"></item>
+    <item android:drawable="@drawable/personal_normal"></item>
+</selector>
Index: app/src/main/res/layout/activity_special_activity_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_special_activity_search.xml	(revision )
+++ app/src/main/res/layout/activity_special_activity_search.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.SpecialActivitySearch">
+
+
+    <include layout="@layout/content_special_activity_search" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/user_activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/user_activity_main.xml	(revision )
+++ app/src/main/res/layout/user_activity_main.xml	(revision )
@@ -0,0 +1,14 @@
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/menu_item_background"
+    android:orientation="vertical">
+
+    <include layout="@layout/user_toolbar" />
+
+    <FrameLayout
+
+        android:id="@+id/container"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent" />
+</LinearLayout>
Index: app/src/main/res/color/tab_text.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/color/tab_text.xml	(revision )
+++ app/src/main/res/color/tab_text.xml	(revision )
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:color="@color/grey" android:state_checked="true"></item>
+    <item android:color="@color/white"></item>
+</selector>
Index: app/src/main/res/layout/content_srestaurant.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_srestaurant.xml	(revision )
+++ app/src/main/res/layout/content_srestaurant.xml	(revision )
@@ -0,0 +1,134 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/back"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@drawable/rest"
+    android:orientation="vertical"
+    android:weightSum="1">
+
+
+    <ImageView
+        android:id="@+id/imageView"
+        android:layout_width="350dp"
+        android:layout_height="220dp"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="30dp"
+        android:background="@drawable/e" />
+
+    <TableLayout
+        android:id="@+id/score"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:padding="3dip"
+        android:stretchColumns="*">
+
+        <TableRow>
+
+            <EditText
+                android:id="@+id/ServiceScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/EnvironScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/TasteScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:minWidth="40px"
+                android:textSize="20px"
+                android:textStyle="bold" />
+        </TableRow>
+    </TableLayout>
+
+    <TableLayout
+        android:layout_width="match_parent"
+        android:layout_height="196dp"
+        android:layout_weight="0.39"
+        android:gravity="center_vertical"
+        android:orientation="vertical"
+        android:stretchColumns="0,4">
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Address:"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/address"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_column="3"
+                android:minWidth="350px"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <TextView android:layout_column="4" />
+
+        </TableRow>
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Phone Number"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/phoneNum"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_column="3"
+                android:minWidth="350px"
+                android:textSize="30px"
+                android:textStyle="bold" />
+
+            <TextView android:layout_column="4" />
+
+        </TableRow>
+
+        <TableRow>
+
+            <TextView />
+
+            <Button
+                android:id="@+id/transportation"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_span="3"
+                android:background="#00000000"
+                android:text="View Transportation"
+                android:textSize="40px"
+                android:textStyle="bold" />
+
+            <TextView />
+        </TableRow>
+    </TableLayout>
+
+    <Button
+        android:id="@+id/FromSRestBackToResultList"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Back" />
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ForgetPassword.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ForgetPassword.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ForgetPassword.java	(revision )
@@ -0,0 +1,13 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.os.Bundle;
+import android.support.v7.app.AppCompatActivity;
+
+public class ForgetPassword extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(com.example.sihan.restaurantrecommendation.R.layout.activity_forget_password);
+    }
+}
Index: app/src/main/java/sunger/net/org/dropmenu/tab/utils/UnreadMsgUtils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/utils/UnreadMsgUtils.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/utils/UnreadMsgUtils.java	(revision )
@@ -0,0 +1,59 @@
+package sunger.net.org.dropmenu.tab.utils;
+
+
+import android.util.DisplayMetrics;
+import android.view.View;
+import android.widget.RelativeLayout;
+
+import sunger.net.org.dropmenu.tab.widget.MsgView;
+
+
+/**
+ * 未读消息提示View,显示小红点或者带有数字的红点:
+ * 数字一位,圆
+ * 数字两位,圆角矩形,圆角是高度的一半
+ * 数字超过两位,显示99+
+ */
+public class UnreadMsgUtils {
+    public static void show(MsgView msgView, int num) {
+        if (msgView == null) {
+            return;
+        }
+        RelativeLayout.LayoutParams lp = (RelativeLayout.LayoutParams) msgView.getLayoutParams();
+        DisplayMetrics dm = msgView.getResources().getDisplayMetrics();
+        msgView.setVisibility(View.VISIBLE);
+        if (num <= 0) {//圆点,设置默认宽高
+            msgView.setStrokeWidth(0);
+            msgView.setText("");
+
+            lp.width = (int) (5 * dm.density);
+            lp.height = (int) (5 * dm.density);
+            msgView.setLayoutParams(lp);
+        } else {
+            lp.height = (int) (18 * dm.density);
+            if (num > 0 && num < 10) {//圆
+                lp.width = (int) (18 * dm.density);
+                msgView.setText(num + "");
+            } else if (num > 9 && num < 100) {//圆角矩形,圆角是高度的一半,设置默认padding
+                lp.width = RelativeLayout.LayoutParams.WRAP_CONTENT;
+                msgView.setPadding((int) (6 * dm.density), 0, (int) (6 * dm.density), 0);
+                msgView.setText(num + "");
+            } else {//数字超过两位,显示99+
+                lp.width = RelativeLayout.LayoutParams.WRAP_CONTENT;
+                msgView.setPadding((int) (6 * dm.density), 0, (int) (6 * dm.density), 0);
+                msgView.setText("99+");
+            }
+            msgView.setLayoutParams(lp);
+        }
+    }
+
+    public static void setSize(MsgView rtv, int size) {
+        if (rtv == null) {
+            return;
+        }
+        RelativeLayout.LayoutParams lp = (RelativeLayout.LayoutParams) rtv.getLayoutParams();
+        lp.width = size;
+        lp.height = size;
+        rtv.setLayoutParams(lp);
+    }
+}
Index: app/src/main/res/layout/layout_tab.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab.xml	(revision )
+++ app/src/main/res/layout/layout_tab.xml	(revision )
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <TextView
+        android:id="@+id/tv_tab_title"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:singleLine="true" />
+
+    <com.flyco.tablayout.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/drawable/page_indicator_focused.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/page_indicator_focused.xml	(revision )
+++ app/src/main/res/drawable/page_indicator_focused.xml	(revision )
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector>
+    <shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval">
+
+        <solid android:color="#aaFFFFFF" />
+
+        <corners android:radius="5dip" />
+
+    </shape>
+</selector>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/new_man.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/new_man.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/new_man.java	(revision )
@@ -0,0 +1,330 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Intent;
+import android.content.res.Configuration;
+import android.graphics.Color;
+import android.graphics.drawable.BitmapDrawable;
+import android.os.Bundle;
+import android.support.v4.view.ViewPager;
+import android.support.v4.widget.DrawerLayout;
+import android.support.v7.app.ActionBarActivity;
+import android.support.v7.app.ActionBarDrawerToggle;
+import android.support.v7.widget.Toolbar;
+import android.text.Editable;
+import android.text.TextWatcher;
+import android.view.Menu;
+import android.view.View;
+import android.view.animation.AccelerateInterpolator;
+import android.widget.AdapterView;
+import android.widget.EditText;
+import android.widget.LinearLayout;
+import android.widget.Spinner;
+
+import com.example.sihan.restaurantrecommendation.Function.FirstRatings;
+import com.example.sihan.restaurantrecommendation.Function.Restaurant;
+import com.example.sihan.restaurantrecommendation.R;
+
+import java.io.InputStream;
+import java.util.ArrayList;
+import java.util.List;
+
+import io.codetail.animation.SupportAnimator;
+import io.codetail.animation.ViewAnimationUtils;
+import sunger.net.org.dropmenu.new_drop;
+import yalantis.com.sidemenu.interfaces.Resourceble;
+import yalantis.com.sidemenu.interfaces.ScreenShotable;
+import yalantis.com.sidemenu.model.SlideMenuItem;
+import yalantis.com.sidemenu.util.ViewAnimator;
+
+
+public class new_man extends ActionBarActivity implements ViewAnimator.ViewAnimatorListener {
+    public InputStream isFile;
+    private DrawerLayout drawerLayout;
+    private ActionBarDrawerToggle drawerToggle;
+    private List<SlideMenuItem> list = new ArrayList<>();
+    private ContentFragment contentFragment;
+    private ViewAnimator viewAnimator;
+    private int res = R.drawable.content_music;
+    private LinearLayout linearLayout;
+    private String word = "";
+    private int averageSpent;
+    private String categories;
+    private String place;
+    private int distances;
+    private String scoreFlag;
+    private ViewPager viewPager;
+    private Spinner spinnerScore;
+    private Spinner spinnerAverage;
+    private Spinner spinnerDis;
+    private Spinner spinnerPlace;
+    private EditText search;
+    private ArrayList<Restaurant> restaurantList = new ArrayList<Restaurant>();
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.new_man);
+        //add
+        findViewById(R.id.searchField).setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                rankFactor();
+                Intent intent = new Intent(new_man.this, new_drop.class);
+                intent.putExtra("new_man", restaurantList);
+                startActivity(intent);
+            }
+        });
+        search = (EditText) findViewById(R.id.et_search1);
+        TextWatcher watcher = new TextWatcher() {
+
+            @Override
+            public void onTextChanged(CharSequence s, int start, int before, int count) {
+                // TODO Auto-generated method stub
+                word = s.toString();
+
+            }
+
+            @Override
+            public void beforeTextChanged(CharSequence s, int start, int count,
+                                          int after) {
+                // TODO Auto-generated method stub
+
+            }
+
+            @Override
+            public void afterTextChanged(Editable s) {
+                // TODO Auto-generated method stub
+
+            }
+        };
+        search.addTextChangedListener(watcher);
+
+        //add finished
+
+        contentFragment = ContentFragment.newInstance(R.drawable.content_music);
+        getSupportFragmentManager().beginTransaction()
+                .replace(R.id.content_frame, contentFragment)
+                .commit();
+        drawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);
+        drawerLayout.setScrimColor(Color.TRANSPARENT);
+        linearLayout = (LinearLayout) findViewById(R.id.left_drawer);
+        linearLayout.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+
+                drawerLayout.closeDrawers();
+            }
+        });
+
+
+        setActionBar();
+        createMenuList();
+        viewAnimator = new ViewAnimator<>(this, list, contentFragment, drawerLayout, this);
+
+        //add
+
+        spinnerAverage = (Spinner) findViewById(R.id.spinnerAverage);
+        spinnerDis = (Spinner) findViewById(R.id.spinnerDistance);
+        spinnerPlace = (Spinner) findViewById(R.id.spinnerDestination);
+
+        spinnerAverage.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                averageSpent = Integer.parseInt(getResources().getStringArray(R.array.Average)[pos].substring(2));
+                //  Toast.makeText(MannualSearch.this, sxs, Toast.LENGTH_LONG).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        spinnerDis.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                String disFlag = getResources().getStringArray(R.array.Distance)[pos];
+                if (disFlag.length() > 5) {
+                    distances = Integer.parseInt(disFlag.substring(2, disFlag.length() - 1));
+                } else {
+                    distances = Integer.MAX_VALUE;
+                }
+                //  Toast.makeText(MannualSearch.this, Integer.toString(distances), Toast.LENGTH_LONG).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        spinnerPlace.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                place = getResources().getStringArray(R.array.Destination)[pos];
+                if (place.equals("All"))
+                    place = "";
+                //    Toast.makeText(MannualSearch.this, placeFlag, 2000).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        // unchanged
+    }
+    //add finish
+
+    private void createMenuList() {
+        SlideMenuItem menuItem0 = new SlideMenuItem(ContentFragment.CLOSE, R.drawable.icn_close);
+        list.add(menuItem0);
+        SlideMenuItem menuItem = new SlideMenuItem(ContentFragment.BUILDING, R.drawable.icn_1);
+        list.add(menuItem);
+        SlideMenuItem menuItem2 = new SlideMenuItem(ContentFragment.BOOK, R.drawable.icn_2);
+        list.add(menuItem2);
+        SlideMenuItem menuItem3 = new SlideMenuItem(ContentFragment.PAINT, R.drawable.icn_3);
+        list.add(menuItem3);
+        SlideMenuItem menuItem4 = new SlideMenuItem(ContentFragment.CASE, R.drawable.icn_4);
+        list.add(menuItem4);
+        SlideMenuItem menuItem5 = new SlideMenuItem(ContentFragment.SHOP, R.drawable.icn_5);
+        list.add(menuItem5);
+        SlideMenuItem menuItem6 = new SlideMenuItem(ContentFragment.PARTY, R.drawable.icn_6);
+        list.add(menuItem6);
+        SlideMenuItem menuItem7 = new SlideMenuItem(ContentFragment.MOVIE, R.drawable.icn_7);
+        list.add(menuItem7);
+    }
+
+    // changed
+    private void rankFactor() {
+        FirstRatings fr = new FirstRatings();
+        //  ArrayList<Restaurant> rl = new ArrayList<Restaurant>();
+        categories = "";
+
+        isFile = getResources().openRawResource(R.raw.cse208data1short);
+        restaurantList = fr.wantedRestaurants(word, averageSpent, categories, place, distances, isFile);
+
+        //SortRestaurant sr = new SortRestaurant(rl);
+        // sr.sortRest(scoreFlag);
+        //  pf = "";
+//        for(Restaurant r : rl)
+//            pf += r.toString() + ";";
+        //  Toast.makeText(new_man.this, pf, Toast.LENGTH_LONG).show();
+    }
+
+
+    private void setActionBar() {
+        Toolbar toolbar = (Toolbar) findViewById(R.id.man_toolbar);
+        setSupportActionBar(toolbar);
+        getSupportActionBar().setHomeButtonEnabled(true);
+        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
+        drawerToggle = new ActionBarDrawerToggle(
+                this,                  /* host Activity */
+                drawerLayout,         /* DrawerLayout object */
+                toolbar,  /* nav drawer icon to replace 'Up' caret */
+                R.string.drawer_open,  /* "open drawer" description */
+                R.string.drawer_close  /* "close drawer" description */
+        ) {
+
+            /** Called when a drawer has settled in a completely closed state. */
+            public void onDrawerClosed(View view) {
+                super.onDrawerClosed(view);
+                linearLayout.removeAllViews();
+                linearLayout.invalidate();
+            }
+
+            @Override
+            public void onDrawerSlide(View drawerView, float slideOffset) {
+                super.onDrawerSlide(drawerView, slideOffset);
+                if (slideOffset > 0.6 && linearLayout.getChildCount() == 0)
+                    viewAnimator.showMenuContent();
+            }
+
+            /** Called when a drawer has settled in a completely open state. */
+            public void onDrawerOpened(View drawerView) {
+                super.onDrawerOpened(drawerView);
+            }
+        };
+        drawerLayout.setDrawerListener(drawerToggle);
+    }
+
+    @Override
+    protected void onPostCreate(Bundle savedInstanceState) {
+        super.onPostCreate(savedInstanceState);
+        drawerToggle.syncState();
+    }
+
+    @Override
+    public void onConfigurationChanged(Configuration newConfig) {
+        super.onConfigurationChanged(newConfig);
+        drawerToggle.onConfigurationChanged(newConfig);
+    }
+
+
+    @Override
+    public boolean onCreateOptionsMenu(Menu menu) {
+        getMenuInflater().inflate(R.menu.menu_main, menu);
+        return true;
+    }
+
+//    @Override
+//    public boolean onOptionsItemSelected(MenuItem item) {
+////        if (drawerToggle.onOptionsItemSelected(item)) {
+////
+////        }
+////        switch (item.getItemId()) {
+////            case R.id.action_settings:
+////                return true;
+////            default:
+////                return super.onOptionsItemSelected(item);
+////        }
+//        return true;
+//    }
+
+    private ScreenShotable replaceFragment(ScreenShotable screenShotable, int topPosition) {
+        this.res = this.res == R.drawable.content_music ? R.drawable.content_films : R.drawable.content_music;
+        View view = findViewById(R.id.content_frame);
+        int finalRadius = Math.max(view.getWidth(), view.getHeight());
+        SupportAnimator animator = ViewAnimationUtils.createCircularReveal(view, 0, topPosition, 0, finalRadius);
+        animator.setInterpolator(new AccelerateInterpolator());
+        animator.setDuration(ViewAnimator.CIRCULAR_REVEAL_ANIMATION_DURATION);
+
+        findViewById(R.id.content_overlay).setBackgroundDrawable(new BitmapDrawable(getResources(), screenShotable.getBitmap()));
+        animator.start();
+        ContentFragment contentFragment = ContentFragment.newInstance(this.res);
+        getSupportFragmentManager().beginTransaction().replace(R.id.content_frame, contentFragment).commit();
+        return contentFragment;
+    }
+
+    @Override
+    public ScreenShotable onSwitch(Resourceble slideMenuItem, ScreenShotable screenShotable, int position) {
+        switch (slideMenuItem.getName()) {
+            case ContentFragment.CLOSE:
+                return screenShotable;
+            default:
+                return replaceFragment(screenShotable, position);
+        }
+    }
+
+    @Override
+    public void disableHomeButton() {
+        getSupportActionBar().setHomeButtonEnabled(false);
+
+    }
+
+    @Override
+    public void enableHomeButton() {
+        getSupportActionBar().setHomeButtonEnabled(true);
+        drawerLayout.closeDrawers();
+
+    }
+
+    @Override
+    public void addViewToContainer(View view) {
+        linearLayout.addView(view);
+    }
+}
Index: app/src/main/res/raw/cse208data1short.csv
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/raw/cse208data1short.csv	(revision )
+++ app/src/main/res/raw/cse208data1short.csv	(revision )
@@ -0,0 +1,26 @@
+id,title,averageSpent,categories,environmentScore,serviceScore,flavorScore,phoneNumber,address,distance
+1,泰好吃年糕火锅（独墅湖店）—TaiHaoChi Rice Cake Chaffy dish (Dushu Lake branch),48,South Korean dish,9,9.1,9, 62799747, 独墅湖高教区文星广场85度c旁边(文星广场85度c)--Dushu Lake Higher education zone Wenxing square (next to 85°c bekery),486
+2,高丽鸡韩国时尚料理（文星店）--Chicken Korea Korean food (Wenxing branch),12,South Korean dish,7,6.9,7.6,15190565696,林泉街独墅湖文星广场旁(近文星广场邮政所)--Linquan Road Dushu Lake Wenxing square (next to Post Office),758
+3,喜来稀肉（邻瑞店）--XiLaiXiRou(Link city branch),85,South Korean dish,9.1,9.1,9.1,62769907,西华林街88号邻瑞广场一楼西广场山姆会员超市出入口 --XiHuaLinJie Number88 The west of Link city (at the entrance of Sam Supermarket),758
+4,全州拌饭（邻瑞广场）--Quanzhou Bibimbap (Link city),24,South Korean dish,8.6,8.5,8.5,62766597,苏州工业园区邻瑞广场B109-110--Suzhou Industrial zone Link city B109-110,3700
+5,利好海鲜酒楼 --Lihao Seafood Restaurant,204,Cantonese dish,7.7,7.6,7.7,62381777/62381888,独墅湖科教创新区月亮湾街8号(近独墅湖体育馆)--Dushu Lake Science and education innovation zone moon bay street No.8 (next to Dushu Lake gymnasium),1800
+6,量子制造·馋源 —-Liangzizhizao.Chanyuan,151,Cantonese dish,9.2,9.1,9.1,67678979,松涛街1088号斜塘老街四期47栋(靠近津梁路南端末)--Songtao Street No.1088 Xietang street 47 building (next to the end of the the southern tip of jinliang street),3700
+7,润记（邻瑞广场）--Runji (Link city),55,Cantonese dish,8.3,7.9,7.9,62827988,金鸡湖大道与西华林街交界处邻瑞广场B1楼 --Link city B1 building at the cross of the Jinji Lake road and the Xihualin road,3700
+8,有家酸菜鱼 --Youjia Pickled fish,57,Sichuan dish,9.1,9.1,9.2,4008168517,独墅湖高教区文星广场--Dushu Lake Higher education zone Wenxing square,100
+9,陆鼎记幸福餐厅 --Ludingji Happyness restaurant,44,Sichuan dish,7.7,7.7,7.6,13862502566,独墅湖高教区仁爱路文星广场A2号(近移动营业厅)--Dushu Lake Higher education zone Renai road Wenxing square No. A2 (next to Chan Mobile Service Hall),100
+10,明月湾菜馆 --The bright moon bay restaurant/ Mingyuewang restaurant,31,Sichuan dish,7.5,7.8,7.6,8716865,独墅湖高教区文星广场学生公寓A区a04幢一楼(MBA酒店后50米)--Dushu Lake Higher education Wenxing square firest floor of student dormitory  A04 building (Behind MBA hotel),357
+11,敬斋酒店 --Jingzhai hotel,92,Hunan dish,9.1,8.9,9,6260333/62601999,仁爱路158号独墅湖高教区中国人民大学国际学院院内(近文星广场)--Renai Road No.158 Dushu Lake Higher education zone within the Renmin University of China (next to Wenxing square),768
+12,潇湘酒店（斜塘店）--Xiaoxiang restaurant (Xietang branch),53,Hunan dish,7.1,7.2,7.1,65478887,斜塘东延路莲花商业街中心(东延路与莲花商业街交叉口)--Centre of Xietang Dongyan road Lotus flower business street (the cross of Dongyan street and Lotus flower business street),1500
+13,湘膳（独墅湖店）--Xiangshan restaurant (Dushu Lake branch),73,Hunan dish,8.4,8.2,8.5,65966667,独墅湖月亮湾星月坊商圈E01号(近独墅湖体育馆)-- Dushu Lake moon bay street Xingyue No. E01 (next to Dushu Lake gymnasium),2200
+14,御记煌三汁焖锅（文星广场店）--YuJiHuangSanZhiMenGuo(WenXing branch),48,Hotpot,8.2,8.3,8.2,62539695,独墅湖大学城文星广场--Dushu Lake Higher Education Zone WenXing square,473
+15,丫丫小煮（文星广场店）--YaYaXiaoZhu（WenXing branch),51,Hotpot,9,9.1,9.1,18912798470,独墅湖高教区文星广场A4号（近中国移动动感地带营业厅）--Du Shu Lake Education Town WenXing square  Number A4 (Next to China Mobile),640
+16,重庆鸡公煲（文星广场店）--ChongQinJiGongBao(WenXing brach),35,Hotpot,8.4,8.1,8.8,62565071,独墅湖高教区仁爱路文星广场内--Dushu Lake Higher education zone Renai road Wenxing square,480
+17,关于吃.Com(高教店）--GuanYuChi(higher education area branch),50,Suzhou dish,9,8.9,8.9,62769176,林泉街598号邻里中心翰林大厦2楼 --Linquan Street Number 598 LinLI Center Hanlin Building second floor,733
+18,桃花源记（高教店）--TaoHuaYuanJi(higher education area branch),24,Suzhou dish,9.1,9,9,62769179,林泉街598号翰林邻里中心2楼b202-1室(关于吃.com)旁 --Linquan Street Number 598  Han Lin LinLI Center Building second floor (Next to GuanYuChi.com),708
+19,地锅居（翰林店）--DiGuoJu(HanLin branch),42,Suzhou dish,7.7,7.1,7.5,62568243,林泉街298号（翰林大厦北2楼207）--Linquan Street Number 298 (The north of HanLin building second floor 207),666
+20,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuan branch),39,Japaness dish,9.1,9.2,9.1,62763036,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuanDian),763
+21,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuan branch),10,Japaness dish,7.3,7.3,7.3,15370031170,独墅湖高教区仁爱路20号文星广场（佳得利超市对面）--Dushu Lake Higher Education Zone Renai Road Number 20 WenXing Square (right in front of supermarket JiaDeLi),464
+22,秋季语寿司（文星店）--QiuJiYuShouSi(Wenxing branch),11,Japaness dish,8.4,8.9,9,15262588028,文星广场B2座（近老娘舅）--WenXing Square B2 Building (Next to LaoNiangJiu),568
+23,这美咖啡 --ZeMo Café,54,Western dish,9.1,8.8,9.1,89573182,仁爱路105号（工商银行）--Renai Road Number 105 (Industral and Commerical Bank Of China),322
+24,小西厨西餐（文星广场店）--XiaoXiChuXiCan(WenXing branch),15,Western dish,7.1,7.3,7.4,18761937694,仁爱路199号文星广场2楼 --Renai Road Number 199 WenXing Square second floor,519
+25,水天堂西餐厅（邻瑞广场店）--ShuiTianTangXiCanTing(Link city branch),66,Western dish,9.2,9.1,9.1,67777737,西华林街邻瑞广场403号 --XiHuaLinJie LinRui Square Number 403,34000
\ No newline at end of file
Index: app/src/main/res/layout/activity_register.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_register.xml	(revision )
+++ app/src/main/res/layout/activity_register.xml	(revision )
@@ -0,0 +1,11 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.Register">
+
+    <include layout="@layout/content_register" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/averageSpentFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/averageSpentFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/averageSpentFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of averageSpentFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class averageSpentFilter implements Filter {
+    private int myAverageSpent;
+
+    public averageSpentFilter(int averageSpent) {
+        myAverageSpent = averageSpent;
+    }
+
+    public boolean satisfies(String id) {
+        int averageSpent = RestaurantDatabase.getAverageSpent(id);
+        return averageSpent <= myAverageSpent;
+    }
+}
Index: app/src/main/res/drawable/uncheck_bg.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/uncheck_bg.xml	(revision )
+++ app/src/main/res/drawable/uncheck_bg.xml	(revision )
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <corners android:radius="2dp" />
+    <stroke
+        android:width="1dp"
+        android:color="@color/gray" />
+    <solid android:color="@color/white" />
+
+</shape>
\ No newline at end of file
Index: app/src/main/res/layout/content_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_login.xml	(revision )
+++ app/src/main/res/layout/content_login.xml	(revision )
@@ -0,0 +1,102 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@drawable/lo"
+    android:orientation="vertical"
+    android:weightSum="1">
+
+    <ImageView
+        android:id="@+id/imageView1"
+        android:layout_width="330dp"
+        android:layout_height="200dp"
+        android:layout_gravity="center_vertical"
+        android:layout_marginLeft="30dp"
+        android:layout_marginTop="20dp" />
+
+
+    <EditText
+        android:id="@+id/Account"
+        android:layout_width="350dp"
+        android:layout_height="wrap_content"
+        android:layout_column="0"
+        android:layout_marginLeft="0dp"
+        android:layout_span="7"
+        android:drawableRight="@drawable/account"
+        android:hint="       Enter   Account"
+        android:inputType="text"
+        android:minWidth="350px"
+        android:textColorHint="#EEEEE0"
+        android:textSize="40px"
+        android:textStyle="bold" />
+
+
+    <EditText
+        android:id="@+id/passwordin"
+        android:layout_width="350dp"
+        android:layout_height="wrap_content"
+        android:layout_column="0"
+        android:layout_marginLeft="20dp"
+        android:layout_span="7"
+        android:drawableRight="@drawable/password"
+        android:hint="  Enter password   "
+        android:inputType="textPassword"
+        android:minWidth="350px"
+        android:textColorHint="#EEEEE0"
+        android:textSize="40px"
+        android:textStyle="bold" />
+
+
+    <Button
+        android:id="@+id/login"
+        android:layout_width="330dp"
+        android:layout_height="wrap_content"
+        android:layout_column="0"
+        android:layout_marginLeft="30dp"
+        android:layout_marginTop="10dp"
+        android:layout_span="7"
+        android:background="#927ae6"
+        android:text="Log   in"
+        android:textColor="#ffffff"
+        android:textStyle="bold" />
+
+    <Button
+        android:id="@+id/signUp"
+        android:layout_width="153dp"
+        android:layout_height="32dp"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="20px"
+        android:background="#00000000"
+        android:gravity="center_vertical"
+        android:text="            Sign    up"
+        android:textAllCaps="false"
+        android:textColor="#fbe1e1" />
+
+    <Button
+        android:id="@+id/useAsVisitor"
+        android:layout_width="wrap_content"
+        android:layout_height="32dp"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="20px"
+        android:background="#00000000"
+        android:gravity="center_vertical"
+        android:text="Use As Vistor"
+        android:textAllCaps="false"
+        android:textColor="#fbe1e1" />
+
+    <Button
+        android:id="@+id/forget"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_column="2"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="200px"
+        android:layout_span="1"
+        android:background="#00000000"
+        android:gravity="center"
+        android:text="Forget your password?"
+        android:textAllCaps="false"
+        android:textColor="#6ab971"
+        android:textColorHighlight="#fdfefc"
+        android:textSize="18dp" />
+</LinearLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Sqliteopenhelper.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Sqliteopenhelper.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/Sqliteopenhelper.java	(revision )
@@ -0,0 +1,51 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+/**
+ * Created by Sihan on 2016/4/23.
+ */
+
+import android.content.Context;
+import android.database.sqlite.SQLiteDatabase;
+import android.database.sqlite.SQLiteOpenHelper;
+//新建类Sqliteopenhelper 继承于SQLiteOpenHelper
+
+public class Sqliteopenhelper extends SQLiteOpenHelper {
+
+    //数据库名：
+    private static final String DBNAME = "test.db";
+    //表名
+    private static final String TABLENAME = "student";
+    private static final String GOODSNAME = "goods";
+    //版本号：具体我也不知道是什么，照着写就行了
+    private static final int TESTVERSION = 1;
+
+    public Sqliteopenhelper(Context context) {
+        super(context, DBNAME, null, TESTVERSION);
+        // TODO Auto-generated constructor stub
+    }
+
+    //初始化，创建表
+    @Override
+    public void onCreate(SQLiteDatabase db) {
+        // TODO Auto-generated method stub
+        String sql1 = "create table" + " " + TABLENAME + "(id varchar,name varchar)";
+        String sql2 = "create table" + " " + GOODSNAME + "(LF varchar,name varchar,miaoshu varchar)";
+        db.execSQL(sql1);
+        db.execSQL(sql2);
+
+    }
+
+    //失败后删除，重新创建
+    @Override
+    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
+        // TODO Auto-generated method stub
+        if (newVersion > oldVersion) {
+            String sql1 = "drop table if exists" + TABLENAME;
+            String sql2 = "drop table if exists" + GOODSNAME;
+            db.execSQL(sql1);
+            db.execSQL(sql2);
+            this.onCreate(db);
+        }
+    }
+
+}
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/TrueFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/TrueFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/TrueFilter.java	(revision )
@@ -0,0 +1,15 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of TrueFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class TrueFilter implements Filter {
+    @Override
+    public boolean satisfies(String id) {
+        return true;
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/addressFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/addressFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/addressFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of addressFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class addressFilter implements Filter {
+    private String myPlace;
+
+    public addressFilter(String place) {
+        myPlace = place;
+    }
+
+    public boolean satisfies(String id) {
+        String address = RestaurantDatabase.getAddress(id);
+        return address.indexOf(myPlace) != -1;
+    }
+}
Index: app/src/main/res/drawable/page_indicator_unfocused.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/page_indicator_unfocused.xml	(revision )
+++ app/src/main/res/drawable/page_indicator_unfocused.xml	(revision )
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector>
+    <shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval">
+
+        <solid android:color="#33000000" />
+
+        <corners android:radius="5dip" />
+
+    </shape>
+</selector>
Index: app/src/main/res/layout/activity_forget_password.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_forget_password.xml	(revision )
+++ app/src/main/res/layout/activity_forget_password.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:paddingBottom="@dimen/activity_vertical_margin"
+    android:paddingLeft="@dimen/activity_horizontal_margin"
+    android:paddingRight="@dimen/activity_horizontal_margin"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.ForgetPassword">
+
+</RelativeLayout>
Index: app/src/main/java/sunger/net/org/dropmenu/tab/listener/OnTabSelectListener.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/listener/OnTabSelectListener.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/listener/OnTabSelectListener.java	(revision )
@@ -0,0 +1,7 @@
+package sunger.net.org.dropmenu.tab.listener;
+
+public interface OnTabSelectListener {
+    void onTabSelect(int position);
+
+    void onTabReselect(int position);
+}
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Week9_java.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Week9_java.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Week9_java.java	(revision )
@@ -0,0 +1,37 @@
+/*
+ * To change this license header, choose License Headers in Project Properties.
+ * To change this template file, choose Tools | Templates
+ * and open the template in the editor.
+ */
+package com.example.sihan.restaurantrecommendation.Function;
+
+/**
+ * @author Ginxi
+ */
+public class Week9_java {
+
+    /**
+     * @param args the command line arguments
+     */
+//    public static void main(String[] args) {
+//        // TODO code application logic here
+//        FirstRatings s = new FirstRatings();
+//        //   RestaurantRunnerWithFilters rs = new RestaurantRunnerWithFilters();
+//        //   rs.printAverageRatingsByDistanceAndCategories();
+//        String word = "";
+//        int averageSpent = 59;
+//        String categories = "";
+//        String place = "";
+//        int distances = 500;
+//
+//        ArrayList<Restaurant> rs = new ArrayList<Restaurant>();
+//        rs = s.wantedRestaurants(word, averageSpent, categories,
+//                place, distances);
+//        for (Restaurant current : rs) {
+//            System.out.println(current);
+//        }
+
+    //  s.testLoadUsers();
+    //   }
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/AllFilters.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/AllFilters.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/AllFilters.java	(revision )
@@ -0,0 +1,34 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of AllFilters here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.util.ArrayList;
+
+public class AllFilters implements Filter {
+    ArrayList<Filter> filters;
+
+    public AllFilters() {
+        filters = new ArrayList<Filter>();
+    }
+
+    public void addFilter(Filter f) {
+        filters.add(f);
+    }
+
+    public boolean satisfies(String id) {
+        for (Filter f : filters) {
+            if (!f.satisfies(id)) {
+                return false;
+            }
+        }
+
+        return true;
+    }
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/SortRestaurant.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/SortRestaurant.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/SortRestaurant.java	(revision )
@@ -0,0 +1,53 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+import java.util.ArrayList;
+import java.util.Collections;
+
+/**
+ * Created by Ginxi on 2016/4/20.
+ */
+public class SortRestaurant {
+    private ArrayList<Restaurant> rList;
+
+    public SortRestaurant(ArrayList<Restaurant> r) {
+        rList = r;
+    }
+
+    public void sortRest(String str) {
+        ArrayList<Double> list = new ArrayList<Double>();
+        ArrayList<Double> tr = new ArrayList<Double>();
+        ArrayList<Restaurant> temp = new ArrayList<Restaurant>();
+        temp = (ArrayList<Restaurant>) rList.clone();
+        switch (str) {
+            case "Service":
+                for (Restaurant res1 : temp) {
+                    list.add(res1.getServiceScore());
+                    tr.add(res1.getServiceScore());
+                }
+                break;
+            case "Environment":
+                for (Restaurant res1 : temp) {
+                    list.add(res1.getEnvironmentScore());
+                    tr.add(res1.getEnvironmentScore());
+                }
+                break;
+            case "Flavor":
+                for (Restaurant res1 : temp) {
+                    list.add(res1.getFlavorScore());
+                    tr.add(res1.getFlavorScore());
+                }
+                break;
+
+        }
+        ArrayList<Integer> index = new ArrayList<Integer>();
+        Collections.sort(list);
+        for (Double dou : list) {
+            index.add(tr.indexOf(dou));
+        }
+        rList.clear();
+        RestaurantLinkedList rl = new RestaurantLinkedList();
+        for (int i : index) {
+            rList.add(temp.get(index.size() - i - 1));
+        }
+    }
+}
Index: app/src/main/res/layout/left_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/left_menu.xml	(revision )
+++ app/src/main/res/layout/left_menu.xml	(revision )
@@ -0,0 +1,111 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+
+    >
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:orientation="vertical">
+
+        <RelativeLayout
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content">
+
+            <ImageButton
+                android:id="@+id/mannual_search"
+                android:layout_width="50dp"
+                android:layout_height="50dp"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_marginTop="20dp"
+                android:src="@drawable/home_pressed" />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_toRightOf="@id/mannual_search"
+                android:text="Mannual Search"
+                android:textColor="#ffffff"
+                android:textSize="20sp" />
+        </RelativeLayout>
+
+        <RelativeLayout
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content">
+
+            <ImageButton
+                android:id="@+id/personal_search"
+                android:layout_width="50dp"
+                android:layout_height="50dp"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_marginTop="20dp"
+                android:src="@drawable/home_pressed" />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_toRightOf="@id/personal_search"
+                android:text="Personal Search"
+                android:textColor="#ffffff"
+                android:textSize="20sp" />
+        </RelativeLayout>
+
+        <RelativeLayout
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content">
+
+            <ImageButton
+                android:id="@+id/personal_account"
+                android:layout_width="50dp"
+                android:layout_height="50dp"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_marginTop="20dp"
+                android:src="@drawable/home_pressed" />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_toRightOf="@id/personal_account"
+                android:text="Persoanl Account"
+                android:textColor="#ffffff"
+                android:textSize="20sp" />
+        </RelativeLayout>
+
+        <RelativeLayout
+            android:layout_width="fill_parent"
+            android:layout_height="wrap_content">
+
+            <ImageButton
+                android:id="@+id/additional_function"
+                android:layout_width="50dp"
+                android:layout_height="50dp"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_marginTop="20dp"
+                android:src="@drawable/home_pressed" />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_centerVertical="true"
+                android:layout_marginLeft="20dp"
+                android:layout_toRightOf="@id/additional_function"
+                android:text="Additional Function"
+                android:textColor="#ffffff"
+                android:textSize="20sp" />
+        </RelativeLayout>
+
+    </LinearLayout>
+</RelativeLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/serviceScoreFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/serviceScoreFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/serviceScoreFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of serviceScore here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class serviceScoreFilter implements Filter {
+    private double myServiceScore;
+
+    public serviceScoreFilter(double serviceScore) {
+        myServiceScore = serviceScore;
+    }
+
+    public boolean satisfies(String id) {
+        double serviceScore = RestaurantDatabase.getServiceScore(id);
+        return serviceScore >= myServiceScore;
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FileResource.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FileResource.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FileResource.java	(revision )
@@ -0,0 +1,86 @@
+/*
+ * To change this license header, choose License Headers in Project Properties.
+ * To change this template file, choose Tools | Templates
+ * and open the template in the editor.
+ */
+package com.example.sihan.restaurantrecommendation.Function;
+
+import android.annotation.TargetApi;
+import android.os.Build;
+
+import org.apache.commons.csv.CSVFormat;
+import org.apache.commons.csv.CSVParser;
+
+import java.io.BufferedReader;
+import java.io.File;
+import java.io.FileInputStream;
+import java.io.InputStream;
+import java.io.InputStreamReader;
+import java.io.Reader;
+import java.io.StringReader;
+
+/**
+ * @author Ginxi
+ */
+class FileResource {
+
+    private String myPath;
+    private String mySource;
+    private File mySaveFile;
+
+    public FileResource(String filename, InputStream is) {
+        initRead(filename, is);
+    }
+
+    public CSVParser getCSVParser() {
+        return getCSVParser(true);
+    }
+
+    public CSVParser getCSVParser(boolean withHeader) {
+        return getCSVParser(withHeader, ",");
+    }
+
+    public CSVParser getCSVParser(boolean withHeader, String delimiter) {
+        if (delimiter == null || delimiter.length() != 1) {
+            throw new ResourceException("FileResource: CSV delimiter must be a single character: " + delimiter);
+        }
+        try {
+            char delim = delimiter.charAt(0);
+            Reader input = new StringReader(mySource);
+            if (withHeader) {
+                return new CSVParser(input, CSVFormat.EXCEL.withHeader().withDelimiter(delim));
+            } else {
+                return new CSVParser(input, CSVFormat.EXCEL.withDelimiter(delim));
+            }
+        } catch (Exception e) {
+            throw new ResourceException("FileResource: cannot read " + myPath + " as a CSV file.");
+        }
+    }
+
+    @TargetApi(Build.VERSION_CODES.KITKAT)
+    private String initFromStream(InputStream stream) {
+        try (BufferedReader buff = new BufferedReader(new InputStreamReader(stream, "UTF-8"))) {
+            StringBuilder contents = new StringBuilder();
+            String line = null;
+            while ((line = buff.readLine()) != null) {
+                contents.append(line + "\n");
+            }
+            return contents.toString();
+        } catch (Exception e) {
+            throw new ResourceException("FileResource: error encountered reading " + myPath, e);
+        }
+    }
+
+    private void initRead(String fname, InputStream is) {
+        try {
+            myPath = fname;
+            //  InputStream is = getClass().getClassLoader().getResourceAsStream(fname);
+            if (is == null) {
+                is = new FileInputStream(fname);
+            }
+            mySource = initFromStream(is);
+        } catch (Exception e) {
+            throw new ResourceException("FileResource: cannot access " + fname);
+        }
+    }
+}
Index: app/src/main/res/layout/user_toolbar.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/user_toolbar.xml	(revision )
+++ app/src/main/res/layout/user_toolbar.xml	(revision )
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.v7.widget.Toolbar xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@+id/user_toolbar"
+    android:layout_width="match_parent"
+    android:layout_height="?attr/actionBarSize"
+    android:background="?attr/colorPrimary"
+    android:minHeight="?attr/actionBarSize">
+
+    <TextView
+        android:id="@+id/text_view_toolbar_title"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:textColor="@color/text_color"
+        android:textSize="@dimen/tool_bar_text_size" />
+
+</android.support.v7.widget.Toolbar>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ThirdRatings.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ThirdRatings.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/ThirdRatings.java	(revision )
@@ -0,0 +1,121 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of ThirdRatings here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.io.InputStream;
+import java.util.ArrayList;
+
+public class ThirdRatings {
+
+    private ArrayList<User> myUsers;
+
+    public ThirdRatings() {
+        //default constructor
+        // this( "CSE208Data2Short.csv");
+    }
+
+    public ThirdRatings(String ratingsfile, InputStream is) {
+        FirstRatings sample = new FirstRatings();
+
+        myUsers = sample.loadUsers(ratingsfile, is);
+    }
+
+    public int getUserSize() {
+        return myUsers.size();
+    }
+
+    private double getAverageEnvironByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(myUsers, id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getEnvironRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    private double getAverageServiceByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(myUsers, id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getServiceRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    private double getAverageFlavorByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(myUsers, id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getFlavorRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    public ArrayList<Rating> getAverageRatings(int minimalUsers) {
+        ArrayList<Rating> output = new ArrayList<Rating>();
+        ArrayList<String> restaurants = RestaurantDatabase.filterBy(new TrueFilter());
+        for (String restaurantID : restaurants) {
+
+            double averageEnvironScores = getAverageEnvironByID(restaurantID, minimalUsers);
+            double averageServiceScores = getAverageServiceByID(restaurantID, minimalUsers);
+            double averageFlavorScores = getAverageFlavorByID(restaurantID, minimalUsers);
+
+            output.add(new Rating(restaurantID, averageFlavorScores, averageEnvironScores, averageServiceScores));
+        }
+        ArrayList<Rating> finalOutput = new ArrayList<Rating>();
+        for (Rating currentRating : output) {
+            if (currentRating.getEnvironValue() != 0.0 || currentRating.getFlavorValue() != 0.0 ||
+                    currentRating.getServiceValue() != 0.0) {
+                finalOutput.add(currentRating);
+            }
+        }
+        return finalOutput;
+    }
+
+    public ArrayList<Rating> getAverageRatingsByFilter(Filter f, int minimalUsers) {
+        ArrayList<Rating> output = new ArrayList<Rating>();
+        ArrayList<String> restaurants = RestaurantDatabase.filterBy(f);
+        for (String restaurantID : restaurants) {
+
+            double averageEnvironScores = getAverageEnvironByID(restaurantID, minimalUsers);
+            double averageServiceScores = getAverageServiceByID(restaurantID, minimalUsers);
+            double averageFlavorScores = getAverageFlavorByID(restaurantID, minimalUsers);
+
+            output.add(new Rating(restaurantID, averageFlavorScores, averageEnvironScores, averageServiceScores));
+        }
+        ArrayList<Rating> finalOutput = new ArrayList<Rating>();
+        for (Rating currentRating : output) {
+            if (currentRating.getEnvironValue() != 0.0 || currentRating.getFlavorValue() != 0.0 ||
+                    currentRating.getServiceValue() != 0.0) {
+                finalOutput.add(currentRating);
+            }
+        }
+        return finalOutput;
+    }
+
+
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainActivity.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/User_MainActivity.java	(revision )
@@ -0,0 +1,171 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.graphics.drawable.BitmapDrawable;
+import android.os.Bundle;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentTransaction;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.Toolbar;
+import android.view.Menu;
+import android.view.MenuInflater;
+import android.view.MenuItem;
+import android.view.View;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.example.sihan.restaurantrecommendation.R;
+import com.yalantis.contextmenu.lib.ContextMenuDialogFragment;
+import com.yalantis.contextmenu.lib.MenuObject;
+import com.yalantis.contextmenu.lib.MenuParams;
+import com.yalantis.contextmenu.lib.interfaces.OnMenuItemClickListener;
+import com.yalantis.contextmenu.lib.interfaces.OnMenuItemLongClickListener;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class User_MainActivity extends AppCompatActivity implements OnMenuItemClickListener, OnMenuItemLongClickListener {
+
+    private FragmentManager fragmentManager;
+    private ContextMenuDialogFragment mMenuDialogFragment;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.user_activity_main);
+        fragmentManager = getSupportFragmentManager();
+        initToolbar();
+        initMenuFragment();
+        addFragment(new User_MainFragment(), true, R.id.container);
+    }
+
+    private void initMenuFragment() {
+        MenuParams menuParams = new MenuParams();
+        menuParams.setActionBarSize((int) getResources().getDimension(R.dimen.tool_bar_height));
+        menuParams.setMenuObjects(getMenuObjects());
+        menuParams.setClosableOutside(false);
+        mMenuDialogFragment = ContextMenuDialogFragment.newInstance(menuParams);
+        mMenuDialogFragment.setItemClickListener(this);
+        mMenuDialogFragment.setItemLongClickListener(this);
+    }
+
+    private List<MenuObject> getMenuObjects() {
+        // You can use any [resource, bitmap, drawable, color] as image:
+        // item.setResource(...)
+        // item.setBitmap(...)
+        // item.setDrawable(...)
+        // item.setColor(...)
+        // You can set image ScaleType:
+        // item.setScaleType(ScaleType.FIT_XY)
+        // You can use any [resource, drawable, color] as background:
+        // item.setBgResource(...)
+        // item.setBgDrawable(...)
+        // item.setBgColor(...)
+        // You can use any [color] as text color:
+        // item.setTextColor(...)
+        // You can set any [color] as divider color:
+        // item.setDividerColor(...)
+
+        List<MenuObject> menuObjects = new ArrayList<>();
+
+        MenuObject close = new MenuObject();
+        close.setResource(R.drawable.user_icn_close);
+
+        MenuObject send = new MenuObject("Send message");
+        send.setResource(R.drawable.user_icn_1);
+
+        MenuObject like = new MenuObject("Like profile");
+        Bitmap b = BitmapFactory.decodeResource(getResources(), R.drawable.user_icn_2);
+        like.setBitmap(b);
+
+        MenuObject addFr = new MenuObject("Add to friends");
+        BitmapDrawable bd = new BitmapDrawable(getResources(),
+                BitmapFactory.decodeResource(getResources(), R.drawable.user_icn_3));
+        addFr.setDrawable(bd);
+
+        MenuObject addFav = new MenuObject("Add to favorites");
+        addFav.setResource(R.drawable.user_icn_4);
+
+        MenuObject block = new MenuObject("Block user");
+        block.setResource(R.drawable.user_icn_5);
+
+        menuObjects.add(close);
+        menuObjects.add(send);
+        menuObjects.add(like);
+        menuObjects.add(addFr);
+        menuObjects.add(addFav);
+        menuObjects.add(block);
+        return menuObjects;
+    }
+
+    private void initToolbar() {
+        Toolbar mToolbar = (Toolbar) findViewById(R.id.user_toolbar);
+        TextView mToolBarTextView = (TextView) findViewById(R.id.text_view_toolbar_title);
+        setSupportActionBar(mToolbar);
+        getSupportActionBar().setHomeButtonEnabled(true);
+        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
+        getSupportActionBar().setDisplayShowTitleEnabled(false);
+        mToolbar.setNavigationIcon(R.drawable.btn_back);
+        mToolbar.setNavigationOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                onBackPressed();
+            }
+        });
+        mToolBarTextView.setText("Samantha");
+    }
+
+    protected void addFragment(Fragment fragment, boolean addToBackStack, int containerId) {
+        invalidateOptionsMenu();
+        String backStackName = fragment.getClass().getName();
+        boolean fragmentPopped = fragmentManager.popBackStackImmediate(backStackName, 0);
+        if (!fragmentPopped) {
+            FragmentTransaction transaction = fragmentManager.beginTransaction();
+            transaction.add(containerId, fragment, backStackName)
+                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
+            if (addToBackStack)
+                transaction.addToBackStack(backStackName);
+            transaction.commit();
+        }
+    }
+
+    @Override
+    public boolean onCreateOptionsMenu(final Menu menu) {
+        MenuInflater inflater = getMenuInflater();
+        inflater.inflate(R.menu.menu_main, menu);
+        return true;
+    }
+
+    @Override
+    public boolean onOptionsItemSelected(MenuItem item) {
+        switch (item.getItemId()) {
+            case R.id.context_menu:
+                if (fragmentManager.findFragmentByTag(ContextMenuDialogFragment.TAG) == null) {
+                    mMenuDialogFragment.show(fragmentManager, ContextMenuDialogFragment.TAG);
+                }
+                break;
+        }
+        return super.onOptionsItemSelected(item);
+    }
+
+    @Override
+    public void onBackPressed() {
+        if (mMenuDialogFragment != null && mMenuDialogFragment.isAdded()) {
+            mMenuDialogFragment.dismiss();
+        } else {
+            finish();
+        }
+    }
+
+    @Override
+    public void onMenuItemClick(View clickedView, int position) {
+        Toast.makeText(this, "Clicked on position: " + position, Toast.LENGTH_SHORT).show();
+    }
+
+    @Override
+    public void onMenuItemLongClick(View clickedView, int position) {
+        Toast.makeText(this, "Long clicked on position: " + position, Toast.LENGTH_SHORT).show();
+    }
+}
Index: app/src/main/res/layout/layout_tab_top.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab_top.xml	(revision )
+++ app/src/main/res/layout/layout_tab_top.xml	(revision )
@@ -0,0 +1,42 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <LinearLayout
+        android:id="@+id/ll_tap"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:orientation="vertical">
+
+        <ImageView
+            android:id="@+id/iv_tab_icon"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+
+        <TextView
+            android:id="@+id/tv_tab_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:singleLine="true" />
+    </LinearLayout>
+
+    <sunger.net.org.dropmenu.tab.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_toRightOf="@+id/ll_tap"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/test/java/com/example/sihan/restaurantrecommendation/ExampleUnitTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/test/java/com/example/sihan/restaurantrecommendation/ExampleUnitTest.java	(revision )
+++ app/src/test/java/com/example/sihan/restaurantrecommendation/ExampleUnitTest.java	(revision )
@@ -0,0 +1,15 @@
+package com.example.sihan.restaurantrecommendation;
+
+import org.junit.Test;
+
+import static org.junit.Assert.*;
+
+/**
+ * To work on unit tests, switch the Test Artifact in the Build Variants view.
+ */
+public class ExampleUnitTest {
+    @Test
+    public void addition_isCorrect() throws Exception {
+        assertEquals(4, 2 + 2);
+    }
+}
\ No newline at end of file
Index: app/src/main/res/drawable/home_btn.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/home_btn.xml	(revision )
+++ app/src/main/res/drawable/home_btn.xml	(revision )
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/home_pressed" android:state_checked="true" android:state_enabled="true"></item>
+    <item android:drawable="@drawable/home_normal"></item>
+</selector>
Index: app/src/main/res/layout/content_mannual_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_mannual_search.xml	(revision )
+++ app/src/main/res/layout/content_mannual_search.xml	(revision )
@@ -0,0 +1,150 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical">
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="50dp"
+        android:layout_marginLeft="20dp"
+        android:layout_marginRight="12dp"
+        android:layout_marginTop="10dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+
+        <EditText
+            android:id="@+id/et_search"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_marginLeft="10dp"
+            android:layout_weight="4"
+            android:background="@null"
+            android:gravity="center_vertical"
+            android:hint="Search"
+            android:imeOptions="actionSearch"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="17sp" />
+
+        <Button
+            android:id="@+id/searchField"
+            android:layout_width="80px"
+            android:layout_height="wrap_content"
+            android:layout_gravity="left"
+            android:background="@drawable/search" />
+
+    </LinearLayout>
+
+    <FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
+        android:layout_width="fill_parent"
+        android:layout_height="180dip"
+        android:layout_marginTop="20dp">
+
+        <android.support.v4.view.ViewPager
+            android:id="@+id/viewPager"
+            android:layout_width="fill_parent"
+            android:layout_height="fill_parent"
+            android:background="@drawable/e" />
+
+        <LinearLayout
+            android:layout_width="fill_parent"
+            android:layout_height="35dip"
+            android:layout_gravity="bottom"
+            android:gravity="center"
+            android:orientation="vertical">
+
+            <LinearLayout
+                android:id="@+id/viewGroup"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignParentBottom="true"
+                android:layout_marginTop="3dip"
+                android:gravity="center_horizontal"
+                android:orientation="horizontal"></LinearLayout>
+        </LinearLayout>
+
+    </FrameLayout>
+
+
+    <TableLayout
+        android:layout_width="match_parent"
+        android:layout_height="180dp"
+        android:gravity="center_vertical"
+        android:orientation="vertical"
+        android:stretchColumns="*">
+
+        <TableRow android:orientation="vertical">
+
+            <Spinner
+                android:id="@+id/spinnerScore"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:entries="@array/Score" />
+
+            <Spinner
+                android:id="@+id/spinnerAverage"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:entries="@array/Average" />
+
+            <Spinner
+                android:id="@+id/spinnerDistance"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:entries="@array/Distance" />
+
+            <Spinner
+                android:id="@+id/spinnerDestination"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_weight="1"
+                android:entries="@array/Destination" />
+            />
+
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <LinearLayout
+                android:id="@+id/linearLayout"
+                android:layout_column="0"
+                android:orientation="horizontal">
+
+                <TextView
+                    android:layout_width="130dp"
+                    android:layout_height="50dp"
+                    android:text="Score"
+                    android:textSize="60px" />
+
+
+                <TextView
+                    android:layout_width="150dp"
+                    android:layout_height="50dp"
+                    android:text="Restaurant"
+                    android:textSize="60px" />
+
+            </LinearLayout>
+        </TableRow>
+
+        <TableRow
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <ListView
+                android:id="@+id/result"
+                android:layout_below="@+id/linearLayout"
+                android:layout_column="0"
+                android:clickable="true"
+                android:longClickable="true" />
+        </TableRow>
+
+    </TableLayout>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentScore.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentScore.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/fragment/FragmentScore.java	(revision )
@@ -0,0 +1,54 @@
+package sunger.net.org.dropmenu.fragment;
+
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.AdapterView;
+import android.widget.ListView;
+
+import java.util.Arrays;
+
+import sunger.net.org.dropmenu.adapter.FilterAdapter;
+import sunger.net.org.dropmenu.new_drop;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class FragmentScore extends Fragment {
+
+    private ListView listView;
+    private FilterAdapter adapter;
+    private String score[] = {"Service", "Flavor", "Environment", "Total"};
+    private new_drop newdrop;
+
+    @Override
+    public void onCreate(@Nullable Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        newdrop = (new_drop) getActivity();
+    }
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        listView = new ListView(getActivity());
+        return listView;
+    }
+
+    @Override
+    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
+        super.onViewCreated(view, savedInstanceState);
+        adapter = new FilterAdapter(getActivity(), Arrays.asList(score));
+        listView.setDividerHeight(0);
+        listView.setAdapter(adapter);
+        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+            @Override
+            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
+                newdrop.onFilter(0, score[position]);
+                adapter.setCheckItem(position);
+            }
+        });
+    }
+}
Index: app/src/main/res/layout/new_drop_con.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/new_drop_con.xml	(revision )
+++ app/src/main/res/layout/new_drop_con.xml	(revision )
@@ -0,0 +1,33 @@
+<?xml version="1.0" encoding="utf-8"?>
+<org.net.sunger.widget.DropDownLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:id="@+id/dropdown"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:showIn="@layout/activity_main">
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:background="#fff">
+
+        <android.support.v7.widget.RecyclerView
+            android:id="@+id/recyclerView"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"></android.support.v7.widget.RecyclerView>
+    </RelativeLayout>
+
+    <org.net.sunger.widget.MaskView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:background="#88838685" />
+
+
+    <org.net.sunger.widget.MenuLayout
+        android:id="@+id/menuLayout"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:background="#fff"></org.net.sunger.widget.MenuLayout>
+
+
+</org.net.sunger.widget.DropDownLayout>
Index: app/src/main/res/layout/content_special_activity_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_special_activity_search.xml	(revision )
+++ app/src/main/res/layout/content_special_activity_search.xml	(revision )
@@ -0,0 +1,63 @@
+<?xml version="1.0" encoding="utf-8"?>
+<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@android:id/tabhost"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+        <!-- 隐藏TabWidget -->
+
+        <TabWidget
+            android:id="@android:id/tabs"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:visibility="gone"></TabWidget>
+
+        <!-- 视觉上,用单选按钮替代TabWidget -->
+        <RadioGroup
+            android:id="@+id/special_radiogroup"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+
+            android:orientation="horizontal"
+            android:paddingTop="8dp">
+
+            <RadioButton
+                android:id="@+id/PersonalSearch"
+                style="@style/tab_button_bg"
+                android:checked="true"
+                android:drawableTop="@drawable/personal_btn"
+                android:text="@string/personal"
+                android:textColor="@color/tab_text" />
+
+            <RadioButton
+                android:id="@+id/MannualSearch"
+                style="@style/tab_button_bg"
+                android:drawableTop="@drawable/home_btn"
+                android:text="@string/mannual"
+                android:textColor="@color/tab_text"
+
+                />
+
+
+            <RadioButton
+                android:id="@+id/MoreFunction"
+                style="@style/tab_button_bg"
+                android:drawableTop="@drawable/more_btn"
+                android:text="@string/more"
+                android:textColor="@color/tab_text" />
+
+        </RadioGroup>
+
+        <FrameLayout
+            android:id="@android:id/tabcontent"
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            android:layout_weight="1"></FrameLayout>
+
+    </LinearLayout>
+</TabHost>
+
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerWithFilters.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerWithFilters.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerWithFilters.java	(revision )
@@ -0,0 +1,71 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of RestaurantRunnerWithFilters here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class RestaurantRunnerWithFilters {
+//    public void printAverageRatings(){
+//        String userFile = "CSE208Data2Short.csv";
+//        String restaurantFile = "raw/cse208data1short.csv";
+//        ThirdRatings example = new ThirdRatings(userFile);
+//        System.out.println("The number of users in "+userFile+": "+example.getUserSize());
+//       // RestaurantDatabase.initialize(restaurantFile);
+//        System.out.println("The number of restaurants in RestaurantDatabase is: "+RestaurantDatabase.size());
+//
+//        ArrayList<Rating> output = example.getAverageRatings(2);
+//        ArrayList<Double> ratingsList = new ArrayList<Double>();
+//        for(Rating currentRating: output){
+//            ratingsList.add(currentRating.getAverageValue());
+//        }
+//        Collections.sort(ratingsList);
+//        System.out.println("find "+ratingsList.size()+" restaurants");
+//
+//        for(double currentValue: ratingsList){
+//            for(Rating currentRating: output){
+//                if(currentRating.getAverageValue() == currentValue){
+//                    String id = currentRating.getItem();
+//                    String title = RestaurantDatabase.getTitle(id);
+//                    System.out.println(currentValue+" "+title);
+//                }
+//            }
+//        }
+//    }
+
+//    public void printAverageRatingsByDistanceAndCategories(){
+//        String userFile = "CSE208Data2Short.csv";
+//        String restaurantFile = "raw/cse208data1short.csv";
+//        ThirdRatings example = new ThirdRatings(userFile);
+//        System.out.println("The number of users in "+userFile+": "+example.getUserSize());
+//       // RestaurantDatabase.initialize(restaurantFile);
+//        System.out.println("The number of restaurants in RestaurantDatabase is: "+RestaurantDatabase.size());
+//
+//        Filter f1 = new distanceFilter(1000);
+//        Filter f2 = new categoriesFilter("South Korean dish");
+//        AllFilters f = new AllFilters();
+//        f.addFilter(f1);
+//        f.addFilter(f2);
+//        ArrayList<Rating> output = example.getAverageRatingsByFilter(f,2);
+//        ArrayList<Double> ratingsList = new ArrayList<Double>();
+//        for(Rating currentRating: output){
+//            ratingsList.add(currentRating.getAverageValue());
+//        }
+//        Collections.sort(ratingsList);
+//        System.out.println("find "+ratingsList.size()+" restaurants");
+//
+//        for(double currentValue: ratingsList){
+//            for(Rating currentRating: output){
+//                if(currentRating.getAverageValue() == currentValue){
+//                    String id = currentRating.getItem();
+//                    String title = RestaurantDatabase.getTitle(id);
+//                    int distance = RestaurantDatabase.getDistance(id);
+//                    String categories = RestaurantDatabase.getCategories(id);
+//                    System.out.println(currentValue+" "+categories+" "+title+" "+distance);
+//                }
+//            }
+//        }
+//    }
+}
Index: app/src/main/res/layout/content_special_search_main_page.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_special_search_main_page.xml	(revision )
+++ app/src/main/res/layout/content_special_search_main_page.xml	(revision )
@@ -0,0 +1,62 @@
+<?xml version="1.0" encoding="utf-8"?>
+<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
+    android:id="@android:id/tabhost"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+        <FrameLayout
+            android:id="@android:id/tabcontent"
+            android:layout_width="match_parent"
+            android:layout_height="0dp"
+            android:layout_weight="1"></FrameLayout>
+
+        <!-- 隐藏TabWidget -->
+        <TabWidget
+            android:id="@android:id/tabs"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:visibility="gone"></TabWidget>
+
+        <!-- 视觉上,用单选按钮替代TabWidget -->
+        <RadioGroup
+            android:id="@+id/main_radiogroup"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="horizontal"
+            android:paddingTop="8dp">
+
+            <RadioButton
+                android:id="@+id/tab_icon_weixin"
+                style="@style/tab_button_bg"
+                android:checked="true"
+                android:drawableTop="@drawable/home"
+                android:textColor="@color/tab_text" />
+
+            <RadioButton
+                android:id="@+id/tab_icon_address"
+                style="@style/tab_button_bg"
+                android:drawableTop="@drawable/sign"
+                android:textColor="@color/tab_text" />
+
+
+            <RadioButton
+                android:id="@+id/tab_icon_friend"
+                style="@style/tab_button_bg"
+                android:drawableTop="@drawable/rbutton"
+                android:textColor="@color/tab_text" />
+
+
+            <RadioButton
+                android:id="@+id/tab_icon_setting"
+                style="@style/tab_button_bg"
+                android:drawableTop="@drawable/plus"
+                android:textColor="@color/tab_text" />
+
+        </RadioGroup>
+    </LinearLayout>
+</TabHost>
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/TabEntity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/TabEntity.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/TabEntity.java	(revision )
@@ -0,0 +1,34 @@
+package sunger.net.org.dropmenu;
+
+import sunger.net.org.dropmenu.tab.listener.CustomTabEntity;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+
+public class TabEntity implements CustomTabEntity {
+    public String title;
+    public int selectedIcon;
+    public int unSelectedIcon;
+
+    public TabEntity(String title, int selectedIcon, int unSelectedIcon) {
+        this.title = title;
+        this.selectedIcon = selectedIcon;
+        this.unSelectedIcon = unSelectedIcon;
+    }
+
+    @Override
+    public String getTabTitle() {
+        return title;
+    }
+
+    @Override
+    public int getTabSelectedIcon() {
+        return selectedIcon;
+    }
+
+    @Override
+    public int getTabUnselectedIcon() {
+        return unSelectedIcon;
+    }
+}
Index: app/src/main/res/layout/activity_persoanl_data.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_persoanl_data.xml	(revision )
+++ app/src/main/res/layout/activity_persoanl_data.xml	(revision )
@@ -0,0 +1,102 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical">
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="150dp"
+        android:layout_marginTop="10dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+
+        <TextView
+            android:id="@+id/et_search2"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_weight="4"
+            android:background="@null"
+            android:gravity="center_horizontal"
+            android:hint="Persoanl Profile"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="40dp" />
+
+    </LinearLayout>
+
+    <TableLayout
+        android:id="@+id/score"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:stretchColumns="*"
+
+        >
+
+        <TableRow>
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Call Name"
+                android:textSize="40px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/call"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:minWidth="350px"
+                android:textSize="40px"
+                android:textStyle="bold" />
+
+            <TextView />
+
+        </TableRow>
+
+        <TableRow android:layout_marginTop="50px">
+
+            <TextView />
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Phone Number:"
+                android:textSize="40px"
+                android:textStyle="bold" />
+
+            <EditText
+                android:id="@+id/phoneNumber"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:inputType="textPassword"
+                android:minWidth="500px"
+                android:textSize="40px"
+                android:textStyle="bold" />
+
+            <TextView />
+
+        </TableRow>
+
+        <TableRow android:layout_marginTop="50px">
+
+            <TextView />
+
+            <Button
+                android:id="@+id/start"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:text="Get Started"
+                android:textStyle="bold"
+
+                />
+
+            <TextView />
+        </TableRow>
+
+    </TableLayout>
+</LinearLayout>
Index: app/src/main/java/sunger/net/org/dropmenu/tab/CommonTabLayout.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/CommonTabLayout.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/CommonTabLayout.java	(revision )
@@ -0,0 +1,966 @@
+package sunger.net.org.dropmenu.tab;
+
+import android.content.Context;
+import android.content.res.TypedArray;
+import android.graphics.Canvas;
+import android.graphics.Color;
+import android.graphics.Paint;
+import android.graphics.Path;
+import android.graphics.Rect;
+import android.graphics.drawable.GradientDrawable;
+import android.os.Bundle;
+import android.os.Parcelable;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentActivity;
+import android.util.AttributeSet;
+import android.util.SparseArray;
+import android.util.TypedValue;
+import android.view.Gravity;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.animation.OvershootInterpolator;
+import android.widget.FrameLayout;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.TextView;
+
+import com.example.sihan.restaurantrecommendation.R;
+import com.nineoldandroids.animation.TypeEvaluator;
+import com.nineoldandroids.animation.ValueAnimator;
+
+import java.util.ArrayList;
+
+import sunger.net.org.dropmenu.tab.listener.CustomTabEntity;
+import sunger.net.org.dropmenu.tab.listener.OnTabSelectListener;
+import sunger.net.org.dropmenu.tab.utils.FragmentChangeManager;
+import sunger.net.org.dropmenu.tab.utils.UnreadMsgUtils;
+import sunger.net.org.dropmenu.tab.widget.MsgView;
+
+/**
+ * 没有继承HorizontalScrollView不能滑动,对于ViewPager无依赖
+ */
+public class CommonTabLayout extends FrameLayout implements ValueAnimator.AnimatorUpdateListener {
+    private static final int STYLE_NORMAL = 0;
+    private static final int STYLE_TRIANGLE = 1;
+    private static final int STYLE_BLOCK = 2;
+    private Context mContext;
+    private ArrayList<CustomTabEntity> mTabEntitys = new ArrayList<>();
+    private LinearLayout mTabsContainer;
+    private int mCurrentTab;
+    private int mLastTab;
+    private int mTabCount;
+    /**
+     * 用于绘制显示器
+     */
+    private Rect mIndicatorRect = new Rect();
+    private GradientDrawable mIndicatorDrawable = new GradientDrawable();
+    private Paint mRectPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+    private Paint mDividerPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+    private Paint mTrianglePaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+    private Path mTrianglePath = new Path();
+    private int mIndicatorStyle = STYLE_NORMAL;
+
+    private float mTabPadding;
+    private boolean mTabSpaceEqual;
+    private float mTabWidth;
+
+    /**
+     * indicator
+     */
+    private int mIndicatorColor;
+    private float mIndicatorHeight;
+    private float mIndicatorWidth;
+    private float mIndicatorCornerRadius;
+    private float mIndicatorMarginLeft;
+    private float mIndicatorMarginTop;
+    private float mIndicatorMarginRight;
+    private float mIndicatorMarginBottom;
+    private long mIndicatorAnimDuration;
+    private boolean mIndicatorAnimEnable;
+    private boolean mIndicatorBounceEnable;
+    private int mIndicatorGravity;
+
+    /**
+     * underline
+     */
+    private int mUnderlineColor;
+    private float mUnderlineHeight;
+    private int mUnderlineGravity;
+
+    /**
+     * divider
+     */
+    private int mDividerColor;
+    private float mDividerWidth;
+    private float mDividerPadding;
+
+    /**
+     * title
+     */
+    private float mTextsize;
+    private int mTextSelectColor;
+    private int mTextUnselectColor;
+    private boolean mTextBold;
+    private boolean mTextAllCaps;
+
+    /**
+     * icon
+     */
+    private boolean mIconVisible;
+    private int mIconGravity;
+    private float mIconWidth;
+    private float mIconHeight;
+    private float mIconMargin;
+
+    private int mHeight;
+
+    /**
+     * anim
+     */
+    private ValueAnimator mValueAnimator;
+    private OvershootInterpolator mInterpolator = new OvershootInterpolator(1.5f);
+
+    private FragmentChangeManager mFragmentChangeManager;
+    private boolean mIsFirstDraw = true;
+    // show MsgTipView
+    private Paint mTextPaint = new Paint(Paint.ANTI_ALIAS_FLAG);
+    private SparseArray<Boolean> mInitSetMap = new SparseArray<>();
+    private OnTabSelectListener mListener;
+    private IndicatorPoint mCurrentP = new IndicatorPoint();
+    private IndicatorPoint mLastP = new IndicatorPoint();
+
+    public CommonTabLayout(Context context) {
+        this(context, null, 0);
+    }
+
+    public CommonTabLayout(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+    }
+
+    public CommonTabLayout(Context context, AttributeSet attrs, int defStyleAttr) {
+        super(context, attrs, defStyleAttr);
+        setWillNotDraw(false);//重写onDraw方法,需要调用这个方法来清除flag
+        setClipChildren(false);
+        setClipToPadding(false);
+
+        this.mContext = context;
+        mTabsContainer = new LinearLayout(context);
+        addView(mTabsContainer);
+
+        obtainAttributes(context, attrs);
+
+        //get layout_height
+        String height = attrs.getAttributeValue("http://schemas.android.com/apk/res/android", "layout_height");
+
+        //create ViewPager
+        if (height.equals(ViewGroup.LayoutParams.MATCH_PARENT + "")) {
+        } else if (height.equals(ViewGroup.LayoutParams.WRAP_CONTENT + "")) {
+        } else {
+            int[] systemAttrs = {android.R.attr.layout_height};
+            TypedArray a = context.obtainStyledAttributes(attrs, systemAttrs);
+            mHeight = a.getDimensionPixelSize(0, ViewGroup.LayoutParams.WRAP_CONTENT);
+            a.recycle();
+        }
+
+        mValueAnimator = ValueAnimator.ofObject(new PointEvaluator(), mLastP, mCurrentP);
+        mValueAnimator.addUpdateListener(this);
+    }
+
+    private void obtainAttributes(Context context, AttributeSet attrs) {
+        TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.CommonTabLayout);
+
+        mIndicatorStyle = ta.getInt(R.styleable.CommonTabLayout_tl_indicator_style, 0);
+        mIndicatorColor = ta.getColor(R.styleable.CommonTabLayout_tl_indicator_color, Color.parseColor(mIndicatorStyle == STYLE_BLOCK ? "#4B6A87" : "#ffffff"));
+        mIndicatorHeight = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_height,
+                dp2px(mIndicatorStyle == STYLE_TRIANGLE ? 4 : (mIndicatorStyle == STYLE_BLOCK ? -1 : 2)));
+        mIndicatorWidth = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_width, dp2px(mIndicatorStyle == STYLE_TRIANGLE ? 10 : -1));
+        mIndicatorCornerRadius = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_corner_radius, dp2px(mIndicatorStyle == STYLE_BLOCK ? -1 : 0));
+        mIndicatorMarginLeft = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_margin_left, dp2px(0));
+        mIndicatorMarginTop = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_margin_top, dp2px(mIndicatorStyle == STYLE_BLOCK ? 7 : 0));
+        mIndicatorMarginRight = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_margin_right, dp2px(0));
+        mIndicatorMarginBottom = ta.getDimension(R.styleable.CommonTabLayout_tl_indicator_margin_bottom, dp2px(mIndicatorStyle == STYLE_BLOCK ? 7 : 0));
+        mIndicatorAnimEnable = ta.getBoolean(R.styleable.CommonTabLayout_tl_indicator_anim_enable, true);
+        mIndicatorBounceEnable = ta.getBoolean(R.styleable.CommonTabLayout_tl_indicator_bounce_enable, true);
+        mIndicatorAnimDuration = ta.getInt(R.styleable.CommonTabLayout_tl_indicator_anim_duration, -1);
+        mIndicatorGravity = ta.getInt(R.styleable.CommonTabLayout_tl_indicator_gravity, Gravity.BOTTOM);
+
+        mUnderlineColor = ta.getColor(R.styleable.CommonTabLayout_tl_underline_color, Color.parseColor("#ffffff"));
+        mUnderlineHeight = ta.getDimension(R.styleable.CommonTabLayout_tl_underline_height, dp2px(0));
+        mUnderlineGravity = ta.getInt(R.styleable.CommonTabLayout_tl_underline_gravity, Gravity.BOTTOM);
+
+        mDividerColor = ta.getColor(R.styleable.CommonTabLayout_tl_divider_color, Color.parseColor("#ffffff"));
+        mDividerWidth = ta.getDimension(R.styleable.CommonTabLayout_tl_divider_width, dp2px(0));
+        mDividerPadding = ta.getDimension(R.styleable.CommonTabLayout_tl_divider_padding, dp2px(12));
+
+        mTextsize = ta.getDimension(R.styleable.CommonTabLayout_tl_textsize, sp2px(13f));
+        mTextSelectColor = ta.getColor(R.styleable.CommonTabLayout_tl_textSelectColor, Color.parseColor("#ffffff"));
+        mTextUnselectColor = ta.getColor(R.styleable.CommonTabLayout_tl_textUnselectColor, Color.parseColor("#AAffffff"));
+        mTextBold = ta.getBoolean(R.styleable.CommonTabLayout_tl_textBold, false);
+        mTextAllCaps = ta.getBoolean(R.styleable.CommonTabLayout_tl_textAllCaps, false);
+
+        mIconVisible = ta.getBoolean(R.styleable.CommonTabLayout_tl_iconVisible, true);
+        mIconGravity = ta.getInt(R.styleable.CommonTabLayout_tl_iconGravity, Gravity.TOP);
+        mIconWidth = ta.getDimension(R.styleable.CommonTabLayout_tl_iconWidth, dp2px(0));
+        mIconHeight = ta.getDimension(R.styleable.CommonTabLayout_tl_iconHeight, dp2px(0));
+        mIconMargin = ta.getDimension(R.styleable.CommonTabLayout_tl_iconMargin, dp2px(2.5f));
+
+        mTabSpaceEqual = ta.getBoolean(R.styleable.CommonTabLayout_tl_tab_space_equal, true);
+        mTabWidth = ta.getDimension(R.styleable.CommonTabLayout_tl_tab_width, dp2px(-1));
+        mTabPadding = ta.getDimension(R.styleable.CommonTabLayout_tl_tab_padding, mTabSpaceEqual || mTabWidth > 0 ? dp2px(0) : dp2px(10));
+
+        ta.recycle();
+    }
+
+    public void setTabData(ArrayList<CustomTabEntity> tabEntitys) {
+        if (tabEntitys == null || tabEntitys.size() == 0) {
+            throw new IllegalStateException("TabEntitys can not be NULL or EMPTY !");
+        }
+
+        this.mTabEntitys.clear();
+        this.mTabEntitys.addAll(tabEntitys);
+
+        notifyDataSetChanged();
+    }
+
+    /**
+     * 关联数据支持同时切换fragments
+     */
+    public void setTabData(ArrayList<CustomTabEntity> tabEntitys, FragmentActivity fa, int containerViewId, ArrayList<Fragment> fragments) {
+        mFragmentChangeManager = new FragmentChangeManager(fa.getSupportFragmentManager(), containerViewId, fragments);
+        setTabData(tabEntitys);
+    }
+
+    /**
+     * 更新数据
+     */
+    public void notifyDataSetChanged() {
+        mTabsContainer.removeAllViews();
+        this.mTabCount = mTabEntitys.size();
+        View tabView;
+        for (int i = 0; i < mTabCount; i++) {
+            if (mIconGravity == Gravity.LEFT) {
+                tabView = View.inflate(mContext, R.layout.layout_tab_left, null);
+            } else if (mIconGravity == Gravity.RIGHT) {
+                tabView = View.inflate(mContext, R.layout.layout_tab_right, null);
+            } else if (mIconGravity == Gravity.BOTTOM) {
+                tabView = View.inflate(mContext, R.layout.layout_tab_bottom, null);
+            } else {
+                tabView = View.inflate(mContext, R.layout.layout_tab_top, null);
+            }
+
+            tabView.setTag(i);
+            addTab(i, tabView);
+        }
+
+        updateTabStyles();
+    }
+
+    /**
+     * 创建并添加tab
+     */
+    private void addTab(final int position, View tabView) {
+        TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);
+        tv_tab_title.setText(mTabEntitys.get(position).getTabTitle());
+        ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);
+        iv_tab_icon.setImageResource(mTabEntitys.get(position).getTabUnselectedIcon());
+
+        tabView.setOnClickListener(new OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                int position = (Integer) v.getTag();
+                if (mCurrentTab != position) {
+                    setCurrentTab(position);
+                    if (mListener != null) {
+                        mListener.onTabSelect(position);
+                    }
+                } else {
+                    if (mListener != null) {
+                        mListener.onTabReselect(position);
+                    }
+                }
+            }
+        });
+
+        /** 每一个Tab的布局参数 */
+        LinearLayout.LayoutParams lp_tab = mTabSpaceEqual ?
+                new LinearLayout.LayoutParams(0, LayoutParams.MATCH_PARENT, 1.0f) :
+                new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);
+        if (mTabWidth > 0) {
+            lp_tab = new LinearLayout.LayoutParams((int) mTabWidth, LayoutParams.MATCH_PARENT);
+        }
+        mTabsContainer.addView(tabView, position, lp_tab);
+    }
+
+    private void updateTabStyles() {
+        for (int i = 0; i < mTabCount; i++) {
+            View tabView = mTabsContainer.getChildAt(i);
+            tabView.setPadding((int) mTabPadding, 0, (int) mTabPadding, 0);
+            TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);
+            tv_tab_title.setTextColor(i == mCurrentTab ? mTextSelectColor : mTextUnselectColor);
+            tv_tab_title.setTextSize(TypedValue.COMPLEX_UNIT_PX, mTextsize);
+//            tv_tab_title.setPadding((int) mTabPadding, 0, (int) mTabPadding, 0);
+            if (mTextAllCaps) {
+                tv_tab_title.setText(tv_tab_title.getText().toString().toUpperCase());
+            }
+
+            if (mTextBold) {
+                tv_tab_title.getPaint().setFakeBoldText(mTextBold);
+            }
+
+            ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);
+            if (mIconVisible) {
+                iv_tab_icon.setVisibility(View.VISIBLE);
+                CustomTabEntity tabEntity = mTabEntitys.get(i);
+                iv_tab_icon.setImageResource(i == mCurrentTab ? tabEntity.getTabSelectedIcon() : tabEntity.getTabUnselectedIcon());
+                LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(
+                        mIconWidth <= 0 ? LinearLayout.LayoutParams.WRAP_CONTENT : (int) mIconWidth,
+                        mIconHeight <= 0 ? LinearLayout.LayoutParams.WRAP_CONTENT : (int) mIconHeight);
+                if (mIconGravity == Gravity.LEFT) {
+                    lp.rightMargin = (int) mIconMargin;
+                } else if (mIconGravity == Gravity.RIGHT) {
+                    lp.leftMargin = (int) mIconMargin;
+                } else if (mIconGravity == Gravity.BOTTOM) {
+                    lp.topMargin = (int) mIconMargin;
+                } else {
+                    lp.bottomMargin = (int) mIconMargin;
+                }
+
+                iv_tab_icon.setLayoutParams(lp);
+            } else {
+                iv_tab_icon.setVisibility(View.GONE);
+            }
+        }
+    }
+
+    private void updateTabSelection(int position) {
+        for (int i = 0; i < mTabCount; ++i) {
+            View tabView = mTabsContainer.getChildAt(i);
+            final boolean isSelect = i == position;
+            TextView tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);
+            tab_title.setTextColor(isSelect ? mTextSelectColor : mTextUnselectColor);
+            ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);
+            CustomTabEntity tabEntity = mTabEntitys.get(i);
+            iv_tab_icon.setImageResource(isSelect ? tabEntity.getTabSelectedIcon() : tabEntity.getTabUnselectedIcon());
+        }
+    }
+
+    private void calcOffset() {
+        final View currentTabView = mTabsContainer.getChildAt(this.mCurrentTab);
+        mCurrentP.left = currentTabView.getLeft();
+        mCurrentP.right = currentTabView.getRight();
+
+        final View lastTabView = mTabsContainer.getChildAt(this.mLastTab);
+        mLastP.left = lastTabView.getLeft();
+        mLastP.right = lastTabView.getRight();
+
+//        Log.d("AAA", "mLastP--->" + mLastP.left + "&" + mLastP.right);
+//        Log.d("AAA", "mCurrentP--->" + mCurrentP.left + "&" + mCurrentP.right);
+        if (mLastP.left == mCurrentP.left && mLastP.right == mCurrentP.right) {
+            invalidate();
+        } else {
+            mValueAnimator.setObjectValues(mLastP, mCurrentP);
+            if (mIndicatorBounceEnable) {
+                mValueAnimator.setInterpolator(mInterpolator);
+            }
+
+            if (mIndicatorAnimDuration < 0) {
+                mIndicatorAnimDuration = mIndicatorBounceEnable ? 500 : 250;
+            }
+            mValueAnimator.setDuration(mIndicatorAnimDuration);
+            mValueAnimator.start();
+        }
+    }
+
+    private void calcIndicatorRect() {
+        View currentTabView = mTabsContainer.getChildAt(this.mCurrentTab);
+        float left = currentTabView.getLeft();
+        float right = currentTabView.getRight();
+
+        mIndicatorRect.left = (int) left;
+        mIndicatorRect.right = (int) right;
+
+        if (mIndicatorWidth < 0) {   //indicatorWidth小于0时,原jpardogo's PagerSlidingTabStrip
+
+        } else {//indicatorWidth大于0时,圆角矩形以及三角形
+            float indicatorLeft = currentTabView.getLeft() + (currentTabView.getWidth() - mIndicatorWidth) / 2;
+
+            mIndicatorRect.left = (int) indicatorLeft;
+            mIndicatorRect.right = (int) (mIndicatorRect.left + mIndicatorWidth);
+        }
+    }
+
+    @Override
+    public void onAnimationUpdate(ValueAnimator animation) {
+        View currentTabView = mTabsContainer.getChildAt(this.mCurrentTab);
+        IndicatorPoint p = (IndicatorPoint) animation.getAnimatedValue();
+        mIndicatorRect.left = (int) p.left;
+        mIndicatorRect.right = (int) p.right;
+
+        if (mIndicatorWidth < 0) {   //indicatorWidth小于0时,原jpardogo's PagerSlidingTabStrip
+
+        } else {//indicatorWidth大于0时,圆角矩形以及三角形
+            float indicatorLeft = p.left + (currentTabView.getWidth() - mIndicatorWidth) / 2;
+
+            mIndicatorRect.left = (int) indicatorLeft;
+            mIndicatorRect.right = (int) (mIndicatorRect.left + mIndicatorWidth);
+        }
+        invalidate();
+    }
+
+    @Override
+    protected void onDraw(Canvas canvas) {
+        super.onDraw(canvas);
+
+        if (isInEditMode() || mTabCount <= 0) {
+            return;
+        }
+
+        int height = getHeight();
+        int paddingLeft = getPaddingLeft();
+        // draw divider
+        if (mDividerWidth > 0) {
+            mDividerPaint.setStrokeWidth(mDividerWidth);
+            mDividerPaint.setColor(mDividerColor);
+            for (int i = 0; i < mTabCount - 1; i++) {
+                View tab = mTabsContainer.getChildAt(i);
+                canvas.drawLine(paddingLeft + tab.getRight(), mDividerPadding, paddingLeft + tab.getRight(), height - mDividerPadding, mDividerPaint);
+            }
+        }
+
+        // draw underline
+        if (mUnderlineHeight > 0) {
+            mRectPaint.setColor(mUnderlineColor);
+            if (mUnderlineGravity == Gravity.BOTTOM) {
+                canvas.drawRect(paddingLeft, height - mUnderlineHeight, mTabsContainer.getWidth() + paddingLeft, height, mRectPaint);
+            } else {
+                canvas.drawRect(paddingLeft, 0, mTabsContainer.getWidth() + paddingLeft, mUnderlineHeight, mRectPaint);
+            }
+        }
+
+        //draw indicator line
+        if (mIndicatorAnimEnable) {
+            if (mIsFirstDraw) {
+                mIsFirstDraw = false;
+                calcIndicatorRect();
+            }
+        } else {
+            calcIndicatorRect();
+        }
+
+
+        if (mIndicatorStyle == STYLE_TRIANGLE) {
+            if (mIndicatorHeight > 0) {
+                mTrianglePaint.setColor(mIndicatorColor);
+                mTrianglePath.reset();
+                mTrianglePath.moveTo(paddingLeft + mIndicatorRect.left, height);
+                mTrianglePath.lineTo(paddingLeft + mIndicatorRect.left / 2 + mIndicatorRect.right / 2, height - mIndicatorHeight);
+                mTrianglePath.lineTo(paddingLeft + mIndicatorRect.right, height);
+                mTrianglePath.close();
+                canvas.drawPath(mTrianglePath, mTrianglePaint);
+            }
+        } else if (mIndicatorStyle == STYLE_BLOCK) {
+            if (mIndicatorHeight < 0) {
+                mIndicatorHeight = height - mIndicatorMarginTop - mIndicatorMarginBottom;
+            } else {
+
+            }
+
+            if (mIndicatorHeight > 0) {
+                if (mIndicatorCornerRadius < 0 || mIndicatorCornerRadius > mIndicatorHeight / 2) {
+                    mIndicatorCornerRadius = mIndicatorHeight / 2;
+                }
+
+                mIndicatorDrawable.setColor(mIndicatorColor);
+                mIndicatorDrawable.setBounds(paddingLeft + (int) mIndicatorMarginLeft + mIndicatorRect.left,
+                        (int) mIndicatorMarginTop, (int) (paddingLeft + mIndicatorRect.right - mIndicatorMarginRight),
+                        (int) (mIndicatorMarginTop + mIndicatorHeight));
+                mIndicatorDrawable.setCornerRadius(mIndicatorCornerRadius);
+                mIndicatorDrawable.draw(canvas);
+            }
+        } else {
+               /* mRectPaint.setColor(mIndicatorColor);
+                calcIndicatorRect();
+                canvas.drawRect(getPaddingLeft() + mIndicatorRect.left, getHeight() - mIndicatorHeight,
+                        mIndicatorRect.right + getPaddingLeft(), getHeight(), mRectPaint);*/
+
+            if (mIndicatorHeight > 0) {
+                mIndicatorDrawable.setColor(mIndicatorColor);
+                if (mIndicatorGravity == Gravity.BOTTOM) {
+                    mIndicatorDrawable.setBounds(paddingLeft + (int) mIndicatorMarginLeft + mIndicatorRect.left,
+                            height - (int) mIndicatorHeight - (int) mIndicatorMarginBottom,
+                            paddingLeft + mIndicatorRect.right - (int) mIndicatorMarginRight,
+                            height - (int) mIndicatorMarginBottom);
+                } else {
+                    mIndicatorDrawable.setBounds(paddingLeft + (int) mIndicatorMarginLeft + mIndicatorRect.left,
+                            (int) mIndicatorMarginTop,
+                            paddingLeft + mIndicatorRect.right - (int) mIndicatorMarginRight,
+                            (int) mIndicatorHeight + (int) mIndicatorMarginTop);
+                }
+                mIndicatorDrawable.setCornerRadius(mIndicatorCornerRadius);
+                mIndicatorDrawable.draw(canvas);
+            }
+        }
+    }
+
+    public void setIndicatorGravity(int indicatorGravity) {
+        this.mIndicatorGravity = indicatorGravity;
+        invalidate();
+    }
+
+    public void setIndicatorMargin(float indicatorMarginLeft, float indicatorMarginTop,
+                                   float indicatorMarginRight, float indicatorMarginBottom) {
+        this.mIndicatorMarginLeft = dp2px(indicatorMarginLeft);
+        this.mIndicatorMarginTop = dp2px(indicatorMarginTop);
+        this.mIndicatorMarginRight = dp2px(indicatorMarginRight);
+        this.mIndicatorMarginBottom = dp2px(indicatorMarginBottom);
+        invalidate();
+    }
+
+    public void setUnderlineGravity(int underlineGravity) {
+        this.mUnderlineGravity = underlineGravity;
+        invalidate();
+    }
+
+    public int getTabCount() {
+        return mTabCount;
+    }
+
+    public int getCurrentTab() {
+        return mCurrentTab;
+    }
+
+    //setter and getter
+    public void setCurrentTab(int currentTab) {
+        mLastTab = this.mCurrentTab;
+        this.mCurrentTab = currentTab;
+        updateTabSelection(currentTab);
+        if (mFragmentChangeManager != null) {
+            mFragmentChangeManager.setFragments(currentTab);
+        }
+        if (mIndicatorAnimEnable) {
+            calcOffset();
+        } else {
+            invalidate();
+        }
+    }
+
+    public int getIndicatorStyle() {
+        return mIndicatorStyle;
+    }
+
+    public void setIndicatorStyle(int indicatorStyle) {
+        this.mIndicatorStyle = indicatorStyle;
+        invalidate();
+    }
+
+    public float getTabPadding() {
+        return mTabPadding;
+    }
+
+    public void setTabPadding(float tabPadding) {
+        this.mTabPadding = dp2px(tabPadding);
+        updateTabStyles();
+    }
+
+    public boolean isTabSpaceEqual() {
+        return mTabSpaceEqual;
+    }
+
+    public void setTabSpaceEqual(boolean tabSpaceEqual) {
+        this.mTabSpaceEqual = tabSpaceEqual;
+        updateTabStyles();
+    }
+
+    public float getTabWidth() {
+        return mTabWidth;
+    }
+
+    public void setTabWidth(float tabWidth) {
+        this.mTabWidth = dp2px(tabWidth);
+        updateTabStyles();
+    }
+
+    public int getIndicatorColor() {
+        return mIndicatorColor;
+    }
+
+    public void setIndicatorColor(int indicatorColor) {
+        this.mIndicatorColor = indicatorColor;
+        invalidate();
+    }
+
+    public float getIndicatorHeight() {
+        return mIndicatorHeight;
+    }
+
+    public void setIndicatorHeight(float indicatorHeight) {
+        this.mIndicatorHeight = dp2px(indicatorHeight);
+        invalidate();
+    }
+
+    public float getIndicatorWidth() {
+        return mIndicatorWidth;
+    }
+
+    public void setIndicatorWidth(float indicatorWidth) {
+        this.mIndicatorWidth = dp2px(indicatorWidth);
+        invalidate();
+    }
+
+    public float getIndicatorCornerRadius() {
+        return mIndicatorCornerRadius;
+    }
+
+    public void setIndicatorCornerRadius(float indicatorCornerRadius) {
+        this.mIndicatorCornerRadius = dp2px(indicatorCornerRadius);
+        invalidate();
+    }
+
+    public float getIndicatorMarginLeft() {
+        return mIndicatorMarginLeft;
+    }
+
+    public float getIndicatorMarginTop() {
+        return mIndicatorMarginTop;
+    }
+
+    public float getIndicatorMarginRight() {
+        return mIndicatorMarginRight;
+    }
+
+    public float getIndicatorMarginBottom() {
+        return mIndicatorMarginBottom;
+    }
+
+    public long getIndicatorAnimDuration() {
+        return mIndicatorAnimDuration;
+    }
+
+    public void setIndicatorAnimDuration(long indicatorAnimDuration) {
+        this.mIndicatorAnimDuration = indicatorAnimDuration;
+    }
+
+    public boolean isIndicatorAnimEnable() {
+        return mIndicatorAnimEnable;
+    }
+
+    public void setIndicatorAnimEnable(boolean indicatorAnimEnable) {
+        this.mIndicatorAnimEnable = indicatorAnimEnable;
+    }
+
+    public boolean isIndicatorBounceEnable() {
+        return mIndicatorBounceEnable;
+    }
+
+    public void setIndicatorBounceEnable(boolean indicatorBounceEnable) {
+        this.mIndicatorBounceEnable = indicatorBounceEnable;
+    }
+
+    public int getUnderlineColor() {
+        return mUnderlineColor;
+    }
+
+    public void setUnderlineColor(int underlineColor) {
+        this.mUnderlineColor = underlineColor;
+        invalidate();
+    }
+
+    public float getUnderlineHeight() {
+        return mUnderlineHeight;
+    }
+
+    public void setUnderlineHeight(float underlineHeight) {
+        this.mUnderlineHeight = dp2px(underlineHeight);
+        invalidate();
+    }
+
+    public int getDividerColor() {
+        return mDividerColor;
+    }
+
+    public void setDividerColor(int dividerColor) {
+        this.mDividerColor = dividerColor;
+        invalidate();
+    }
+
+    public float getDividerWidth() {
+        return mDividerWidth;
+    }
+
+    public void setDividerWidth(float dividerWidth) {
+        this.mDividerWidth = dp2px(dividerWidth);
+        invalidate();
+    }
+
+    public float getDividerPadding() {
+        return mDividerPadding;
+    }
+
+    public void setDividerPadding(float dividerPadding) {
+        this.mDividerPadding = dp2px(dividerPadding);
+        invalidate();
+    }
+
+    public float getTextsize() {
+        return mTextsize;
+    }
+
+    public void setTextsize(float textsize) {
+        this.mTextsize = sp2px(textsize);
+        updateTabStyles();
+    }
+
+    public int getTextSelectColor() {
+        return mTextSelectColor;
+    }
+
+    public void setTextSelectColor(int textSelectColor) {
+        this.mTextSelectColor = textSelectColor;
+        updateTabStyles();
+    }
+
+    public int getTextUnselectColor() {
+        return mTextUnselectColor;
+    }
+
+    public void setTextUnselectColor(int textUnselectColor) {
+        this.mTextUnselectColor = textUnselectColor;
+        updateTabStyles();
+    }
+
+    public boolean isTextBold() {
+        return mTextBold;
+    }
+
+    public void setTextBold(boolean textBold) {
+        this.mTextBold = textBold;
+        updateTabStyles();
+    }
+
+    public boolean isTextAllCaps() {
+        return mTextAllCaps;
+    }
+
+    public void setTextAllCaps(boolean textAllCaps) {
+        this.mTextAllCaps = textAllCaps;
+        updateTabStyles();
+    }
+
+    public int getIconGravity() {
+        return mIconGravity;
+    }
+
+    public void setIconGravity(int iconGravity) {
+        this.mIconGravity = iconGravity;
+        notifyDataSetChanged();
+    }
+
+    public float getIconWidth() {
+        return mIconWidth;
+    }
+
+    public void setIconWidth(float iconWidth) {
+        this.mIconWidth = dp2px(iconWidth);
+        updateTabStyles();
+    }
+
+    public float getIconHeight() {
+        return mIconHeight;
+    }
+
+    public void setIconHeight(float iconHeight) {
+        this.mIconHeight = dp2px(iconHeight);
+        updateTabStyles();
+    }
+
+    public float getIconMargin() {
+        return mIconMargin;
+    }
+
+    //setter and getter
+
+    public void setIconMargin(float iconMargin) {
+        this.mIconMargin = dp2px(iconMargin);
+        updateTabStyles();
+    }
+
+    public boolean isIconVisible() {
+        return mIconVisible;
+    }
+
+    public void setIconVisible(boolean iconVisible) {
+        this.mIconVisible = iconVisible;
+        updateTabStyles();
+    }
+
+    public ImageView getIconView(int tab) {
+        View tabView = mTabsContainer.getChildAt(tab);
+        ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);
+        return iv_tab_icon;
+    }
+
+    public TextView getTitleView(int tab) {
+        View tabView = mTabsContainer.getChildAt(tab);
+        TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);
+        return tv_tab_title;
+    }
+
+    /**
+     * 显示未读消息
+     *
+     * @param position 显示tab位置
+     * @param num      num小于等于0显示红点,num大于0显示数字
+     */
+    public void showMsg(int position, int num) {
+        if (position >= mTabCount) {
+            position = mTabCount - 1;
+        }
+
+        View tabView = mTabsContainer.getChildAt(position);
+        MsgView tipView = (MsgView) tabView.findViewById(R.id.rtv_msg_tip);
+        if (tipView != null) {
+            UnreadMsgUtils.show(tipView, num);
+
+            if (mInitSetMap.get(position) != null && mInitSetMap.get(position)) {
+                return;
+            }
+
+            if (!mIconVisible) {
+                setMsgMargin(position, 2, 2);
+            } else {
+                setMsgMargin(position, 0,
+                        mIconGravity == Gravity.LEFT || mIconGravity == Gravity.RIGHT ? 4 : 0);
+            }
+
+            mInitSetMap.put(position, true);
+        }
+    }
+
+    /**
+     * 显示未读红点
+     *
+     * @param position 显示tab位置
+     */
+    public void showDot(int position) {
+        if (position >= mTabCount) {
+            position = mTabCount - 1;
+        }
+        showMsg(position, 0);
+    }
+
+    public void hideMsg(int position) {
+        if (position >= mTabCount) {
+            position = mTabCount - 1;
+        }
+
+        View tabView = mTabsContainer.getChildAt(position);
+        MsgView tipView = (MsgView) tabView.findViewById(R.id.rtv_msg_tip);
+        if (tipView != null) {
+            tipView.setVisibility(View.GONE);
+        }
+    }
+
+    /**
+     * 设置提示红点偏移,注意
+     * 1.控件为固定高度:参照点为tab内容的右上角
+     * 2.控件高度不固定(WRAP_CONTENT):参照点为tab内容的右上角,此时高度已是红点的最高显示范围,所以这时bottomPadding其实就是topPadding
+     */
+    public void setMsgMargin(int position, float leftPadding, float bottomPadding) {
+        if (position >= mTabCount) {
+            position = mTabCount - 1;
+        }
+        View tabView = mTabsContainer.getChildAt(position);
+        MsgView tipView = (MsgView) tabView.findViewById(R.id.rtv_msg_tip);
+        if (tipView != null) {
+            TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);
+            mTextPaint.setTextSize(mTextsize);
+            float textWidth = mTextPaint.measureText(tv_tab_title.getText().toString());
+            float textHeight = mTextPaint.descent() - mTextPaint.ascent();
+            MarginLayoutParams lp = (MarginLayoutParams) tipView.getLayoutParams();
+
+            float iconH = mIconHeight;
+            float margin = 0;
+            if (mIconVisible) {
+                if (iconH <= 0) {
+                    iconH = mContext.getResources().getDrawable(mTabEntitys.get(position).getTabSelectedIcon()).getIntrinsicHeight();
+                }
+                margin = mIconMargin;
+            }
+
+            if (mIconGravity == Gravity.TOP || mIconGravity == Gravity.BOTTOM) {
+                lp.leftMargin = dp2px(leftPadding);
+                lp.topMargin = mHeight > 0 ? (int) (mHeight - textHeight - iconH - margin) / 2 - dp2px(bottomPadding) : dp2px(bottomPadding);
+            } else {
+                lp.leftMargin = dp2px(leftPadding);
+                lp.topMargin = mHeight > 0 ? (int) (mHeight - Math.max(textHeight, iconH)) / 2 - dp2px(bottomPadding) : dp2px(bottomPadding);
+            }
+
+            tipView.setLayoutParams(lp);
+        }
+    }
+
+    /**
+     * 当前类只提供了少许设置未读消息属性的方法,可以通过该方法获取MsgView对象从而各种设置
+     */
+    public MsgView getMsgView(int position) {
+        if (position >= mTabCount) {
+            position = mTabCount - 1;
+        }
+        View tabView = mTabsContainer.getChildAt(position);
+        MsgView tipView = (MsgView) tabView.findViewById(R.id.rtv_msg_tip);
+        return tipView;
+    }
+
+    public void setOnTabSelectListener(OnTabSelectListener listener) {
+        this.mListener = listener;
+    }
+
+    @Override
+    protected Parcelable onSaveInstanceState() {
+        Bundle bundle = new Bundle();
+        bundle.putParcelable("instanceState", super.onSaveInstanceState());
+        bundle.putInt("mCurrentTab", mCurrentTab);
+        return bundle;
+    }
+
+    @Override
+    protected void onRestoreInstanceState(Parcelable state) {
+        if (state instanceof Bundle) {
+            Bundle bundle = (Bundle) state;
+            mCurrentTab = bundle.getInt("mCurrentTab");
+            state = bundle.getParcelable("instanceState");
+            if (mCurrentTab != 0 && mTabsContainer.getChildCount() > 0) {
+                updateTabSelection(mCurrentTab);
+            }
+        }
+        super.onRestoreInstanceState(state);
+    }
+
+    protected int dp2px(float dp) {
+        final float scale = mContext.getResources().getDisplayMetrics().density;
+        return (int) (dp * scale + 0.5f);
+    }
+
+    protected int sp2px(float sp) {
+        final float scale = this.mContext.getResources().getDisplayMetrics().scaledDensity;
+        return (int) (sp * scale + 0.5f);
+    }
+
+    class IndicatorPoint {
+        public float left;
+        public float right;
+    }
+
+    class PointEvaluator implements TypeEvaluator<IndicatorPoint> {
+        @Override
+        public IndicatorPoint evaluate(float fraction, IndicatorPoint startValue, IndicatorPoint endValue) {
+            float left = startValue.left + fraction * (endValue.left - startValue.left);
+            float right = startValue.right + fraction * (endValue.right - startValue.right);
+            IndicatorPoint point = new IndicatorPoint();
+            point.left = left;
+            point.right = right;
+            return point;
+        }
+    }
+
+}
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/titleFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/titleFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/titleFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of titleFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class titleFilter implements Filter {
+    private String myWord;
+
+    public titleFilter(String word) {
+        myWord = word;
+    }
+
+    public boolean satisfies(String id) {
+        String title = RestaurantDatabase.getTitle(id);
+        return title.indexOf(myWord) != -1;
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/environScoreFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/environScoreFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/environScoreFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of environScoreFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class environScoreFilter implements Filter {
+    private double myEnvironScore;
+
+    public environScoreFilter(double environScore) {
+        myEnvironScore = environScore;
+    }
+
+    public boolean satisfies(String id) {
+        double environScore = RestaurantDatabase.getEnvironmentScore(id);
+        return environScore >= myEnvironScore;
+    }
+}
Index: app/src/main/res/layout/content_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_main.xml	(revision )
+++ app/src/main/res/layout/content_main.xml	(revision )
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@drawable/bb"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    app:layout_behavior="@string/appbar_scrolling_view_behavior"
+    tools:context="com.example.sihan.restaurantrecommendation.MainActivity"
+    tools:showIn="@layout/activity_main">
+
+    <Button
+        android:id="@+id/login"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true"
+        android:layout_centerHorizontal="true"
+        android:layout_gravity="center_vertical"
+        android:layout_marginBottom="50dp"
+        android:background="@drawable/li"
+        android:textAllCaps="false" />
+
+</RelativeLayout>
Index: app/src/main/res/layout/layout_tab_segment.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab_segment.xml	(revision )
+++ app/src/main/res/layout/layout_tab_segment.xml	(revision )
@@ -0,0 +1,37 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <LinearLayout
+        android:id="@+id/ll_tap"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:orientation="horizontal">
+
+        <TextView
+            android:id="@+id/tv_tab_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:singleLine="true" />
+    </LinearLayout>
+
+    <sunger.net.org.dropmenu.tab.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_toRightOf="@+id/ll_tap"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/anim/menu_in.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/anim/menu_in.xml	(revision )
+++ app/src/main/res/anim/menu_in.xml	(revision )
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<set xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <translate
+        android:duration="300"
+        android:fromYDelta="-100%p"
+        android:toYDelta="0" />
+</set>
\ No newline at end of file
Index: app/CSE208Data1Short.csv
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/CSE208Data1Short.csv	(revision )
+++ app/CSE208Data1Short.csv	(revision )
@@ -0,0 +1,26 @@
+id,title,averageSpent,categories,environmentScore,serviceScore,flavorScore,phoneNumber,address,distance
+1,泰好吃年糕火锅（独墅湖店）—TaiHaoChi Rice Cake Chaffy dish (Dushu Lake branch),48,South Korean dish,9,9.1,9, 62799747, 独墅湖高教区文星广场85度c旁边(文星广场85度c)--Dushu Lake Higher education zone Wenxing square (next to 85°c bekery),486
+2,高丽鸡韩国时尚料理（文星店）--Chicken Korea Korean food (Wenxing branch),12,South Korean dish,7,6.9,7.6,15190565696,林泉街独墅湖文星广场旁(近文星广场邮政所)--Linquan Road Dushu Lake Wenxing square (next to Post Office),758
+3,喜来稀肉（邻瑞店）--XiLaiXiRou(Link city branch),85,South Korean dish,9.1,9.1,9.1,62769907,西华林街88号邻瑞广场一楼西广场山姆会员超市出入口 --XiHuaLinJie Number88 The west of Link city (at the entrance of Sam Supermarket),758
+4,全州拌饭（邻瑞广场）--Quanzhou Bibimbap (Link city),24,South Korean dish,8.6,8.5,8.5,62766597,苏州工业园区邻瑞广场B109-110--Suzhou Industrial zone Link city B109-110,3700
+5,利好海鲜酒楼 --Lihao Seafood Restaurant,204,Cantonese dish,7.7,7.6,7.7,62381777/62381888,独墅湖科教创新区月亮湾街8号(近独墅湖体育馆)--Dushu Lake Science and education innovation zone moon bay street No.8 (next to Dushu Lake gymnasium),1800
+6,量子制造·馋源 —-Liangzizhizao.Chanyuan,151,Cantonese dish,9.2,9.1,9.1,67678979,松涛街1088号斜塘老街四期47栋(靠近津梁路南端末)--Songtao Street No.1088 Xietang street 47 building (next to the end of the the southern tip of jinliang street),3700
+7,润记（邻瑞广场）--Runji (Link city),55,Cantonese dish,8.3,7.9,7.9,62827988,金鸡湖大道与西华林街交界处邻瑞广场B1楼 --Link city B1 building at the cross of the Jinji Lake road and the Xihualin road,3700
+8,有家酸菜鱼 --Youjia Pickled fish,57,Sichuan dish,9.1,9.1,9.2,4008168517,独墅湖高教区文星广场--Dushu Lake Higher education zone Wenxing square,100
+9,陆鼎记幸福餐厅 --Ludingji Happyness restaurant,44,Sichuan dish,7.7,7.7,7.6,13862502566,独墅湖高教区仁爱路文星广场A2号(近移动营业厅)--Dushu Lake Higher education zone Renai road Wenxing square No. A2 (next to Chan Mobile Service Hall),100
+10,明月湾菜馆 --The bright moon bay restaurant/ Mingyuewang restaurant,31,Sichuan dish,7.5,7.8,7.6,8716865,独墅湖高教区文星广场学生公寓A区a04幢一楼(MBA酒店后50米)--Dushu Lake Higher education Wenxing square firest floor of student dormitory  A04 building (Behind MBA hotel),357
+11,敬斋酒店 --Jingzhai hotel,92,Hunan dish,9.1,8.9,9,6260333/62601999,仁爱路158号独墅湖高教区中国人民大学国际学院院内(近文星广场)--Renai Road No.158 Dushu Lake Higher education zone within the Renmin University of China (next to Wenxing square),768
+12,潇湘酒店（斜塘店）--Xiaoxiang restaurant (Xietang branch),53,Hunan dish,7.1,7.2,7.1,65478887,斜塘东延路莲花商业街中心(东延路与莲花商业街交叉口)--Centre of Xietang Dongyan road Lotus flower business street (the cross of Dongyan street and Lotus flower business street),1500
+13,湘膳（独墅湖店）--Xiangshan restaurant (Dushu Lake branch),73,Hunan dish,8.4,8.2,8.5,65966667,独墅湖月亮湾星月坊商圈E01号(近独墅湖体育馆)-- Dushu Lake moon bay street Xingyue No. E01 (next to Dushu Lake gymnasium),2200
+14,御记煌三汁焖锅（文星广场店）--YuJiHuangSanZhiMenGuo(WenXing branch),48,Hotpot,8.2,8.3,8.2,62539695,独墅湖大学城文星广场--Dushu Lake Higher Education Zone WenXing square,473
+15,丫丫小煮（文星广场店）--YaYaXiaoZhu（WenXing branch),51,Hotpot,9,9.1,9.1,18912798470,独墅湖高教区文星广场A4号（近中国移动动感地带营业厅）--Du Shu Lake Education Town WenXing square  Number A4 (Next to China Mobile),640
+16,重庆鸡公煲（文星广场店）--ChongQinJiGongBao(WenXing brach),35,Hotpot,8.4,8.1,8.8,62565071,独墅湖高教区仁爱路文星广场内--Dushu Lake Higher education zone Renai road Wenxing square,480
+17,关于吃.Com(高教店）--GuanYuChi(higher education area branch),50,Suzhou dish,9,8.9,8.9,62769176,林泉街598号邻里中心翰林大厦2楼 --Linquan Street Number 598 LinLI Center Hanlin Building second floor,733
+18,桃花源记（高教店）--TaoHuaYuanJi(higher education area branch),24,Suzhou dish,9.1,9,9,62769179,林泉街598号翰林邻里中心2楼b202-1室(关于吃.com)旁 --Linquan Street Number 598  Han Lin LinLI Center Building second floor (Next to GuanYuChi.com),708
+19,地锅居（翰林店）--DiGuoJu(HanLin branch),42,Suzhou dish,7.7,7.1,7.5,62568243,林泉街298号（翰林大厦北2楼207）--Linquan Street Number 298 (The north of HanLin building second floor 207),666
+20,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuan branch),39,Japaness dish,9.1,9.2,9.1,62763036,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuanDian),763
+21,缘幕寿司（翰林缘店）--YuanMuShousi(HanLinYuan branch),10,Japaness dish,7.3,7.3,7.3,15370031170,独墅湖高教区仁爱路20号文星广场（佳得利超市对面）--Dushu Lake Higher Education Zone Renai Road Number 20 WenXing Square (right in front of supermarket JiaDeLi),464
+22,秋季语寿司（文星店）--QiuJiYuShouSi(Wenxing branch),11,Japaness dish,8.4,8.9,9,15262588028,文星广场B2座（近老娘舅）--WenXing Square B2 Building (Next to LaoNiangJiu),568
+23,这美咖啡 --ZeMo Café,54,Western dish,9.1,8.8,9.1,89573182,仁爱路105号（工商银行）--Renai Road Number 105 (Industral and Commerical Bank Of China),322
+24,小西厨西餐（文星广场店）--XiaoXiChuXiCan(WenXing branch),15,Western dish,7.1,7.3,7.4,18761937694,仁爱路199号文星广场2楼 --Renai Road Number 199 WenXing Square second floor,519
+25,水天堂西餐厅（邻瑞广场店）--ShuiTianTangXiCanTing(Link city branch),66,Western dish,9.2,9.1,9.1,67777737,西华林街邻瑞广场403号 --XiHuaLinJie LinRui Square Number 403,34000
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/tab/utils/FragmentChangeManager.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/utils/FragmentChangeManager.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/utils/FragmentChangeManager.java	(revision )
@@ -0,0 +1,63 @@
+package sunger.net.org.dropmenu.tab.utils;
+
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentTransaction;
+
+import java.util.ArrayList;
+
+public class FragmentChangeManager {
+    private FragmentManager mFragmentManager;
+    private int mContainerViewId;
+    /**
+     * Fragment切换数组
+     */
+    private ArrayList<Fragment> mFragments;
+    /**
+     * 当前选中的Tab
+     */
+    private int mCurrentTab;
+
+    public FragmentChangeManager(FragmentManager fm, int containerViewId, ArrayList<Fragment> fragments) {
+        this.mFragmentManager = fm;
+        this.mContainerViewId = containerViewId;
+        this.mFragments = fragments;
+        initFragments();
+    }
+
+    /**
+     * 初始化fragments
+     */
+    private void initFragments() {
+        for (Fragment fragment : mFragments) {
+            mFragmentManager.beginTransaction().add(mContainerViewId, fragment).hide(fragment).commit();
+        }
+
+        setFragments(0);
+    }
+
+    /**
+     * 界面切换控制
+     */
+    public void setFragments(int index) {
+        for (int i = 0; i < mFragments.size(); i++) {
+            FragmentTransaction ft = mFragmentManager.beginTransaction();
+            Fragment fragment = mFragments.get(i);
+            if (i == index) {
+                ft.show(fragment);
+            } else {
+                ft.hide(fragment);
+            }
+            ft.commit();
+        }
+        mCurrentTab = index;
+    }
+
+    public int getCurrentTab() {
+        return mCurrentTab;
+    }
+
+    public Fragment getCurrentFragment() {
+        return mFragments.get(mCurrentTab);
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FourthRatings.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FourthRatings.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/FourthRatings.java	(revision )
@@ -0,0 +1,245 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of FourthRatings here.
+ *
+ * @di.yao_1301953 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.util.ArrayList;
+import java.util.Collections;
+import java.util.Comparator;
+import java.util.HashMap;
+
+public class FourthRatings {
+
+    private double getAverageEnvironByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(UserDatabase.getUsers(), id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getEnvironRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    private double getAverageServiceByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(UserDatabase.getUsers(), id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getServiceRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    private double getAverageFlavorByID(String id, int minimalUsers) {
+        FirstRatings userLocator = new FirstRatings();
+        ArrayList<User> userList = userLocator.findRestaurant(UserDatabase.getUsers(), id);
+        if (userList.size() < minimalUsers) {
+            return 0.0;
+        } else {
+            double sumOfRatings = 0.0;
+            for (User currentRater : userList) {
+                double currentRating = currentRater.getFlavorRating(id);
+                sumOfRatings += currentRating;
+            }
+            return sumOfRatings / userList.size();
+        }
+    }
+
+    public ArrayList<Rating> getAverageRatings(int minimalUsers) {
+        ArrayList<Rating> output = new ArrayList<Rating>();
+        ArrayList<String> restaurants = RestaurantDatabase.filterBy(new TrueFilter());
+        for (String restaurantID : restaurants) {
+
+            double averageEnvironScores = getAverageEnvironByID(restaurantID, minimalUsers);
+            double averageServiceScores = getAverageServiceByID(restaurantID, minimalUsers);
+            double averageFlavorScores = getAverageFlavorByID(restaurantID, minimalUsers);
+
+            output.add(new Rating(restaurantID, averageFlavorScores, averageEnvironScores, averageServiceScores));
+        }
+        ArrayList<Rating> finalOutput = new ArrayList<Rating>();
+        for (Rating currentRating : output) {
+            if (currentRating.getEnvironValue() != 0.0 || currentRating.getFlavorValue() != 0.0 ||
+                    currentRating.getServiceValue() != 0.0) {
+                finalOutput.add(currentRating);
+            }
+        }
+        return finalOutput;
+    }
+
+    public ArrayList<Rating> getAverageRatingsByFilter(Filter f, int minimalUsers) {
+        ArrayList<Rating> output = new ArrayList<Rating>();
+        ArrayList<String> restaurants = RestaurantDatabase.filterBy(f);
+        for (String restaurantID : restaurants) {
+
+            double averageEnvironScores = getAverageEnvironByID(restaurantID, minimalUsers);
+            double averageServiceScores = getAverageServiceByID(restaurantID, minimalUsers);
+            double averageFlavorScores = getAverageFlavorByID(restaurantID, minimalUsers);
+
+            output.add(new Rating(restaurantID, averageFlavorScores, averageEnvironScores, averageServiceScores));
+        }
+        ArrayList<Rating> finalOutput = new ArrayList<Rating>();
+        for (Rating currentRating : output) {
+            if (currentRating.getEnvironValue() != 0.0 || currentRating.getFlavorValue() != 0.0 ||
+                    currentRating.getServiceValue() != 0.0) {
+                finalOutput.add(currentRating);
+            }
+        }
+        return finalOutput;
+    }
+
+    private int dotProduct(User me, User r) {
+        ArrayList<String> restItemOfMe = me.getIDOfRestaurantRated();
+        ArrayList<String> restItemOfR = r.getIDOfRestaurantRated();
+        User copyOfMe = new EfficientUser();
+        User copyOfR = new EfficientUser();
+
+        for (String currentItem : restItemOfMe) {
+            double currentRating = me.getAverageRating(currentItem) - 5;
+            copyOfMe.addRating(currentItem, currentRating, currentRating, currentRating);
+        }
+
+        for (String currentItem : restItemOfR) {
+            double currentRating = r.getAverageRating(currentItem) - 5;
+            copyOfR.addRating(currentItem, currentRating, currentRating, currentRating);
+        }
+
+        int output = 0;
+        for (String restItem : restItemOfMe) {
+            if (copyOfR.hasRating(restItem)) {
+                output += copyOfMe.getAverageRating(restItem) * copyOfR.getAverageRating(restItem);
+            }
+        }
+        return output;
+    }
+
+    private ArrayList<Rating> getSimilarities(String id) {
+        ArrayList<Rating> list = new ArrayList<Rating>();
+        User me = UserDatabase.getUser(id);
+        for (User r : UserDatabase.getUsers()) {
+            if (!r.getID().equals(id)) {
+                int product = dotProduct(me, r);
+                if (product > 0) {
+                    list.add(new Rating(r.getID(), product, product, product));
+                }
+            }
+        }
+        Collections.sort(list, new Comparator<Rating>() {
+            public int compare(Rating r1, Rating r2) {
+                return Double.valueOf(r1.getAverageValue()).compareTo(Double.valueOf(r2.getAverageValue()));
+            }
+        });
+        Collections.sort(list, Collections.reverseOrder());
+        return list;
+    }
+
+    public ArrayList<Rating> getSimilarRatings(String id, int numSimilarUsers, int minimalUsers) {
+        ArrayList<Rating> list = getSimilarities(id);
+        ArrayList<Rating> ret = new ArrayList<Rating>();
+        ArrayList<String> restaurantID = getRestaurant(list, numSimilarUsers, minimalUsers);
+        for (String currentRestaurantID : restaurantID) {
+            int number = 0;
+            double newRatings = 0.0;
+            for (int k = 0; k < numSimilarUsers; k++) {
+                Rating r = list.get(k);
+                double weight = r.getAverageValue();
+                User currentUser = UserDatabase.getUser(r.getItem());
+                if (currentUser.getIDOfRestaurantRated().indexOf(currentRestaurantID) != -1) {
+                    newRatings += weight * currentUser.getAverageRating(currentRestaurantID);
+                    number += 1;
+                }
+            }
+            ret.add(new Rating(currentRestaurantID, newRatings / number, newRatings / number, newRatings / number));
+        }
+
+        Collections.sort(ret, new Comparator<Rating>() {
+            public int compare(Rating r1, Rating r2) {
+                return Double.valueOf(r1.getAverageValue()).compareTo(Double.valueOf(r2.getAverageValue()));
+            }
+        });
+        Collections.sort(ret, Collections.reverseOrder());
+        return ret;
+    }
+
+    public ArrayList<String> getRestaurant(ArrayList<Rating> list, int numSimilarUsers, int minimalUsers) {
+        ArrayList<User> users = new ArrayList<User>();
+        for (int k = 0; k < numSimilarUsers; k++) {
+            Rating currentRating = list.get(k);
+            String userID = currentRating.getItem();
+            users.add(UserDatabase.getUser(userID));
+        }
+
+        HashMap<String, Integer> allRestaurants = new HashMap<String, Integer>();
+        for (User currentUser : users) {
+            ArrayList<String> restaurantItems = currentUser.getIDOfRestaurantRated();
+            for (String currentRestaurantID : restaurantItems) {
+                if (!allRestaurants.containsKey(currentRestaurantID)) {
+                    allRestaurants.put(currentRestaurantID, 1);
+                } else {
+                    allRestaurants.put(currentRestaurantID, allRestaurants.get(currentRestaurantID) + 1);
+                }
+            }
+        }
+
+        ArrayList<String> restaurantID = new ArrayList<String>();
+        for (String restaurantItem : allRestaurants.keySet()) {
+            if (allRestaurants.get(restaurantItem) >= minimalUsers) {
+                restaurantID.add(restaurantItem);
+            }
+        }
+
+        return restaurantID;
+    }
+
+    public ArrayList<Rating> getSimilarRatingsByFilter(String id, int numSimilarUsers, int minimalUsers, Filter f) {
+        ArrayList<Rating> list = getSimilarities(id);
+        ArrayList<Rating> ret = new ArrayList<Rating>();
+        ArrayList<String> restaurantID2 = getRestaurant(list, numSimilarUsers, minimalUsers);
+        ArrayList<String> allFilteredRestaurantID = RestaurantDatabase.filterBy(f);
+        ArrayList<String> restaurantID = new ArrayList<String>();
+
+        for (String currentID : restaurantID2) {
+            if (allFilteredRestaurantID.indexOf(currentID) != -1) {
+                restaurantID.add(currentID);
+            }
+        }
+
+        for (String currentRestaurantID : restaurantID) {
+            int number = 0;
+            double newRatings = 0.0;
+            for (int k = 0; k < numSimilarUsers; k++) {
+                Rating r = list.get(k);
+                double weight = r.getAverageValue();
+                User currentUser = UserDatabase.getUser(r.getItem());
+                if (currentUser.getIDOfRestaurantRated().indexOf(currentRestaurantID) != -1) {
+                    newRatings += weight * currentUser.getAverageRating(currentRestaurantID);
+                    number += 1;
+                }
+            }
+            ret.add(new Rating(currentRestaurantID, newRatings / number, newRatings / number, newRatings / number));
+        }
+
+        Collections.sort(ret, new Comparator<Rating>() {
+            public int compare(Rating r1, Rating r2) {
+                return Double.valueOf(r1.getAverageValue()).compareTo(Double.valueOf(r2.getAverageValue()));
+            }
+        });
+        Collections.sort(ret, Collections.reverseOrder());
+        return ret;
+    }
+
+}
Index: app/src/main/res/layout/content_additional_function.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_additional_function.xml	(revision )
+++ app/src/main/res/layout/content_additional_function.xml	(revision )
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:paddingBottom="@dimen/activity_vertical_margin"
+    android:paddingLeft="@dimen/activity_horizontal_margin"
+    android:paddingRight="@dimen/activity_horizontal_margin"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    app:layout_behavior="@string/appbar_scrolling_view_behavior"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.AdditionalFunction"
+    tools:showIn="@layout/activity_additional_function"
+
+    >
+
+</RelativeLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantDatabase.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantDatabase.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantDatabase.java	(revision )
@@ -0,0 +1,114 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of RestaurantDatabase here.
+ *
+ * @di.yao_130185 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.io.InputStream;
+import java.util.ArrayList;
+import java.util.HashMap;
+
+public class RestaurantDatabase {
+    private static HashMap<String, Restaurant> ourRestaurants;
+
+    public static void initialize(String restaurantFile, InputStream is) {
+        if (ourRestaurants == null) {
+            ourRestaurants = new HashMap<String, Restaurant>();
+            loadRestaurants(restaurantFile, is);
+        }
+    }
+
+    private static void initialize() {
+//        if(ourRestaurants == null){
+//            ourRestaurants = new HashMap<String, Restaurant>();
+//            loadRestaurants("raw/cse208data1short.csv");
+//        }
+    }
+
+    public static void loadRestaurants(String fileName, InputStream is) {
+        FirstRatings fr = new FirstRatings();
+        ArrayList<Restaurant> list = fr.loadRestaurants(fileName, is);
+        for (Restaurant r : list) {
+            ourRestaurants.put(r.getID(), r);
+        }
+    }
+
+    private static boolean containsID(String id) {
+        initialize();
+        return ourRestaurants.containsKey(id);
+    }
+
+    public static String getTitle(String id) {
+        initialize();
+        //  return ourRestaurants.get(id).getTitle();
+        return ourRestaurants.get(id).getTitle();
+    }
+
+    public static int getAverageSpent(String id) {
+        initialize();
+        //   return ourRestaurants.get(id).getAverageSpent();
+        return ourRestaurants.get(id).getAverageSpent();
+    }
+
+    public static String getCategories(String id) {
+        initialize();
+        //return ourRestaurants.get(id).getCategories();
+        return ourRestaurants.get(id).getCategories();
+    }
+
+    public static double getEnvironmentScore(String id) {
+        initialize();
+        // return ourRestaurants.get(id).getEnvironmentScore();
+        return ourRestaurants.get(id).getEnvironmentScore();
+    }
+
+    public static double getServiceScore(String id) {
+        initialize();
+        // return ourRestaurants.get(id).getServiceScore();
+        return ourRestaurants.get(id).getServiceScore();
+    }
+
+    public static double getFlavorScore(String id) {
+        initialize();
+        // return ourRestaurants.get(id).getFlavorScore();
+        return ourRestaurants.get(id).getFlavorScore();
+    }
+
+    public static String getPhoneNumber(String id) {
+        initialize();
+        // return ourRestaurants.get(id).getPhoneNumber();
+        return ourRestaurants.get(id).getPhoneNumber();
+    }
+
+    public static String getAddress(String id) {
+        initialize();
+        //   return ourRestaurants.get(id).getAddress();
+        return ourRestaurants.get(id).getAddress();
+    }
+
+    public static int getDistance(String id) {
+        initialize();
+        //  return ourRestaurants.get(id).getDistance();
+        return ourRestaurants.get(id).getDistance();
+    }
+
+    public static int size() {
+        return ourRestaurants.size();
+    }
+
+    public static ArrayList<String> filterBy(Filter f) {
+        initialize();
+        ArrayList<String> list = new ArrayList<String>();
+        for (String id : ourRestaurants.keySet()) {
+            if (f.satisfies(id)) {
+                list.add(id);
+            }
+        }
+
+        return list;
+    }
+}
Index: app/src/main/res/layout/content_personal_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_personal_search.xml	(revision )
+++ app/src/main/res/layout/content_personal_search.xml	(revision )
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:paddingBottom="@dimen/activity_vertical_margin"
+    android:paddingLeft="@dimen/activity_horizontal_margin"
+    android:paddingRight="@dimen/activity_horizontal_margin"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    app:layout_behavior="@string/appbar_scrolling_view_behavior"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.personalSearch"
+    tools:showIn="@layout/activity_personal_search">
+
+</RelativeLayout>
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/com/example/sihan/restaurantrecommendation/view/SlidingMenu.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/com/example/sihan/restaurantrecommendation/view/SlidingMenu.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/com/example/sihan/restaurantrecommendation/view/SlidingMenu.java	(revision )
@@ -0,0 +1,144 @@
+package com.example.sihan.restaurantrecommendation.com.example.sihan.restaurantrecommendation.view;
+
+import android.content.Context;
+import android.content.res.TypedArray;
+import android.util.AttributeSet;
+import android.util.DisplayMetrics;
+import android.util.TypedValue;
+import android.view.MotionEvent;
+import android.view.ViewGroup;
+import android.view.WindowManager;
+import android.widget.HorizontalScrollView;
+import android.widget.LinearLayout;
+
+import com.example.sihan.restaurantrecommendation.R;
+import com.nineoldandroids.view.ViewHelper;
+
+/**
+ * Created by Sihan on 2016/4/22.
+ */
+public class SlidingMenu extends HorizontalScrollView {
+
+    private LinearLayout mWapper;
+    private ViewGroup mMenu;
+    private ViewGroup mContent;
+    private int mScreenWidth;
+    private int mMenuRightPadding = 50;//
+    private boolean once = false;
+    private int mMenuWidth;
+    private boolean isOpen;
+
+    public SlidingMenu(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+
+    }
+
+    public SlidingMenu(Context context, AttributeSet attrs, int defStyle) {
+        super(context, attrs, defStyle);
+        TypedArray a = context.getTheme().obtainStyledAttributes(attrs, R.styleable.SlidingMenu, defStyle, 0);
+        int n = a.getIndexCount();
+        for (int i = 0; i < n; i++) {
+            int attr = a.getIndex(i);
+            switch (attr) {
+                case R.styleable.SlidingMenu_rightPadding:
+                    mMenuRightPadding = a.getDimensionPixelSize(attr, (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 50, context.getResources().getDisplayMetrics()));
+                    break;
+
+
+            }
+        }
+        a.recycle();
+        WindowManager wm = (WindowManager) context.getSystemService(Context.WINDOW_SERVICE);
+        DisplayMetrics outMetrics = new DisplayMetrics();
+        wm.getDefaultDisplay().getMetrics(outMetrics);
+        mScreenWidth = outMetrics.widthPixels;
+    }
+
+    public SlidingMenu(Context context) {
+        this(context, null);
+    }
+
+    @Override
+    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
+        if (!once) {
+            mWapper = (LinearLayout) getChildAt(0);
+            mMenu = (ViewGroup) mWapper.getChildAt(0);
+            mContent = (ViewGroup) mWapper.getChildAt(1);
+            mMenuWidth = mMenu.getLayoutParams().width = mScreenWidth - mMenuRightPadding;
+            mContent.getLayoutParams().width = mScreenWidth;
+
+            once = true;
+        }
+        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
+    }
+
+    @Override
+    protected void onLayout(boolean changed, int l, int t, int r, int b) {
+        super.onLayout(changed, l, t, r, b);
+        if (changed) {
+            this.scrollTo(mMenuWidth, 0);
+        }
+
+    }
+
+    @Override
+    public boolean onTouchEvent(MotionEvent ev) {
+        int action = ev.getAction();
+        switch (action) {
+            case MotionEvent.ACTION_UP:
+                int scrollX = getScrollX();
+                if (scrollX >= mMenuWidth / 2) {
+                    this.smoothScrollTo(mMenuWidth, 0);
+                    isOpen = false;
+                } else {
+                    this.smoothScrollTo(0, 0);
+                    isOpen = true;
+                }
+                return true;
+        }
+
+
+        return super.onTouchEvent(ev);
+    }
+
+    public void openMenu() {
+        if (isOpen) return;
+        this.smoothScrollTo(0, 0);
+        isOpen = true;
+
+    }
+
+    public void closeMenu() {
+        if (!isOpen) return;
+        this.smoothScrollTo(mMenuWidth, 0);
+        isOpen = false;
+
+    }
+
+    public void toggle() {
+        if (isOpen) {
+            closeMenu();
+        } else {
+            openMenu();
+        }
+    }
+
+    @Override
+    protected void onScrollChanged(int l, int t, int oldl, int oldt) {
+        super.onScrollChanged(l, t, oldl, oldt);
+        float scale = l * 1.0f / mMenuWidth;
+        float rightScale = 0.7f + 0.3f * scale;
+        float leftScale = 1.0f - scale * 0.3f;
+        float leftAlpha = 0.6f + 0.4f * (1 - scale);
+        ViewHelper.setTranslationX(mMenu, mMenuWidth * scale * 0.7f);
+        ViewHelper.setScaleX(mMenu, leftScale);
+        ViewHelper.setScaleY(mMenu, leftScale);
+        ViewHelper.setAlpha(mMenu, leftAlpha);
+        ViewHelper.setPivotX(mContent, 0);
+        ViewHelper.setPivotY(mContent, mContent.getHeight() / 2);
+        ViewHelper.setScaleX(mContent, rightScale);
+        ViewHelper.setScaleY(mContent, rightScale);
+    }
+
+
+}
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/tab/listener/CustomTabEntity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/tab/listener/CustomTabEntity.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/tab/listener/CustomTabEntity.java	(revision )
@@ -0,0 +1,9 @@
+package sunger.net.org.dropmenu.tab.listener;
+
+public interface CustomTabEntity {
+    String getTabTitle();
+
+    int getTabSelectedIcon();
+
+    int getTabUnselectedIcon();
+}
\ No newline at end of file
Index: app/src/main/res/layout/layout_tab_bottom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab_bottom.xml	(revision )
+++ app/src/main/res/layout/layout_tab_bottom.xml	(revision )
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <LinearLayout
+        android:id="@+id/ll_tap"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:orientation="vertical">
+
+        <TextView
+            android:id="@+id/tv_tab_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:singleLine="true" />
+
+        <ImageView
+            android:id="@+id/iv_tab_icon"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+
+    </LinearLayout>
+
+    <com.flyco.tablayout.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_toRightOf="@+id/ll_tap"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_default_drop_down.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/item_default_drop_down.xml	(revision )
+++ app/src/main/res/layout/item_default_drop_down.xml	(revision )
@@ -0,0 +1,24 @@
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:background="@color/white"
+    android:orientation="vertical"
+    tools:context="com.car.cslm.widget.drop_down_menu.DefaultDropDownAdapter">
+
+    <TextView
+        android:id="@+id/text"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:gravity="center"
+        android:paddingBottom="10dp"
+        android:paddingLeft="25dp"
+        android:paddingRight="25dp"
+        android:paddingTop="10dp" />
+
+    <View
+        android:layout_width="match_parent"
+        android:layout_height="0.5dp"
+        android:background="@color/gray" />
+
+</LinearLayout>
Index: app/src/main/java/org/net/sunger/widget/MenuLayout.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/net/sunger/widget/MenuLayout.java	(revision )
+++ app/src/main/java/org/net/sunger/widget/MenuLayout.java	(revision )
@@ -0,0 +1,132 @@
+package org.net.sunger.widget;
+
+import android.annotation.TargetApi;
+import android.content.Context;
+import android.os.Build;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentTransaction;
+import android.util.AttributeSet;
+import android.view.animation.Animation;
+import android.view.animation.AnimationUtils;
+import android.widget.RelativeLayout;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+import java.util.List;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class MenuLayout extends RelativeLayout {
+    private Animation animationIn;
+    private Animation animationOut;
+    private FragmentManager fragmentManager;
+    private List<Fragment> fragments;
+    private int currentItem = 0;
+
+    public MenuLayout(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+    }
+
+    public MenuLayout(Context context) {
+        this(context, null);
+    }
+
+    public MenuLayout(Context context, AttributeSet attrs, int defStyleAttr) {
+        this(context, attrs, defStyleAttr, 0);
+    }
+
+    @TargetApi(Build.VERSION_CODES.LOLLIPOP)
+    public MenuLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
+        super(context, attrs, defStyleAttr, defStyleRes);
+        setClickable(true);
+    }
+
+    public void setFragmentManager(FragmentManager fragmentManager) {
+        this.fragmentManager = fragmentManager;
+    }
+
+    private int getMenuId() {
+        if (getId() == NO_ID) {
+            setId(R.id.menu_id);
+        }
+        return getId();
+    }
+
+    private void hideLastFragment(FragmentTransaction transaction) {
+        for (int i = 0; i < fragments.size(); i++) {
+            if (i != currentItem || !fragments.get(i).isHidden()) {
+                transaction.hide(fragments.get(i));
+            }
+        }
+    }
+
+    public void setCurrentItem(int position) {
+        currentItem = position;
+        FragmentTransaction transaction = fragmentManager.beginTransaction();
+        hideLastFragment(transaction);
+        transaction.show(fragments.get(position));
+        transaction.commit();
+    }
+
+
+    public void bindFragments(List<Fragment> fragmentList) {
+        this.fragments = fragmentList;
+        FragmentTransaction transaction = fragmentManager.beginTransaction();
+        for (Fragment frg : fragments) {
+            transaction.add(getMenuId(), frg);
+        }
+        transaction.commit();
+    }
+
+
+    public void show() {
+        if (animationIn == null) {
+            animationIn = AnimationUtils.loadAnimation(getContext(), R.anim.menu_in);
+        }
+        setVisibility(VISIBLE);
+        setAnimation(animationIn);
+        animationIn.start();
+    }
+
+    public void dissMiss() {
+        if (animationOut == null) {
+            animationOut = AnimationUtils.loadAnimation(getContext(), R.anim.menu_out);
+        }
+        setVisibility(GONE);
+        setAnimation(animationOut);
+        animationOut.start();
+    }
+
+
+    public Animation getAnimationIn() {
+        return animationIn;
+    }
+
+    public void setAnimationIn(Animation animationIn) {
+        this.animationIn = animationIn;
+    }
+
+    public void setAnimationIn(int animationInResid) {
+        this.animationIn = AnimationUtils.loadAnimation(getContext(), animationInResid);
+    }
+
+    public Animation getAnimationOut() {
+        return animationOut;
+    }
+
+    public void setAnimationOut(Animation animationOut) {
+        this.animationOut = animationOut;
+    }
+
+    public void setAnimationOut(int animationOutResId) {
+        this.animationOut = AnimationUtils.loadAnimation(getContext(), animationOutResId);
+    }
+
+    public boolean isShow() {
+        return getVisibility() == VISIBLE;
+    }
+
+
+}
Index: app/src/main/res/layout/content_register.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_register.xml	(revision )
+++ app/src/main/res/layout/content_register.xml	(revision )
@@ -0,0 +1,109 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:background="@drawable/lo"
+    android:orientation="vertical">
+
+
+    <ImageView
+        android:id="@+id/imageView2"
+        android:layout_width="300dp"
+        android:layout_height="200dp"
+        android:layout_gravity="center_vertical"
+        android:layout_marginLeft="60dp"
+        android:layout_marginTop="20dp" />
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginLeft="20dp"
+        android:layout_marginTop="10dp"
+        android:text="Account:"
+        android:textSize="30sp" />
+
+    <LinearLayout
+        android:layout_width="300dp"
+        android:layout_height="50dp"
+        android:layout_marginLeft="60dp"
+        android:layout_marginRight="12dp"
+        android:layout_marginTop="5dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+
+        <!-- 输入的搜索信息 -->
+
+        <EditText
+            android:id="@+id/createAccount"
+            android:layout_width="wrap_content"
+            android:layout_height="match_parent"
+            android:layout_marginLeft="10dp"
+            android:layout_weight="1"
+            android:background="@null"
+            android:gravity="center_vertical"
+            android:hint="Please create 10 number account:"
+            android:imeOptions="actionSearch"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="17sp" />
+    </LinearLayout>
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginLeft="20dp"
+        android:layout_marginTop="20dp"
+        android:text="Password:"
+        android:textSize="30sp" />
+
+    <LinearLayout
+        android:layout_width="300dp"
+        android:layout_height="50dp"
+        android:layout_marginLeft="60dp"
+        android:layout_marginRight="12dp"
+        android:layout_marginTop="5dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+
+        <!-- 输入的搜索信息 -->
+        <EditText
+            android:id="@+id/createPassword"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_marginLeft="10dp"
+            android:layout_weight="4"
+            android:gravity="center_vertical"
+            android:hint="Please create 6 number password:"
+            android:imeOptions="actionSearch"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="17sp" />
+    </LinearLayout>
+
+    <Button
+        android:id="@+id/signNewAccount"
+        android:layout_width="200dp"
+        android:layout_height="40dp"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="50dp"
+        android:background="#927ae6"
+        android:text="Confirm"
+        android:textAllCaps="false" />
+
+    <Button
+        android:id="@+id/btn_qu"
+        android:layout_width="100dp"
+        android:layout_height="wrap_content"
+        android:layout_gravity="center_horizontal"
+        android:layout_marginTop="10dp"
+        android:background="#00000000"
+        android:text="return"
+
+        android:textColor="#ffffff"
+        android:textSize="20sp"
+
+        />
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/distanceFilter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/distanceFilter.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/distanceFilter.java	(revision )
@@ -0,0 +1,21 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of distanceFilter here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+public class distanceFilter implements Filter {
+    private int myDistance;
+
+    public distanceFilter(int distance) {
+        myDistance = distance;
+    }
+
+    public boolean satisfies(String id) {
+        int distance = RestaurantDatabase.getDistance(id);
+        return distance <= myDistance;
+    }
+}
Index: app/src/main/res/layout/content_result_list.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/content_result_list.xml	(revision )
+++ app/src/main/res/layout/content_result_list.xml	(revision )
@@ -0,0 +1,191 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:paddingBottom="@dimen/activity_vertical_margin"
+    android:paddingLeft="@dimen/activity_horizontal_margin"
+    android:paddingRight="@dimen/activity_horizontal_margin"
+    android:paddingTop="@dimen/activity_vertical_margin"
+    app:layout_behavior="@string/appbar_scrolling_view_behavior"
+    tools:context=".MannualResultList">
+
+    <LinearLayout
+        android:layout_width="fill_parent"
+        android:layout_height="50dp"
+        android:layout_marginLeft="20dp"
+        android:layout_marginRight="12dp"
+        android:layout_marginTop="5dp"
+        android:background="#FFFFFF"
+        android:orientation="horizontal">
+        <!-- 输入的搜索信息 -->
+        <AutoCompleteTextView
+            android:id="@+id/et_search"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_marginLeft="10dp"
+            android:layout_weight="4"
+            android:background="@null"
+            android:drawableLeft="@drawable/search"
+            android:gravity="center_vertical"
+            android:hint="搜索"
+            android:imeOptions="actionSearch"
+            android:singleLine="true"
+            android:textColor="#0e0e0e"
+            android:textColorHint="#b0c6ce"
+            android:textSize="17sp" />
+        <!-- 清空搜索文字按钮 -->
+        <LinearLayout
+            android:id="@+id/layout_clear_search_text"
+            android:layout_width="0dp"
+            android:layout_height="fill_parent"
+            android:layout_weight="0.5"
+            android:orientation="horizontal"
+            android:visibility="gone">
+
+            <Button
+                android:id="@+id/btn_clear_search_text"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="right|center_vertical"
+                android:background="@drawable/clear" />
+
+        </LinearLayout>
+
+    </LinearLayout>
+
+    <LinearLayout
+        android:id="@+id/linearLayout"
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="80dp"
+        android:orientation="horizontal">
+
+        <TextView
+            android:layout_width="130dp"
+            android:layout_height="50dp"
+            android:text="Score"
+            android:textSize="60px" />
+
+        <TextView
+            android:layout_width="150dp"
+            android:layout_height="50dp"
+            android:text="Restaurant"
+            android:textSize="60px" />
+
+    </LinearLayout>
+
+    <ListView
+        android:id="@+id/result"
+        android:layout_width="fill_parent"
+        android:layout_height="200dp"
+        android:layout_below="@+id/linearLayout"
+        android:clickable="true"
+        android:longClickable="true"
+
+        />
+
+
+    <TableLayout
+        android:id="@+id/score"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true"
+        android:stretchColumns="*"
+
+        >
+
+        <TableRow>
+
+            <Button
+                android:id="@+id/MRest"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="MRest" />
+
+            <Button
+                android:id="@+id/SRest"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="SRest" />
+
+        </TableRow>
+
+        <TableRow>
+
+            <ImageButton
+                android:id="@+id/homeBtn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_below="@+id/result"
+                android:layout_marginLeft="52dp"
+                android:layout_marginStart="52dp"
+                android:layout_toEndOf="@+id/registerBtn"
+                android:layout_toRightOf="@+id/registerBtn"
+                android:background="@drawable/home"
+                android:visibility="invisible" />
+
+            <ImageButton
+                android:id="@+id/searchBtn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignEnd="@+id/plusBtn"
+                android:layout_alignRight="@+id/plusBtn"
+                android:layout_below="@+id/homeBtn"
+                android:background="@drawable/search"
+                android:visibility="invisible" />
+
+            <ImageButton
+                android:id="@+id/registerBtn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignTop="@+id/hideBtn"
+                android:layout_centerHorizontal="true"
+                android:background="@drawable/sign"
+                android:visibility="invisible" />
+
+            <ImageButton
+                android:id="@+id/personalAccount"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_below="@+id/homeBtn"
+                android:layout_toLeftOf="@+id/homeBtn"
+                android:layout_toStartOf="@+id/homeBtn"
+                android:background="@drawable/rbutton"
+                android:visibility="invisible" />
+
+            <ImageButton
+                android:id="@+id/plusBtn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignParentBottom="true"
+                android:layout_marginBottom="43dp"
+                android:layout_toEndOf="@+id/homeBtn"
+                android:layout_toRightOf="@+id/homeBtn"
+                android:background="@drawable/plus" />
+
+            <ImageButton
+                android:id="@+id/hideBtn"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_alignBottom="@+id/plusBtn"
+                android:layout_toEndOf="@+id/plusBtn"
+                android:layout_toRightOf="@+id/plusBtn"
+                android:background="@drawable/hide"
+                android:visibility="invisible" />
+        </TableRow>
+
+    </TableLayout>
+
+    <Button
+        android:id="@+id/BackToMannual"
+        style="?android:attr/buttonStyleSmall"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true"
+        android:layout_column="4"
+        android:text="Back" />
+
+
+</RelativeLayout>
Index: app/src/main/res/layout/new_drop_ac.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/new_drop_ac.xml	(revision )
+++ app/src/main/res/layout/new_drop_ac.xml	(revision )
@@ -0,0 +1,30 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tl="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical">
+
+    <sunger.net.org.dropmenu.tab.CommonTabLayout
+        android:id="@+id/tabs"
+        android:layout_width="match_parent"
+        android:layout_height="48dp"
+        android:background="#ffffff"
+        tl:tl_iconGravity="LEFT"
+        tl:tl_iconHeight="18dp"
+        tl:tl_iconMargin="5dp"
+        tl:tl_iconWidth="18dp"
+        tl:tl_tab_space_equal="true"
+        tl:tl_textSelectColor="#ff8500"
+        tl:tl_textUnselectColor="#4f4f4f"
+        tl:tl_textsize="14sp" />
+
+    <View
+        android:layout_width="match_parent"
+        android:layout_height="2dp"
+        android:background="#edeeef"></View>
+
+    <include layout="@layout/new_drop_con" />
+
+
+</LinearLayout>
Index: app/src/main/res/layout/list_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/list_item.xml	(revision )
+++ app/src/main/res/layout/list_item.xml	(revision )
@@ -0,0 +1,31 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="300dp"
+    android:layout_height="wrap_content">
+
+    <ImageView
+        android:id="@+id/id_item_image"
+        android:layout_width="80dp"
+        android:layout_height="80dp"
+        android:layout_alignParentLeft="true"
+        android:layout_alignParentTop="true"
+        android:layout_centerHorizontal="true"
+        android:layout_margin="5dp"
+        android:scaleType="centerCrop" />
+
+    <TextView
+        android:id="@+id/id_item_text"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignBottom="@+id/id_item_image"
+        android:layout_alignParentEnd="true"
+        android:layout_alignParentRight="true"
+        android:layout_alignTop="@+id/id_item_image"
+        android:layout_toEndOf="@+id/id_item_image"
+        android:layout_toRightOf="@+id/id_item_image"
+        android:background="#eeeeee"
+        android:text="Restaurant"
+        android:textColor="#ff0000"
+        android:textSize="12dp" />
+
+</RelativeLayout>  
\ No newline at end of file
Index: app/src/main/res/values/attrs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/attrs.xml	(revision )
+++ app/src/main/res/values/attrs.xml	(revision )
@@ -0,0 +1,149 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <!-- indicator -->
+    <!-- 设置显示器颜色 -->
+    <attr name="tl_indicator_color" format="color" />
+    <!-- 设置显示器高度 -->
+    <attr name="tl_indicator_height" format="dimension" />
+    <!-- 设置显示器固定宽度 -->
+    <attr name="tl_indicator_width" format="dimension" />
+    <!-- 设置显示器margin,当indicator_width大于0,无效 -->
+    <attr name="tl_indicator_margin_left" format="dimension" />
+    <attr name="tl_indicator_margin_top" format="dimension" />
+    <attr name="tl_indicator_margin_right" format="dimension" />
+    <attr name="tl_indicator_margin_bottom" format="dimension" />
+    <!-- 设置显示器圆角弧度-->
+    <attr name="tl_indicator_corner_radius" format="dimension" />
+    <!-- 设置显示器上方还是下方,只对圆角矩形有用-->
+    <attr name="tl_indicator_gravity" format="enum">
+        <enum name="TOP" value="48" />
+        <enum name="BOTTOM" value="80" />
+    </attr>
+    <!-- 设置显示器为常规|三角形|背景色块|-->
+    <attr name="tl_indicator_style" format="enum">
+        <enum name="NORMAL" value="0" />
+        <enum name="TRIANGLE" value="1" />
+        <enum name="BLOCK" value="2" />
+    </attr>
+    <!-- 设置显示器长度与title一样长,只有在STYLE_NORMAL并且indicatorWidth小于零有效-->
+    <attr name="tl_indicator_width_equal_title" format="boolean" />
+    <!-- 设置显示器支持动画-->
+    <attr name="tl_indicator_anim_enable" format="boolean" />
+    <!-- 设置显示器动画时间-->
+    <attr name="tl_indicator_anim_duration" format="integer" />
+    <!-- 设置显示器支持动画回弹效果-->
+    <attr name="tl_indicator_bounce_enable" format="boolean" />
+
+    <!-- underline -->
+    <!-- 设置下划线颜色 -->
+    <attr name="tl_underline_color" format="color" />
+    <!-- 设置下划线高度 -->
+    <attr name="tl_underline_height" format="dimension" />
+    <!-- 设置下划线上方还是下方-->
+    <attr name="tl_underline_gravity" format="enum">
+        <enum name="TOP" value="48" />
+        <enum name="BOTTOM" value="80" />
+    </attr>
+
+    <!-- divider -->
+    <!-- 设置分割线颜色 -->
+    <attr name="tl_divider_color" format="color" />
+    <!-- 设置分割线宽度 -->
+    <attr name="tl_divider_width" format="dimension" />
+    <!-- 设置分割线的paddingTop和paddingBottom -->
+    <attr name="tl_divider_padding" format="dimension" />
+
+    <!-- tab -->
+    <!-- 设置tab的paddingLeft和paddingRight -->
+    <attr name="tl_tab_padding" format="dimension" />
+    <!-- 设置tab大小等分 -->
+    <attr name="tl_tab_space_equal" format="boolean" />
+    <!-- 设置tab固定大小 -->
+    <attr name="tl_tab_width" format="dimension" />
+
+    <!-- title -->
+    <!-- 设置字体大小 -->
+    <attr name="tl_textsize" format="dimension" />
+    <!-- 设置字体选中颜色 -->
+    <attr name="tl_textSelectColor" format="color" />
+    <!-- 设置字体未选中颜色 -->
+    <attr name="tl_textUnselectColor" format="color" />
+    <!-- 设置字体加粗 -->
+    <attr name="tl_textBold" format="boolean" />
+    <!-- 设置字体全大写 -->
+    <attr name="tl_textAllCaps" format="boolean" />
+
+
+    <declare-styleable name="CommonTabLayout">
+        <!-- indicator -->
+        <attr name="tl_indicator_color" />
+        <attr name="tl_indicator_height" />
+        <attr name="tl_indicator_width" />
+        <attr name="tl_indicator_margin_left" />
+        <attr name="tl_indicator_margin_top" />
+        <attr name="tl_indicator_margin_right" />
+        <attr name="tl_indicator_margin_bottom" />
+        <attr name="tl_indicator_corner_radius" />
+        <attr name="tl_indicator_gravity" />
+        <attr name="tl_indicator_style" />
+        <attr name="tl_indicator_anim_enable" />
+        <attr name="tl_indicator_anim_duration" />
+        <attr name="tl_indicator_bounce_enable" />
+
+        <!-- underline -->
+        <attr name="tl_underline_color" />
+        <attr name="tl_underline_height" />
+        <attr name="tl_underline_gravity" />
+
+        <!-- divider -->
+        <attr name="tl_divider_color" />
+        <attr name="tl_divider_width" />
+        <attr name="tl_divider_padding" />
+
+        <!-- tab -->
+        <attr name="tl_tab_padding" />
+        <attr name="tl_tab_space_equal" />
+        <attr name="tl_tab_width" />
+
+        <!-- title -->
+        <attr name="tl_textsize" />
+        <attr name="tl_textSelectColor" />
+        <attr name="tl_textUnselectColor" />
+        <attr name="tl_textBold" />
+        <attr name="tl_textAllCaps" />
+
+        <!-- icon -->
+        <!-- 设置icon宽度 -->
+        <attr name="tl_iconWidth" format="dimension" />
+        <!-- 设置icon高度 -->
+        <attr name="tl_iconHeight" format="dimension" />
+        <!-- 设置icon是否可见 -->
+        <attr name="tl_iconVisible" format="boolean" />
+        <!-- 设置icon显示位置,对应Gravity中常量值 -->
+        <attr name="tl_iconGravity" format="enum">
+            <enum name="LEFT" value="3" />
+            <enum name="TOP" value="48" />
+            <enum name="RIGHT" value="5" />
+            <enum name="BOTTOM" value="80" />
+        </attr>
+        <!-- 设置icon与文字间距 -->
+        <attr name="tl_iconMargin" format="dimension" />
+        <attr name="lineVertical" format="boolean" />
+
+    </declare-styleable>
+
+    <declare-styleable name="MsgView">
+        <!-- 圆角矩形背景色 -->
+        <attr name="mv_backgroundColor" format="color" />
+        <!-- 圆角弧度,单位dp-->
+        <attr name="mv_cornerRadius" format="dimension" />
+        <!-- 圆角弧度,单位dp-->
+        <attr name="mv_strokeWidth" format="dimension" />
+        <!-- 圆角边框颜色-->
+        <attr name="mv_strokeColor" format="color" />
+        <!-- 圆角弧度是高度一半-->
+        <attr name="mv_isRadiusHalfHeight" format="boolean" />
+        <!-- 圆角矩形宽高相等,取较宽高中大值-->
+        <attr name="mv_isWidthHeightEqual" format="boolean" />
+    </declare-styleable>
+</resources>
\ No newline at end of file
Index: app/src/androidTest/java/com/example/sihan/restaurantrecommendation/ApplicationTest.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/androidTest/java/com/example/sihan/restaurantrecommendation/ApplicationTest.java	(revision )
+++ app/src/androidTest/java/com/example/sihan/restaurantrecommendation/ApplicationTest.java	(revision )
@@ -0,0 +1,13 @@
+package com.example.sihan.restaurantrecommendation;
+
+import android.app.Application;
+import android.test.ApplicationTestCase;
+
+/**
+ * <a href="http://d.android.com/tools/testing/testing_android.html">Testing Fundamentals</a>
+ */
+public class ApplicationTest extends ApplicationTestCase<Application> {
+    public ApplicationTest() {
+        super(Application.class);
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Restaurant.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Restaurant.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/Restaurant.java	(revision )
@@ -0,0 +1,84 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of Restaurant here.
+ *
+ * @version (a version number or a date)
+ * @di.yao_1301853 (your name)
+ */
+
+public class Restaurant {
+    private String id;
+    private String title;
+    private int averageSpent;
+    private String categories;
+    private double environmentScore;
+    private double serviceScore;
+    private double flavorScore;
+    private String phoneNumber;
+    private String address;
+    private int distance;
+
+    public Restaurant(String anID, String aTitle, int anAverageSpent, String aCategories,
+                      double anEnvironmentScore, double aServiceScore, double aFlavorScore, String
+                              aPhoneNumber, String anAddress, int aDistance) {
+        id = anID.trim();
+        title = aTitle.trim();
+        averageSpent = anAverageSpent;
+        categories = aCategories.trim();
+        environmentScore = anEnvironmentScore;
+        serviceScore = aServiceScore;
+        flavorScore = aFlavorScore;
+        phoneNumber = aPhoneNumber.trim();
+        address = anAddress.trim();
+        distance = aDistance;
+    }
+
+    public String getID() {
+        return id;
+    }
+
+    public String getTitle() {
+        return title;
+    }
+
+    public int getAverageSpent() {
+        return averageSpent;
+    }
+
+    public String getCategories() {
+        return categories;
+    }
+
+    public double getEnvironmentScore() {
+        return environmentScore;
+    }
+
+    public double getServiceScore() {
+        return flavorScore;
+    }
+
+    public double getFlavorScore() {
+        return flavorScore;
+    }
+
+    public String getPhoneNumber() {
+        return phoneNumber;
+    }
+
+    public String getAddress() {
+        return address;
+    }
+
+    public int getDistance() {
+        return distance;
+    }
+
+    public String toString() {
+        String result = "Restaurant [id=" + id + ", title=" + title + ", average spent=" + averageSpent;
+        result += ", categories= " + categories + ", environment score=" + environmentScore + ", service core=" + serviceScore;
+        result += ", flavor score=" + flavorScore + ", distance=" + distance + "]";
+        return result;
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantLinkedList.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantLinkedList.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantLinkedList.java	(revision )
@@ -0,0 +1,126 @@
+/*
+ * To change this license header, choose License Headers in Project Properties.
+ * To change this template file, choose Tools | Templates
+ * and open the template in the editor.
+ */
+package com.example.sihan.restaurantrecommendation.Function;
+
+/**
+ * @author Ginxi
+ */
+
+public class RestaurantLinkedList {
+
+    private RestaurantNode listStart;
+    private RestaurantNode listEnd;
+    //constructor
+
+    public RestaurantLinkedList() {
+    }
+    //add to the start of the list
+
+    public void add(Restaurant b) {
+        listStart = new RestaurantNode(b, listStart);
+        if (listEnd == null) { // list was empty
+            listEnd = listStart; // 1 card in list
+        }
+    }
+
+    public void addend(Restaurant b) {
+        if (listStart == null) {
+            add(b);
+        } else {
+            listEnd.addend(b);
+            listEnd = listEnd.tail(); //update the pointer
+        }
+    }
+
+    public int length() {
+        // stores the number of nodes found so far
+        int len = 0;
+        // this variable traverses each node in the list
+        RestaurantNode n = listStart;
+        // find the end of the list
+        while (n != null) {
+            // found a node, so count it and move on
+            len++;
+            n = n.tail();
+        }
+        return len;
+    }
+
+    public void removeLast() {
+        if (listStart != null) {
+            RestaurantNode n = listStart;
+            while (n.tail().tail() != null) {
+                n = n.tail();
+            }
+            listEnd = n;
+            listEnd.chop();
+        }
+    }
+
+    public void removeFirst() {
+        if (listStart != null) {
+            listStart = listStart.tail();
+        }
+    }
+
+    public RestaurantNode getStartNode() {
+        return listStart;
+    }
+
+    public RestaurantNode getEndNode() {
+        return listEnd;
+    }
+
+//    public String toString() {
+//        String str = "";
+//        RestaurantNode n = listStart;
+//        while (n != null) {
+//            AnnotationLinkedList annList = (AnnotationLinkedList) n.head().getAnntationList();
+//            str += "Name: " + n.head().getName() + " Size: " + n.head().getSize() + " Owner: " + n.head().getOwner() + " Creation Date: " + n.head().getCreation_Date() + " Eclecticism: " + " Annotations: [" + annList.toString() + "]";
+//            n = n.tail();
+//        }
+//        return str;
+//    }
+
+    public class RestaurantNode {
+
+        private Restaurant head;
+        private RestaurantNode tail;
+
+        public RestaurantNode(Restaurant b, RestaurantNode t) {
+            head = b;
+            tail = t;
+        }
+
+        public RestaurantNode(Restaurant b) {
+            head = b;
+            tail = null;
+        }
+
+        public void chop() {
+            tail = null;
+        }
+
+        public Restaurant head() {
+            return head;
+        }
+
+        public RestaurantNode tail() {
+            return tail;
+        }
+
+        public void addend(Restaurant b) {
+            tail = new RestaurantNode(b);
+        }
+
+//        public String toString() {
+//            String str = "";
+//            AnnotationLinkedList annList = (AnnotationLinkedList) head.getAnntationList();
+//            str += "Name: " + head.getName() + " Size: " + head().getSize() + " Owner: " + head.getOwner() + " Creation Date: " + head.getCreation_Date() + " Eclecticism: " + " Annotations: [" + annList.toString() + "]";
+//            return str;
+//        }
+    }
+}
Index: app/src/main/res/layout/activity_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_login.xml	(revision )
+++ app/src/main/res/layout/activity_login.xml	(revision )
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.Login">
+
+    <include layout="@layout/content_login" />
+
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/user_fragment_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/user_fragment_main.xml	(revision )
+++ app/src/main/res/layout/user_fragment_main.xml	(revision )
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fillViewport="true">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:background="@color/menu_item_background"
+        android:orientation="vertical">
+
+        <ImageView
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:scaleType="fitXY"
+            android:src="@drawable/photo" />
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="vertical"
+            android:paddingLeft="@dimen/main_screen_side_padding"
+            android:paddingRight="@dimen/main_screen_side_padding"
+            android:paddingTop="@dimen/text_top_padding">
+
+            <TextView
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginBottom="@dimen/main_screen_side_padding"
+                android:text="@string/title"
+                android:textColor="@color/text_color"
+                android:textSize="@dimen/title_text_size" />
+
+            <TextView
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:text="@string/text"
+                android:textColor="@color/text_color"
+                android:textSize="@dimen/menu_text_size" />
+        </LinearLayout>
+    </LinearLayout>
+</ScrollView>
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/adapter/FilterAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/adapter/FilterAdapter.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/adapter/FilterAdapter.java	(revision )
@@ -0,0 +1,84 @@
+package sunger.net.org.dropmenu.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.BaseAdapter;
+import android.widget.TextView;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+import java.util.List;
+
+import butterknife.ButterKnife;
+import butterknife.InjectView;
+
+
+public class FilterAdapter extends BaseAdapter {
+
+    private Context context;
+    private List<String> list;
+    private int checkItemPosition = 0;
+
+    public FilterAdapter(Context context, List<String> list) {
+        this.context = context;
+        this.list = list;
+    }
+
+    public void setCheckItem(int position) {
+        checkItemPosition = position;
+        notifyDataSetChanged();
+    }
+
+    @Override
+    public int getCount() {
+        return list.size();
+    }
+
+    @Override
+    public Object getItem(int position) {
+        return null;
+    }
+
+    @Override
+    public long getItemId(int position) {
+        return position;
+    }
+
+    @Override
+    public View getView(int position, View convertView, ViewGroup parent) {
+        ViewHolder viewHolder;
+        if (convertView != null) {
+            viewHolder = (ViewHolder) convertView.getTag();
+        } else {
+            convertView = LayoutInflater.from(context).inflate(R.layout.item_default_drop_down, null);
+            viewHolder = new ViewHolder(convertView);
+            convertView.setTag(viewHolder);
+        }
+        fillValue(position, viewHolder);
+        return convertView;
+    }
+
+    private void fillValue(int position, ViewHolder viewHolder) {
+        viewHolder.mText.setText(list.get(position));
+        if (checkItemPosition != -1) {
+            if (checkItemPosition == position) {
+                viewHolder.mText.setTextColor(context.getResources().getColor(R.color.drop_down_selected));
+                viewHolder.mText.setBackgroundResource(R.color.check_bg);
+            } else {
+                viewHolder.mText.setTextColor(context.getResources().getColor(R.color.drop_down_unselected));
+                viewHolder.mText.setBackgroundResource(R.color.white);
+            }
+        }
+    }
+
+    static class ViewHolder {
+        @InjectView(R.id.text)
+        TextView mText;
+
+        ViewHolder(View view) {
+            ButterKnife.inject(this, view);
+        }
+    }
+}
Index: app/src/main/java/org/net/sunger/widget/DropDownLayout.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/org/net/sunger/widget/DropDownLayout.java	(revision )
+++ app/src/main/java/org/net/sunger/widget/DropDownLayout.java	(revision )
@@ -0,0 +1,96 @@
+package org.net.sunger.widget;
+
+import android.annotation.TargetApi;
+import android.content.Context;
+import android.os.Build;
+import android.util.AttributeSet;
+import android.view.View;
+import android.view.ViewTreeObserver;
+import android.widget.FrameLayout;
+
+/**
+ * Created by sunger on 16/4/16.
+ */
+public class DropDownLayout extends FrameLayout implements ViewTreeObserver.OnGlobalLayoutListener {
+
+    private MaskView mMaskView;
+    private MenuLayout mMenuLayout;
+
+    public DropDownLayout(Context context) {
+        this(context, null);
+    }
+
+    public DropDownLayout(Context context, AttributeSet attrs) {
+        this(context, attrs, 0);
+    }
+
+    public DropDownLayout(Context context, AttributeSet attrs, int defStyleAttr) {
+        this(context, attrs, defStyleAttr, 0);
+    }
+
+    @TargetApi(Build.VERSION_CODES.LOLLIPOP)
+    public DropDownLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {
+        super(context, attrs, defStyleAttr, defStyleRes);
+        getViewTreeObserver().addOnGlobalLayoutListener(this);
+    }
+
+    private void findChildView() {
+        for (int i = 0; i < getChildCount(); i++) {
+            if (mMaskView != null && mMenuLayout != null)
+                break;
+            View childItem = getChildAt(i);
+            if (childItem instanceof MaskView) {
+                mMaskView = (MaskView) childItem;
+            } else if (childItem instanceof MenuLayout) {
+                mMenuLayout = (MenuLayout) childItem;
+            }
+        }
+    }
+
+    @Override
+    public void onGlobalLayout() {
+        findChildView();
+        if (mMaskView == null || mMenuLayout == null) {
+            throw new IllegalArgumentException("you layout must be contain  MaskView MenuLayout");
+        }
+
+        if (Build.VERSION.SDK_INT < 16) {
+            removeLayoutListenerPre16();
+        } else {
+            removeLayoutListenerPost16();
+        }
+        mMenuLayout.setVisibility(GONE);
+        mMaskView.setVisibility(GONE);
+        mMaskView.setOnClickListener(new OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                closeMenu();
+            }
+        });
+
+    }
+
+    @SuppressWarnings("deprecation")
+    private void removeLayoutListenerPre16() {
+        getViewTreeObserver().removeGlobalOnLayoutListener(this);
+    }
+
+    @TargetApi(16)
+    private void removeLayoutListenerPost16() {
+        getViewTreeObserver().removeOnGlobalLayoutListener(this);
+    }
+
+
+    public void showMenuAt(int position) {
+        if (!mMenuLayout.isShow()) {
+            mMaskView.show();
+            mMenuLayout.show();
+        }
+        mMenuLayout.setCurrentItem(position);
+    }
+
+    public void closeMenu() {
+        mMaskView.dissMiss();
+        mMenuLayout.dissMiss();
+    }
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MannualSearch.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MannualSearch.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/MannualSearch.java	(revision )
@@ -0,0 +1,316 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.content.Context;
+import android.graphics.Bitmap;
+import android.graphics.BitmapFactory;
+import android.os.Bundle;
+import android.support.v4.view.PagerAdapter;
+import android.support.v4.view.ViewPager;
+import android.support.v4.view.ViewPager.OnPageChangeListener;
+import android.support.v7.app.AppCompatActivity;
+import android.text.Editable;
+import android.text.TextWatcher;
+import android.view.View;
+import android.view.ViewGroup;
+import android.view.ViewGroup.LayoutParams;
+import android.widget.AdapterView;
+import android.widget.EditText;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.Spinner;
+import android.widget.Toast;
+
+import com.example.sihan.restaurantrecommendation.Function.FirstRatings;
+import com.example.sihan.restaurantrecommendation.Function.Restaurant;
+import com.example.sihan.restaurantrecommendation.Function.SortRestaurant;
+import com.example.sihan.restaurantrecommendation.R;
+
+import java.io.InputStream;
+import java.util.ArrayList;
+
+public class MannualSearch extends AppCompatActivity implements OnPageChangeListener {
+    public InputStream isFile;
+    /**
+     * ViewPager
+     */
+    private String word = "";
+    private int averageSpent;
+    private String categories;
+    private String place;
+    private int distances;
+    private String scoreFlag;
+    private ViewPager viewPager;
+    private Spinner spinnerScore;
+    private Spinner spinnerAverage;
+    private Spinner spinnerDis;
+    private Spinner spinnerPlace;
+    private EditText search;
+    private String pf;
+    /**
+     * 装点点的ImageView数组
+     */
+    private ImageView[] tips;
+
+    /**
+     * 装ImageView数组
+     */
+    private ImageView[] mImageViews;
+
+    /**
+     * 图片资源id
+     */
+    private int[] imgIdArray;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_mannual_search);
+        //  findViewById(R.id.searchField).setOnClickListener(new View.OnClickListener() {
+        // @Override
+        // public void onClick(View v) {
+        //  rankFactor();
+        //   Intent intent = new Intent(MannualSearch.this, new_man.class);
+        //  Intent data = new Intent();
+        //   data.putExtra("data", pf);
+        //  startActivity(new Intent(MannualSearch.this, new_drop.class));
+        //  }
+        // });
+        search = (EditText) findViewById(R.id.et_search1);
+        TextWatcher watcher = new TextWatcher() {
+
+            @Override
+            public void onTextChanged(CharSequence s, int start, int before, int count) {
+                // TODO Auto-generated method stub
+                word = s.toString();
+
+            }
+
+            @Override
+            public void beforeTextChanged(CharSequence s, int start, int count,
+                                          int after) {
+                // TODO Auto-generated method stub
+
+            }
+
+            @Override
+            public void afterTextChanged(Editable s) {
+                // TODO Auto-generated method stub
+
+            }
+        };
+        search.addTextChangedListener(watcher);
+
+
+        ViewGroup group = (ViewGroup) findViewById(R.id.viewGroup);
+        viewPager = (ViewPager) findViewById(R.id.viewPager);
+
+        //载入图片资源ID
+        imgIdArray = new int[]{R.drawable.a, R.drawable.b, R.drawable.c, R.drawable.d,
+                R.drawable.e, R.drawable.f, R.drawable.g, R.drawable.h};
+
+
+        //将点点加入到ViewGroup中
+        tips = new ImageView[imgIdArray.length];
+        for (int i = 0; i < tips.length; i++) {
+            ImageView imageView = new ImageView(this);
+            imageView.setLayoutParams(new LayoutParams(10, 10));
+            tips[i] = imageView;
+            if (i == 0) {     // changed
+                Bitmap bitmap = readBitMap(MannualSearch.this, R.drawable.page_indicator_focused);
+                tips[i].setImageBitmap(bitmap);
+                //tips[i].setBackgroundResource(R.drawable.page_indicator_focused);
+            } else {
+                Bitmap bitmap = readBitMap(MannualSearch.this, R.drawable.page_indicator_unfocused);
+                tips[i].setImageBitmap(bitmap);
+                //tips[i].setBackgroundResource(R.drawable.page_indicator_unfocused);
+            } // unchanged
+
+            LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT,
+                    LayoutParams.WRAP_CONTENT));
+            layoutParams.leftMargin = 5;
+            layoutParams.rightMargin = 5;
+            group.addView(imageView, layoutParams);
+        }
+
+
+        //将图片装载到数组中
+        mImageViews = new ImageView[imgIdArray.length];
+        for (int i = 0; i < mImageViews.length; i++) {    // changed
+            Bitmap bitmap = readBitMap(MannualSearch.this, imgIdArray[i]);
+            ImageView imageView = new ImageView(this);
+            mImageViews[i] = imageView;
+            //imageView.setBackgroundResource(imgIdArray[i]);
+            imageView.setImageBitmap(bitmap);
+        }  // unchanged
+
+        //设置Adapter
+        viewPager.setAdapter(new MyAdapter());
+        //设置监听，主要是设置点点的背景
+        viewPager.setOnPageChangeListener(this);
+        //设置ViewPager的默认项, 设置为长度的100倍，这样子开始就能往左滑动
+        viewPager.setCurrentItem((mImageViews.length) * 100);
+        // changed
+        spinnerScore = (Spinner) findViewById(R.id.spinnerScore);
+        spinnerAverage = (Spinner) findViewById(R.id.spinnerAverage);
+        spinnerDis = (Spinner) findViewById(R.id.spinnerDistance);
+        spinnerPlace = (Spinner) findViewById(R.id.spinnerDestination);
+        spinnerScore.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                scoreFlag = getResources().getStringArray(R.array.Score)[pos];
+                //  Toast.makeText(MannualSearch.this, scoreFlag, Toast.LENGTH_LONG).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        spinnerAverage.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                averageSpent = Integer.parseInt(getResources().getStringArray(R.array.Average)[pos].substring(2));
+                //  Toast.makeText(MannualSearch.this, sxs, Toast.LENGTH_LONG).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        spinnerDis.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                String disFlag = getResources().getStringArray(R.array.Distance)[pos];
+                if (disFlag.length() > 5) {
+                    distances = Integer.parseInt(disFlag.substring(7, disFlag.length() - 1));
+                } else {
+                    distances = Integer.MAX_VALUE;
+                }
+                //  Toast.makeText(MannualSearch.this, Integer.toString(distances), Toast.LENGTH_LONG).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        spinnerPlace.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
+            @Override
+            public void onItemSelected(AdapterView<?> parent, View view,
+                                       int pos, long id) {
+
+                place = getResources().getStringArray(R.array.Destination)[pos];
+                if (place.equals("All"))
+                    place = "";
+                //    Toast.makeText(MannualSearch.this, placeFlag, 2000).show();
+            }
+
+            @Override
+            public void onNothingSelected(AdapterView<?> parent) {
+                // Another interface callback
+            }
+        });
+        // unchanged
+    }
+
+    @Override
+    public void onPageScrollStateChanged(int arg0) {
+
+    }
+
+    @Override
+    public void onPageScrolled(int arg0, float arg1, int arg2) {
+
+    }
+
+    @Override
+    public void onPageSelected(int arg0) {
+        setImageBackground(arg0 % mImageViews.length);
+    }
+
+    private void setImageBackground(int selectItems) {
+        for (int i = 0; i < tips.length; i++) {
+            if (i == selectItems) {   // changed
+                Bitmap bitmap = readBitMap(MannualSearch.this, R.drawable.page_indicator_focused);
+                tips[i].setImageBitmap(bitmap);
+                //   tips[i].setBackgroundResource(R.drawable.page_indicator_focused);
+            } else {
+                Bitmap bitmap = readBitMap(MannualSearch.this, R.drawable.page_indicator_unfocused);
+                //  tips[i].setBackgroundResource(R.drawable.page_indicator_unfocused);
+                tips[i].setImageBitmap(bitmap);
+            } // unchanged
+        }
+    }
+
+    public Bitmap readBitMap(Context context, int resId) {   // changed
+        BitmapFactory.Options opt = new BitmapFactory.Options();
+        opt.inPreferredConfig = Bitmap.Config.RGB_565;
+        opt.inPurgeable = true;
+        opt.inInputShareable = true;
+        //获取资源图片
+        InputStream is = context.getResources().openRawResource(resId);
+        return BitmapFactory.decodeStream(is, null, opt);
+    }   // unchanged
+
+    //    private void manSearch() {
+//        ArrayList<Restaurant> rs = new ArrayList<Restaurant>();
+//     //   Spinner spinnerScore = (Spinner) findViewById(com.example.sihan.restaurantrecommendation.R.id.spinnerScore);
+//     //   System.out.println(spinnerScore.getSelectedItem());
+//        FirstRatings s = new FirstRatings();
+//        rs = s.wantedRestaurants(word, averageSpent, categories,
+//                place, distances);
+//    }
+    // changed
+    private void rankFactor() {
+        FirstRatings fr = new FirstRatings();
+        ArrayList<Restaurant> rl = new ArrayList<Restaurant>();
+        categories = "";
+
+        isFile = getResources().openRawResource(R.raw.cse208data1short);
+        rl = fr.wantedRestaurants(word, averageSpent, categories, place, distances, isFile);
+        SortRestaurant sr = new SortRestaurant(rl);
+        sr.sortRest(scoreFlag);
+        pf = "";
+        for (Restaurant r : rl)
+            pf += r.toString();
+        Toast.makeText(MannualSearch.this, pf, Toast.LENGTH_LONG).show();
+    }
+
+    public class MyAdapter extends PagerAdapter {
+        @Override
+        public int getCount() {
+            return Integer.MAX_VALUE;
+        }
+
+        @Override
+        public boolean isViewFromObject(View arg0, Object arg1) {
+            return arg0 == arg1;
+        }
+
+        @Override
+        public void destroyItem(View container, int position, Object object) {
+            ((ViewPager) container).removeView(mImageViews[position % mImageViews.length]);
+        }
+
+        @Override
+        public Object instantiateItem(View container, int position) {
+            ((ViewPager) container).addView(mImageViews[position % mImageViews.length], 0);
+            return mImageViews[position % mImageViews.length];
+        }
+
+
+    }
+
+//    @Override
+//    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
+//        super.onActivityResult(requestCode, resultCode, data);
+//    }
+    // unchanged
+}
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerSimilarRatings.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerSimilarRatings.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Function/RestaurantRunnerSimilarRatings.java	(revision )
@@ -0,0 +1,32 @@
+package com.example.sihan.restaurantrecommendation.Function;
+
+
+/**
+ * Write a description of RestaurantRunnerSimilarRatings here.
+ *
+ * @di.yao_1301853 (your name)
+ * @version (a version number or a date)
+ */
+
+import java.util.ArrayList;
+
+public class RestaurantRunnerSimilarRatings {
+    public void printSimilarRatingsByCategories() {
+        String userFile = "CSE208Data2Short.csv";
+        String restaurantFile = "raw/cse208data1short.csv";
+        FourthRatings example = new FourthRatings();
+        // UserDatabase.initialize(userFile);
+        System.out.println("The number of users in " + userFile + ": " + UserDatabase.size());
+        //  RestaurantDatabase.initialize(restaurantFile);
+        System.out.println("The number of restaurants in RestaurantDatabase is: " + RestaurantDatabase.size());
+
+        //Filter f = new categoriesFilter("South Korean dish");
+        Filter f = new distanceFilter(1000);
+        ArrayList<Rating> output = example.getSimilarRatingsByFilter("1", 7, 2, f);
+        for (Rating currentRating : output) {
+            System.out.println(RestaurantDatabase.getTitle(currentRating.getItem()) + " " + currentRating.getAverageValue());
+
+        }
+        System.out.println(" ");
+    }
+}
Index: app/src/main/res/layout/layout_tab_left.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab_left.xml	(revision )
+++ app/src/main/res/layout/layout_tab_left.xml	(revision )
@@ -0,0 +1,53 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <LinearLayout
+        android:id="@+id/ll_tap"
+        android:layout_width="wrap_content"
+        android:layout_height="match_parent"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:orientation="horizontal">
+
+        <ImageView
+            android:id="@+id/iv_tab_icon"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+
+        <TextView
+            android:id="@+id/tv_tab_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:singleLine="true" />
+
+
+    </LinearLayout>
+
+
+    <sunger.net.org.dropmenu.tab.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_toRightOf="@+id/ll_tap"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+    <View
+        android:layout_width="1dp"
+        android:layout_height="match_parent"
+        android:layout_alignParentRight="true"
+        android:layout_marginBottom="2dp"
+        android:layout_marginTop="2dp"
+        android:background="#f0f0f0"></View>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/sunger/net/org/dropmenu/new_drop.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/sunger/net/org/dropmenu/new_drop.java	(revision )
+++ app/src/main/java/sunger/net/org/dropmenu/new_drop.java	(revision )
@@ -0,0 +1,173 @@
+package sunger.net.org.dropmenu;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.support.v4.app.Fragment;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.LinearLayoutManager;
+import android.support.v7.widget.RecyclerView;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import com.example.sihan.restaurantrecommendation.Function.Restaurant;
+import com.example.sihan.restaurantrecommendation.R;
+
+import org.net.sunger.widget.DropDownLayout;
+import org.net.sunger.widget.MenuLayout;
+
+import java.util.ArrayList;
+import java.util.List;
+
+import sunger.net.org.dropmenu.fragment.FragmentPrice;
+import sunger.net.org.dropmenu.fragment.FragmentRange;
+import sunger.net.org.dropmenu.fragment.FragmentScore;
+import sunger.net.org.dropmenu.tab.CommonTabLayout;
+import sunger.net.org.dropmenu.tab.listener.CustomTabEntity;
+import sunger.net.org.dropmenu.tab.listener.OnTabSelectListener;
+
+public class new_drop extends AppCompatActivity {
+    private CommonTabLayout tabs;
+    private String[] mTitles = {"Score Ranking", "Price Ranking", "Distance Ranking"};
+    private int[] mIconUnselectIds = {
+            R.mipmap.tab_floor_unselected, R.mipmap.tab_category_unseleted,
+            R.mipmap.tab_sort_unseleted};
+    private int[] mIconSelectIds = {
+            R.mipmap.tab_floor_selected, R.mipmap.tab_category_seleted,
+            R.mipmap.tab_floor_selected};
+    private ArrayList<CustomTabEntity> mTabEntities = new ArrayList<>();
+    private DropDownLayout dropDownLayout;
+    private MenuLayout menuLayout;
+    private ShopAdapter shopAdapter;
+    private String inputString;
+    private String[] restaurantList;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        Intent intent = getIntent();
+        inputString = intent.get("new_man");
+        if (inputString != null) {
+            restaurantList = inputString.split(";");
+            //  Toast.makeText(new_drop.this, restaurantList[0], Toast.LENGTH_LONG).show();
+        } else {
+            restaurantList = new String[]{"Restaurant 1"};
+        }
+
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.new_drop_ac);
+        menuLayout = (MenuLayout) findViewById(R.id.menuLayout);
+        dropDownLayout = (DropDownLayout) findViewById(R.id.dropdown);
+        List<Fragment> fragments = new ArrayList<>();
+        fragments.add(new FragmentScore());
+        fragments.add(new FragmentPrice());
+        fragments.add(new FragmentRange());
+//         menuLayout.setAnimationIn(R.anim.an);
+//         menuLayout.setAnimationOut(R.anim.out);
+        menuLayout.setFragmentManager(getSupportFragmentManager());
+        menuLayout.bindFragments(fragments);
+        tabs = (CommonTabLayout) findViewById(R.id.tabs);
+        updateTabData();
+
+        tabs.setOnTabSelectListener(new OnTabSelectListener() {
+            @Override
+            public void onTabSelect(int position) {
+                dropDownLayout.showMenuAt(position);
+            }
+
+            @Override
+            public void onTabReselect(int position) {
+                if (menuLayout.isShow()) {
+                    dropDownLayout.closeMenu();
+                } else {
+                    dropDownLayout.showMenuAt(position);
+                }
+
+            }
+        });
+
+        shopAdapter = new ShopAdapter(restaurantList);
+        RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recyclerView);
+        recyclerView.setLayoutManager(new LinearLayoutManager(this));
+        recyclerView.setAdapter(shopAdapter);
+    }
+
+    private void updateTabData() {
+        mTabEntities.clear();
+        for (int i = 0; i < mTitles.length; i++) {
+            mTabEntities.add(new TabEntity(mTitles[i], mIconSelectIds[i], mIconUnselectIds[i]));
+        }
+        tabs.setTabData(mTabEntities);
+    }
+
+    public void onFilter(int type, String tag) {
+        dropDownLayout.closeMenu();
+        switch (type) {
+            case 0:
+                mTitles[0] = tag;
+                break;
+            case 1:
+                mTitles[1] = tag;
+
+                break;
+            case 2:
+                mTitles[2] = tag;
+                break;
+        }
+        updateTabData();
+    }
+
+    public class ShopAdapter extends RecyclerView.Adapter<ShopAdapter.ShopViewHoler> {
+        //  private LayoutInflater mInflater;
+        private String[] text;
+        private int[] img = {R.drawable.a};
+
+        public ShopAdapter(Restaurant[] restaurant) {
+            text = restaurant;
+        }
+
+        @Override
+        public ShopViewHoler onCreateViewHolder(ViewGroup parent, int viewType) {
+            ShopViewHoler svh = new ShopViewHoler(LayoutInflater.from(new_drop.this).inflate(R.layout.list_item, parent, false));
+            //  ImageView imv = ImageView.p arent.getResources()
+            //   View view = mInflater.inflate(R.layout.new_drop_con,
+            //          parent, false);
+            //   ShopViewHoler viewHolder = new ShopViewHoler(view);
+            //   viewHolder.mImage = (ImageView) view.findViewById(R.);
+            //   ImageView tv = (ImageView) parent.getChildAt(0);
+            //  tv.setHeight(300);
+            return svh;
+        }
+
+        @Override
+        public void onBindViewHolder(ShopViewHoler holder, int position) {
+            //  holder.mTextView.setText(text[position]);
+            holder.mTextView.setText(text[position]);
+            holder.mImageView.setImageResource(img[0]);
+            // holder.mTextView.setImageResource(R.drawable.a);
+            //  holder.mImageView.setImageResource(img[position]);
+        }
+
+
+        @Override
+        public int getItemCount() {
+            return text.length;
+        }
+
+        public class ShopViewHoler extends RecyclerView.ViewHolder {
+
+            //     public final TextView mTextView;
+            public final ImageView mImageView;
+            public final TextView mTextView;
+
+            public ShopViewHoler(View itemView) {
+                super(itemView);
+//                mTextView=(TextView)itemView;
+                mTextView = (TextView) itemView.findViewById(R.id.id_item_text);
+                mImageView = (ImageView) itemView.findViewById(R.id.id_item_image);
+            }
+
+        }
+    }
+}
Index: app/src/main/res/anim/menu_out.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/anim/menu_out.xml	(revision )
+++ app/src/main/res/anim/menu_out.xml	(revision )
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<set xmlns:android="http://schemas.android.com/apk/res/android">
+    <translate
+        android:duration="300"
+        android:fromYDelta="0"
+        android:toYDelta="-100%p" />
+</set>
\ No newline at end of file
Index: app/src/main/res/layout/activity_result_list.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_result_list.xml	(revision )
+++ app/src/main/res/layout/activity_result_list.xml	(revision )
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="utf-8"?>
+<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:fitsSystemWindows="true"
+    tools:context="com.example.sihan.restaurantrecommendation.Activity.ResultList">
+
+    <include layout="@layout/content_result_list" />
+
+    <android.support.design.widget.FloatingActionButton
+        android:id="@+id/fab"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_gravity="bottom|end"
+        android:layout_margin="@dimen/fab_margin"
+        android:src="@android:drawable/ic_dialog_email" />
+
+</android.support.design.widget.CoordinatorLayout>
Index: app/src/main/res/layout/layout_tab_right.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/layout_tab_right.xml	(revision )
+++ app/src/main/res/layout/layout_tab_right.xml	(revision )
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:clipChildren="false"
+    android:clipToPadding="false">
+
+    <LinearLayout
+        android:id="@+id/ll_tap"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_centerInParent="true"
+        android:gravity="center"
+        android:orientation="horizontal">
+
+        <TextView
+            android:id="@+id/tv_tab_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:singleLine="true" />
+
+        <ImageView
+            android:id="@+id/iv_tab_icon"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content" />
+
+    </LinearLayout>
+
+    <sunger.net.org.dropmenu.tab.widget.MsgView xmlns:mv="http://schemas.android.com/apk/res-auto"
+        android:id="@+id/rtv_msg_tip"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_toRightOf="@+id/ll_tap"
+        android:gravity="center"
+        android:textColor="#ffffff"
+        android:textSize="11.5sp"
+        android:visibility="gone"
+        mv:mv_backgroundColor="#FD481F"
+        mv:mv_isRadiusHalfHeight="true"
+        mv:mv_strokeColor="#ffffff"
+        mv:mv_strokeWidth="1dp" />
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ContentFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ContentFragment.java	(revision )
+++ app/src/main/java/com/example/sihan/restaurantrecommendation/Activity/ContentFragment.java	(revision )
@@ -0,0 +1,88 @@
+package com.example.sihan.restaurantrecommendation.Activity;
+
+import android.graphics.Bitmap;
+import android.graphics.Canvas;
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+
+import com.example.sihan.restaurantrecommendation.R;
+
+import yalantis.com.sidemenu.interfaces.ScreenShotable;
+
+/**
+ * Created by Konstantin on 22.12.2014.
+ */
+public class ContentFragment extends Fragment implements ScreenShotable {
+    public static final String CLOSE = "Close";
+    public static final String BUILDING = "Building";
+    public static final String BOOK = "Book";
+    public static final String PAINT = "Paint";
+    public static final String CASE = "Case";
+    public static final String SHOP = "Shop";
+    public static final String PARTY = "Party";
+    public static final String MOVIE = "Movie";
+    protected ImageView mImageView;
+    protected int res;
+    private View containerView;
+    private Bitmap bitmap;
+
+    public static ContentFragment newInstance(int resId) {
+        ContentFragment contentFragment = new ContentFragment();
+        Bundle bundle = new Bundle();
+        bundle.putInt(Integer.class.getName(), resId);
+        contentFragment.setArguments(bundle);
+        return contentFragment;
+    }
+
+
+    @Override
+    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {
+        super.onViewCreated(view, savedInstanceState);
+        this.containerView = view.findViewById(R.id.container);
+    }
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        res = getArguments().getInt(Integer.class.getName());
+    }
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container,
+                             Bundle savedInstanceState) {
+        View rootView = inflater.inflate(R.layout.fragment_main, container, false);
+        mImageView = (ImageView) rootView.findViewById(R.id.image_content);
+        mImageView.setClickable(true);
+        mImageView.setFocusable(true);
+        mImageView.setImageResource(res);
+        return rootView;
+    }
+
+    @Override
+    public void takeScreenShot() {
+        Thread thread = new Thread() {
+            @Override
+            public void run() {
+                Bitmap bitmap = Bitmap.createBitmap(containerView.getWidth(),
+                        containerView.getHeight(), Bitmap.Config.ARGB_8888);
+                Canvas canvas = new Canvas(bitmap);
+                containerView.draw(canvas);
+                ContentFragment.this.bitmap = bitmap;
+            }
+        };
+
+        thread.start();
+
+    }
+
+    @Override
+    public Bitmap getBitmap() {
+        return bitmap;
+    }
+}
+
